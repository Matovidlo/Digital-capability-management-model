Summary,Issue key,Issue id,Issue Type,Status,Project key,Project name,Project type,Project lead,Project lead id,Project description,Project url,Priority,Resolution,Assignee,Assignee Id,Reporter,Reporter Id,Creator,Creator Id,Created,Updated,Last Viewed,Resolved,Affects versions,Fix versions,Components,Components,Components,Components,Components,Due date,Votes,Labels,Labels,Labels,Labels,Description,Environment,Original estimate,Remaining Estimate,Time Spent,Work Ratio,Σ Original Estimate,Σ Remaining Estimate,Σ Time Spent,Security Level,Outward issue link (Blocks),Outward issue link (Blocks),Outward issue link (Blocks),Outward issue link (Blocks),Outward issue link (Blocks),Outward issue link (Blocks),Outward issue link (Duplicate),Outward issue link (Problem/Incident),Outward issue link (Problem/Incident),Outward issue link (Problem/Incident),Outward issue link (Relates),Outward issue link (Relates),Custom field (Blocked By),Custom field (Blocked By),Custom field (Blocking),Custom field (Blocking),Custom field (Development),Custom field (Epic Link),Custom field (External issue ID),Custom field (External issue ID),Custom field (Issue color),Custom field (Link to failed job),Custom field (Link to fix),Custom field (Link to logs),Custom field (Milestone),Custom field (Milestone),Custom field (OFT error type),Custom field (OST Suite type),Custom field (OST error from log),Custom field (OST failed patch),Custom field (OST test name),Custom field (Priority),Custom field (Priority),Custom field (Rank),Custom field (Request Type),Custom field (Request participants),Custom field (Responsible patch),Satisfaction rating,Custom field (Severity),Custom field (Severity),Custom field (Start date),Custom field (Story point estimate),Custom field (Target end),Custom field (Target start),Custom field (Version),Custom field ([CHART] Date of First Response),Custom field (oVirt version),Custom field (project),Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Status Category
a new project on jira for jiralert test tickets,OVIRT-2979,35170,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Low,Done,Evgheni Dereveanchin,557058:caa507e4-2696-4f45-8da5-d2585a4bb794,Shlomi Zidmi,5c977456c430371a3c67dbf6,Shlomi Zidmi,5c977456c430371a3c67dbf6,23/Jul/20 9:16 AM,28/Jul/20 6:33 AM,18/Feb/21 3:54 AM,28/Jul/20 6:33 AM,,,,,,,,,0,,,,,"This ticket is for creating a dummy project on Jira that could be linked with Jiralert.
Such a project would be helpful in testing different use cases.
",,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,0|i00l1b:,,,,,,,,,,,,2020-07-27 14:30:58.599,,,"27/Jul/20 9:30 AM;557058:caa507e4-2696-4f45-8da5-d2585a4bb794;Test project created: [https://ovirt-jira.atlassian.net/secure/RapidBoard.jspa?projectKey=DEMO|https://ovirt-jira.atlassian.net/secure/RapidBoard.jspa?projectKey=DEMO]

[~accountid:5c977456c430371a3c67dbf6] could you please confirm you can access it and create issues? I’ve made you the default assignee.","28/Jul/20 5:25 AM;5c977456c430371a3c67dbf6;Yes, I can. Thanks

We need to make sure that Alertmanager_bot is able create tickets as well. I’ll check that once I have Jiralert deployed on staging Prometheus ",,,,,,,,,,,,,,,,,Done
IPv6 for Carla,OVIRT-2960,35151,New Feature,To Do,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,,Evgheni Dereveanchin,557058:caa507e4-2696-4f45-8da5-d2585a4bb794,Marc Dequènes (Duck),557058:06620dac-7815-415e-9b2a-b834ef470861,Marc Dequènes (Duck),557058:06620dac-7815-415e-9b2a-b834ef470861,11/Jun/20 9:08 AM,15/Jun/20 7:09 AM,18/Feb/21 3:54 AM,,,,,,,,,,0,,,,,"Carla.osci.io, which is used as NS and MX for many communities needs IPv6 support.

Since it cannot be added where Carla is currently hosted, could we move it anywhere nice and IPv6 compliant which is not close to the Community Cage (for geographic redundancy) please?
",,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,0|i00kx3:,,,,,,,,,,,,2020-06-15 11:36:41.871,,,"15/Jun/20 6:36 AM;557058:caa507e4-2696-4f45-8da5-d2585a4bb794;IBM cloud should be a good place to host this VM, will review if it offers IPv6 and confirm what needs to be done to create an instance there. Another note: el8 is not supported there currently, so the best alternative is to get el7 and upgrade.","15/Jun/20 7:09 AM;557058:06620dac-7815-415e-9b2a-b834ef470861;We absolutely need EL8 fir MTA-STS validation support but I’m fine with upgrading now :-).

Thanks for looking into it.",,,,,,,,,,,,,,,,,To Do
RPM repository for storing OST VM images,OVIRT-2914,35105,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,Done,Evgheni Dereveanchin,557058:caa507e4-2696-4f45-8da5-d2585a4bb794,Marcin Sobczyk,5b7bd5022762c957ea676264,Marcin Sobczyk,5b7bd5022762c957ea676264,21/Apr/20 6:42 AM,22/Apr/20 6:20 AM,18/Feb/21 3:54 AM,22/Apr/20 6:20 AM,,,,,,,,,0,,,,,"I'm working on a PoC that uses RPMs to distribute VM images used in OST.
This would vastly shorten the running time of suites.

For my setup I would need an RPM repository that could hold ~10GB for now, and somewhere in terms of tens of gigabytes later. This repository should be readable and writable by CI jobs. For now I would also need to be able to access it (rw) outside of CI environment with sshfs or something else. Something like https://templates.ovirt.org/repo/ would be perfect. Would that be possible?",,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,0|i00kmv:,,,,,,,,,,,,2020-04-21 11:49:48.509,,,"21/Apr/20 6:49 AM;557058:5ca52a09-2675-4285-a044-12ad20f6166a;[~accountid:557058:caa507e4-2696-4f45-8da5-d2585a4bb794] I moved this from OST queue, so pinging to make sure this is not lost.","21/Apr/20 9:01 AM;557058:caa507e4-2696-4f45-8da5-d2585a4bb794;Hi Marcin,

I vote to re-use [templates.ovirt.org|http://templates.ovirt.org] and just add another volume to that VM to host RPMs.

Could you please share your SSH pubkey for intermediate access? Alternatively you can send the patch directly to the production branch of infra-puppet as in this example: [https://gerrit.ovirt.org/#/c/104228/|https://gerrit.ovirt.org/#/c/104228/]

Note: SSH will only work from an IP inside the company so hopefully you have a jump host that could be used for that. Otherwise please let me know.

","21/Apr/20 9:10 AM;5b7bd5022762c957ea676264;{quote}I vote to re-use [templates.ovirt.org|http://templates.ovirt.org] and just add another volume to that VM to host RPMs.{quote}

Works for me.

{quote}Could you please share your SSH pubkey{quote}

Sure



{noformat}ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQC9cjyDtAYdsSxOnni0iFGVPBJ8ol2l1ZUN+YoyXsBP16ZqBjOIihY9BwExO7VVPsZSLh2vbTGek2acCGfdV5aUi5aZEPAAgTaXVop8D03D+bJLsOWoCmECwYhVuSnbm3r5ce83TuhjyvRgivpx8JPgRFbquuag89RChIUoPmJji65T3hINDV71UDcfikLWTiNsT+dhAccFsmBPKjec1zhEEiXJs6NO5ZqUTYpXA3UaC2UQWI6mtNIlyz9WLxtw09uZxcHV+OVoQH5q+VEDrdqnp09utyr6Rcr80HsJwqjNcC3l0LBDu8Ud9d7r1PIEhIwwlnd8syYYCaT+AD2t9YTr4j3sHhtgRG7SGpiM2Oi1rSr/MgeUAIcxLO7XaUa1cUNbiHFuMt5H7+rEE1Na6UUj1d1EsiT27O3FmBGdvlU0k78kyLIIV8LM3XXpAEQ+5BF96j0i1WSr8DB9BbcinIt1Vh8LeBM/WnMNn2M/hkwSepfQZCG39IWTLpmwcAnSPaM= tinez@tinez.laptop
{noformat}

{quote}Note: SSH will only work from an IP inside the company so hopefully you have a jump host{quote}

I have some VMs - hopefully they will work for me.

Thank you very much\!

","21/Apr/20 10:50 AM;557058:caa507e4-2696-4f45-8da5-d2585a4bb794;Thanks, I’ve added your user so you can try SSH’ing as msobczyk[@templates.ovirt.org|mailto:msobczyk@templates.ovirt.org] - once that works I’ll create a new directory for the yum repo and give your user permissions",22/Apr/20 5:31 AM;5b7bd5022762c957ea676264;I confirm that ssh access is working for me,"22/Apr/20 5:53 AM;557058:caa507e4-2696-4f45-8da5-d2585a4bb794;great, thanks for trying it out\!



I’ve attached a new partition to /var/www/html/yum and made your user the owner. You can create repo directories there and populate them with packages and we can later also make Jenkins push files directly to this directory.",22/Apr/20 5:56 AM;5b7bd5022762c957ea676264;Just tried it out - everything works. I think I have all I needed for now. Thank you very much\!,"22/Apr/20 6:20 AM;557058:caa507e4-2696-4f45-8da5-d2585a4bb794;Closing the ticket, once we want to automate publishing to the template server let's open a new one.

For reference, the new partition is 60GB ins isze and exposed as https://templates.ovirt.org/yum/",,,,,,,,,,,Done
CI: Add the option to send and email if stage fails,OVIRT-2788,34953,New Feature,To Do,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,,infra,557058:11f1b41b-2c35-4fdf-b282-1510ce705d4d,Bell Levin,5bbdad8abf31e63b857be70d,Bell Levin,5bbdad8abf31e63b857be70d,03/Sep/19 8:30 AM,05/Sep/19 2:50 AM,18/Feb/21 3:54 AM,,,,CI client projects,,,,,,0,,,,,"Added the poll-upstream-sources stage to be ran every night on vdsm \[1]. I think it is useful if an email is sent to selected people if the stage has failed.

Such option is available in V1 (namely, the nightly ost network suite), and would help me out if implemented in V2 as well.

\[1] [https://gerrit.ovirt.org/#/c/102901/|https://gerrit.ovirt.org/#/c/102901/]

FYI [~accountid:557058:866c109f-3951-4680-8dac-b76caf296501] [~accountid:557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2] [~accountid:5aa0f39f5a4d022884128a0f] ",,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,0|i00jp3:,,,,,,,,,,,,2019-09-04 15:25:23.661,,,04/Sep/19 10:25 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;[~accountid:557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2] [~accountid:5aa0f39f5a4d022884128a0f] Can you assist? where is the email definition for upstream sources is done ?,"05/Sep/19 2:50 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;its not something you can define ATM.

[~accountid:557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2] started implementing this when we were working on the general notifications mechanism (That was mean to be used for the tag stages as well) for STDCI but he moved to work on other things.",,,,,,,,,,,,,,,,,To Do
Ugprade oVirt's OpenShift instance to OKD 4.x,OVIRT-2744,34909,New Feature,To Do,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,,Evgheni Dereveanchin,557058:caa507e4-2696-4f45-8da5-d2585a4bb794,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,25/Jun/19 4:21 AM,25/Jun/19 10:36 AM,18/Feb/21 3:54 AM,,,,OpenShift,,,,,,0,,,,,"Reasons to do this:
* Automated OKD upgrades
* Support for OpenShift pipelines (Knative/Tekton)

Issues we need to solve:
* The OS for the OKD nodes (CentOS CoreOS 8.x not release yet)
* OKD Installer support for oVirt ([~accountid:557058:9dad5d71-a0ff-41ba-8b8d-be4412f4f3fb]'s patches not merged & released yet)
",,,,,,,,,,,,,,,,,,,,OVIRT-2743,,,,,,{},,,,,,,,,,,,,,,,,0|i00jfb:,,,,,,,,,,,,2019-06-25 11:51:31.4,,,"25/Jun/19 4:23 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;cc: [~accountid:557058:2dee8503-051b-4630-8a75-2c544524dce8], [~accountid:557058:f57f4f3d-a7d2-40b5-8ef1-94b6bbbf8dc7], [~accountid:557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2]","25/Jun/19 6:51 AM;557058:caa507e4-2696-4f45-8da5-d2585a4bb794;There is no option to upgrade in-place so we should install a separate OKD4 deployment and move workloads to it.

I don’t see any upstream documentation but downstream OpenShift 4.1 can install on these platforms:

# AWS
# [Bare metal|https://access.redhat.com/documentation/en-us/openshift_container_platform/4.1/html-single/installing/index#installing-on-bare-metal]
# vSphere

I’ve also heard that libvirt is an experimental option and there is an oVirt [controller|https://github.com/oVirt/ovirt-openshift-extensions] in the works however not sure if it’s compatible with v4 and if it can set up the control plane. 



[~accountid:557058:9dad5d71-a0ff-41ba-8b8d-be4412f4f3fb] could you please share more info on the state of things with OKDv4 on oVirt? 

If this is not ready we can just go with the “Bare Metal“ setup and use oVirt VMs instead for the control plane.","25/Jun/19 8:17 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;Does it make sense to upgrade first to 3.11?

Are we sure 4.0 can support any of the existing workloads we are running today for oVirt and KubeVirt?","25/Jun/19 8:52 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;{quote}Does it make sense to upgrade first to 3.11?{quote}

I don't think so

{quote}Are we sure 4.0 can support any of the existing workloads we are running today for oVirt and KubeVirt?{quote}

Than's the nice thing about containers and kubernetes - we're pretty sure, since the core stuff pretty much still works the same. The most significant thing is the move to CRIO, but we need to do that sooner or later anyway, and don't forget that both Docker and CRIO, at their core just use RunC to actually run the containers.

We'll need to setup a staging environment and try it first off course... ",25/Jun/19 9:00 AM;557058:caa507e4-2696-4f45-8da5-d2585a4bb794;I agree with Barak on both points. Will try to make sense of the bare metal deployment and replace our staging env with v4.1 so that we can do more tests there. Hopefully we can make use of Kubevirt too to use it for running VMs on bare metals. ,"25/Jun/19 9:25 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;Please have a chat with [~accountid:557058:9dad5d71-a0ff-41ba-8b8d-be4412f4f3fb], it might be worth it to wait a while for the automation he's working on to land.","25/Jun/19 10:36 AM;557058:caa507e4-2696-4f45-8da5-d2585a4bb794;Agreed, we better do it right the first time as the automated option is much more flexible and dynamic.",,,,,,,,,,,,To Do
please move ovirt-openshift-extensions to container based slaves,OVIRT-2681,34845,New Feature,To Do,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,,infra,557058:11f1b41b-2c35-4fdf-b282-1510ce705d4d,Roy Golan,557058:9dad5d71-a0ff-41ba-8b8d-be4412f4f3fb,Roy Golan,557058:9dad5d71-a0ff-41ba-8b8d-be4412f4f3fb,17/Feb/19 8:41 AM,21/Feb/19 2:37 AM,18/Feb/21 3:54 AM,,,,CI client projects,Jenkins Slaves,mock_runner,,,,0,ovirt-openshift-extensions,,,,"I'd like to use multi-stage container builds, please adjust
ovirt/ovirt-openshift-extensions project accordingly.

Thanks,
  Roy",,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,0|i00j13:,,,,,,,,,,,,2019-02-21 08:36:48.832,,,"21/Feb/19 2:36 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;[~accountid:557058:9dad5d71-a0ff-41ba-8b8d-be4412f4f3fb] I'm afraid we can't do that ATM, because container slaves are currently reserved for stuff that runs on bare metal.

We'll need to containerize the VM slaves first.",,,,,,,,,,,,,,,,,,To Do
"Add posibility to remove changes from change queue before change, which actually fixes the issue",OVIRT-2633,34797,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,Won't Do,infra,557058:11f1b41b-2c35-4fdf-b282-1510ce705d4d,Martin Perina,557058:7013bb8c-48b2-4b9b-898e-eccf5fb61fad,Martin Perina,557058:7013bb8c-48b2-4b9b-898e-eccf5fb61fad,21/Dec/18 4:13 AM,29/Aug/19 9:12 AM,18/Feb/21 3:54 AM,01/Jan/19 8:03 AM,,ovirt-infra-aug-2019,Change Queue,,,,,,0,,,,,"Let's have a patch P1, which created an issue and failed verification in change queue. Until a fix is prepared and merged as P10, there were merged other patches P2 - P9. Because P10 is merged as last, it contains all previous changes. And because we already know that P2 - P9 will fail, there is no reason to verify those changes and there should be a way how to remove them from the change queue, so P10 can be verified as soon as possible. Otherwise we are wasting valuable recources.",,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,0|i00iqf:,,,,,,,,,,,,2018-12-23 08:49:40.524,,,"23/Dec/18 2:49 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;[~accountid:557058:5fc78873-359e-47c9-aa0b-4845b0da8143] any thoughts? 
","23/Dec/18 3:21 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;Not needed - this request seems to be based on an incorrect assumption that the change queue is testing changes one-by-one serially.

In the case mentioned above, if we suppose we already reported P1 as failed, and P10 has been merged, and lets realistically assume it was not merged before the next CQ test started, so what will happen is that P2-P9 will be tested together and fail, and from then it will take Log(2)(8) = 3 cycles to detect and throw away P2. If P10 is merged in the meantime - the next test will test P3-P10 and succeed, passing all changes assuming there are no further regressions.

","23/Dec/18 3:24 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;I've created OVIRT-1852 in the past to try and optimize the CQ algorithm for the case mentioned here.

We could also consider allowing manual removal of changes in case we are certain we don't want to test them - but allowing that may be risky.","01/Jan/19 8:03 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;not a bug as explained.
We will follow up on improvements for CQ ( if possible ) on the other open tickets.",,,,,,,,,,,,,,,Done
Allow rerunning only failed test lanes,OVIRT-2617,34780,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,Fixed,infra,557058:11f1b41b-2c35-4fdf-b282-1510ce705d4d,Roman Mohr,5a7049108c59085781cd1c80,Roman Mohr,5a7049108c59085781cd1c80,06/Dec/18 3:47 AM,29/Aug/19 9:12 AM,18/Feb/21 3:54 AM,04/Jul/19 6:52 AM,,ovirt-infra-aug-2019,,,,,,,0,,,,,"Hi,

In KubeVirt we run a lot of differnent test lanes. Even if our tests are
written in a good way and if the underlying CI infra is stable and fast,
there will always be cases where for-whatever reason one or two tests can
fail out of hundreds in a lane.

It would be very helpful if we could have a /retest command or something
similar where only failed lanes are re-run. That would be similar to how it
is handled in Kubernetes.

Right now it is an all-or-nothing thing.

What I would expect, is that it is still possible to see the test history
somewhere then (e.g. the first two attempts where it failed and then the
third one where it succeeds).

Best Regards,

Roman",,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,0|i00imn:,,,,,,,,,,,,2018-12-31 13:46:37.23,,,"31/Dec/18 7:46 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;We will need to asses how much value/improvement it will bring to the CI and then target to one of the future sprints.

In any case we'll track it here:
https://trello.com/c/4syVDHiD","14/Feb/19 5:15 AM;5a7049108c59085781cd1c80;Well if one suspicious lane fails, we write ""retest this please"". This runs everything again.","14/Feb/19 5:20 AM;5a7049108c59085781cd1c80;So think about sprint ends. Many people have PRs, they produce load. Things are already a little bit more unstable than usual, which will increase the amount of  failed lanes. So people will hit ""retest this please"" more often ...","04/Jul/19 6:52 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;This was achived in the end by moving to Prow.
There are no plans to add it to STD-CI at this stage.",,,,,,,,,,,,,,,Done
Piwik account for Laura Wright,OVIRT-2605,34768,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Low,Fixed,Laura Wright,557058:66bb80e9-1248-4703-a6ef-3b367355665f,Marc Dequènes (Duck),557058:06620dac-7815-415e-9b2a-b834ef470861,Marc Dequènes (Duck),557058:06620dac-7815-415e-9b2a-b834ef470861,30/Nov/18 1:51 AM,29/Aug/19 9:12 AM,18/Feb/21 3:54 AM,30/Nov/18 1:52 AM,,ovirt-infra-aug-2019,,,,,,,0,,,,,"On 2018-11-06 Laura asked for an account on Piwik to view the stats of the website.
",,,,,,,,,,,,,,,,,,,,,,,,,,{},OVIRT-403,,,,,,,,,,,,,,,,0|i00ik7:,,,,,,,,,,,,,,,"30/Nov/18 1:52 AM;557058:06620dac-7815-415e-9b2a-b834ef470861;I just created her account with read-only access to the website and sent her the details.
",,,,,,,,,,,,,,,,,,Done
Setup root cause analysis in Nagious so it dosn't flood mail in alers in network issues,OVIRT-2536,34696,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,Done,Evgheni Dereveanchin,557058:caa507e4-2696-4f45-8da5-d2585a4bb794,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,13/Oct/18 2:53 AM,29/Aug/19 9:12 AM,18/Feb/21 3:54 AM,22/Dec/18 5:13 AM,,ovirt-infra-aug-2019,monitoring,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,0|i00i4n:,,,,,,,,,,,,2018-10-15 08:22:20.7,,,"15/Oct/18 3:22 AM;557058:caa507e4-2696-4f45-8da5-d2585a4bb794;This is done by setting up inheritance of services - part of that work was done in OVIRT-2283
Still, need to identify what happened throughout the weekend to see if the issue was visible to outside users. Looks like gerrit didn't go down so it was confined to PHX.","15/Oct/18 6:53 AM;557058:caa507e4-2696-4f45-8da5-d2585a4bb794;Compared the timestamps and the outage happened on Saturday, October 13 between 7:36 and 9:38 GMT [~accountid:557058:f57f4f3d-a7d2-40b5-8ef1-94b6bbbf8dc7] [~accountid:557058:71f7543d-89dc-40eb-88ec-f938fdaa13c7] FYI as this may have caused CI failures on Saturday.","15/Oct/18 7:01 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;[~accountid:557058:caa507e4-2696-4f45-8da5-d2585a4bb794] you can close this as a duplicate if you think OVIRT-2283 is enough to track what I suggest.

But lets not use this ticket for tracking the particular incident on Oct 13th. I suggest you create a separate ticket for that if needed.",06/Nov/18 9:55 AM;557058:caa507e4-2696-4f45-8da5-d2585a4bb794;Another network issue between datacenters caused a flood of emails today. Will set up at least host hierarchy in nagios to get this under control,"22/Dec/18 5:13 AM;557058:caa507e4-2696-4f45-8da5-d2585a4bb794;I've set up the ""parents"" value for all hosts in PHX and OSAS so we should no longer get hundreds of emails when the whole DC is unreachable. Closing this for now but we may need to also define service dependencies which is more tricky.",,,,,,,,,,,,,,Done
Support for notifications configuration in STDCI DSL,OVIRT-2500,34660,New Feature,To Do,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,,Daniel Belenky,557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2,Daniel Belenky,557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2,Daniel Belenky,557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2,16/Sep/18 9:48 AM,16/Sep/18 9:48 AM,18/Feb/21 3:54 AM,,,,,,,,,,0,,,,,"As a developer, I  want to have the ability to configure different aspects of the CI system's notifications: who receives the notifications (the change/tag owner, list of maintainers, etc), what kind of notifications are sent (notify SCM, notify mail, etc) so that I wont miss important events in my proejct.",,,,,,,,,,,,,,,,,,,,,,,,,,{},OVIRT-2499,,,,,,,,,,,,,,,,0|i00hwv:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Trigger STDCI jobs upon tag,OVIRT-2490,34650,New Feature,To Do,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,,Ehud Yonasi,5aa0f39f5a4d022884128a0f,Daniel Belenky,557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2,Daniel Belenky,557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2,13/Sep/18 3:15 AM,12/Mar/19 2:43 AM,18/Feb/21 3:54 AM,,,,,,,,,,0,,,,,Trigger STDCI jobs when a new tag is pushed to the project.,,,,,,,,,,,,,,,,,,,,,,,,,,{},OVIRT-2499,,,,,,,,,,,,,,,,0|i00hun:,,,,,,,,,,,,2019-01-20 18:48:29.902,,,"20/Jan/19 12:48 PM;557058:2dee8503-051b-4630-8a75-2c544524dce8;I’m guessing this isn’t in progress, so moving to backlog","12/Mar/19 2:43 AM;5aa0f39f5a4d022884128a0f;Taking over the ticket, this will be my next task priority towards d/s automation. ",,,,,,,,,,,,,,,,,To Do
Make timeout configurable from STDCI DSL,OVIRT-2471,34631,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Highest,Fixed,Daniel Belenky,557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2,Daniel Belenky,557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2,Daniel Belenky,557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2,04/Sep/18 6:08 AM,29/Aug/19 9:12 AM,18/Feb/21 3:54 AM,13/Sep/18 3:14 AM,,ovirt-infra-aug-2019,,,,,,,0,,,,,"As new projects have new timeout requirements, we should allow them to configure the timeout from stdci.yaml.

The configuration should probably go to runtime_requirements and configurable under the 'timeout' key. The configuration should be from the following form: 
{code:java}
[0-9]+(\s+)?(h|s|m)
{code}
 and where h, s and m can have multiple forms such as hour, hours, minute, etc...

Example:
{code:java}
---
  runtime requirements:
    timeout: 2h
{code}
",,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,0|i00h8z:,,,,,,,,,,,,2018-09-04 11:15:36.833,,,"04/Sep/18 6:15 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;I don't think its really a runtime requirement, it can probably be its own option",,,,,,,,,,,,,,,,,,Done
Github ovirt PRs automatic response,OVIRT-2449,34610,New Feature,To Do,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,,infra,557058:11f1b41b-2c35-4fdf-b282-1510ce705d4d,Fred Rolland,5b7e642399f501590538361a,Fred Rolland,5b7e642399f501590538361a,23/Aug/18 3:37 AM,30/Aug/18 1:55 PM,18/Feb/21 3:54 AM,,,,GitHub,Standard CI (Pipelines),,,,,0,,,,,"Hi,

The majority of the oVirt projects are developped in gerrit while github
repository are just a mirror.

Sometimes, contributors are sending PR to the github.
We should have an automatic response to their PR with an explanantion and a
link to the gerrit page in ovirt.org.

Of course, it should be enable only on the projects that are hosted in
gerrit.

Regards,

Fred Rolland",,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,0|i00hlr:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Github push trigger will fail if was trigger by a tag push,OVIRT-2446,34607,New Feature,To Do,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,,infra,557058:11f1b41b-2c35-4fdf-b282-1510ce705d4d,Roy Golan,557058:9dad5d71-a0ff-41ba-8b8d-be4412f4f3fb,Roy Golan,557058:9dad5d71-a0ff-41ba-8b8d-be4412f4f3fb,21/Aug/18 10:53 AM,29/Aug/19 9:20 AM,18/Feb/21 3:54 AM,,,,,,,,,,0,,,,,"When pushing a tag to a GH it triggers the jenkins webhook. In the invoked
job,
it will try to fech a new head with that tag, but that will fail since the
repo doesn't have
a head since it is started as git init.

A breakdown from
https://jenkins.ovirt.org/job/oVirt_ovirt-openshift-extensions_standard-on-ghpush/57/console
- git init a repo

*14:57:15*  > git init
/home/jenkins/workspace/oVirt_ovirt-openshift-extensions_standard-on-ghpush/ovirt-openshift-extensions
# timeout=10

- git fetch tags (maybe the problem is here as it doesn't reffer to refs/tags)

*15:35:07* [check-merged.el7.x86_64]  > git fetch --tags --progress
https://gerrit.ovirt.org/jenkins +refs/heads/*:refs/remotes/origin/*

- fetch upstream changes, which is here a tag v0.3.2, so it uses
'refs/tags/v0.3.2'
*14:57:18*  > git fetch --tags --progress
https://github.com/oVirt/ovirt-openshift-extensions
+refs/tags/v0.3.2:myhead

This fails with
*14:57:19* stderr: error: cannot update ref 'refs/heads/myhead':
trying to write non-commit object
3c7b5a5d243d1f3bcecbe7b527726b06113d0ec5 to branch 'refs/heads/myhead'


While in regular merge with a tag on it uses 'refs/heads/master':

*15:35:10* [check-merged.el7.x86_64]  > git fetch --tags --progress
https://gerrit.ovirt.org/jenkins +refs/heads/master:myhead


Since refs/tags/v0.3.2 doesn't exist locally it can't reference it. Since
refs/heads/master exists locally it can create the alias 'myhead' to it.


I would like to have the option to push a tag and trigger a build but this
is not working atm without a commit attached to it.",,,,,,,,,,,,,,,,,,,,,,,blocked until we implement tag stage for STD-CI,,,{},,,,,,,,,,,,,,,,,0|i00hl3:,,,,,,,,,,,,2018-12-25 13:42:50.408,,,25/Dec/18 7:42 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;[~accountid:5aa0f39f5a4d022884128a0f][~accountid:557058:5fc78873-359e-47c9-aa0b-4845b0da8143] please add links to the tag stage tickets.,,,,,,,,,,,,,,,,,,To Do
Provide a windows template for L2 VM,OVIRT-2419,34580,New Feature,To Do,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,,infra,557058:11f1b41b-2c35-4fdf-b282-1510ce705d4d,Gal Ben Haim,557058:f57f4f3d-a7d2-40b5-8ef1-94b6bbbf8dc7,Gal Ben Haim,557058:f57f4f3d-a7d2-40b5-8ef1-94b6bbbf8dc7,09/Aug/18 3:58 AM,14/Aug/18 9:50 AM,18/Feb/21 3:54 AM,,,,OST,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},OVIRT-2241,,,,,,,,,,,,,,,,0|i00hf3:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Firefox claims 'gerrit.ovirt.org' uses weak encription,OVIRT-2373,34534,New Feature,To Do,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,,infra,557058:11f1b41b-2c35-4fdf-b282-1510ce705d4d,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,26/Jul/18 2:34 AM,26/Jul/18 2:34 AM,18/Feb/21 3:54 AM,,,,Gerrit/git,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,0|i00h4v:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Document the STDCI DSL 'release branches' option,OVIRT-2372,34533,New Feature,To Do,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,,infra,557058:11f1b41b-2c35-4fdf-b282-1510ce705d4d,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,26/Jul/18 1:35 AM,26/Jul/18 1:35 AM,18/Feb/21 3:54 AM,,,,Change Queue,Documentation,STDCI DSL,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,0|i00h4n:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Document the STDCI DSL 'reporting' option,OVIRT-2371,34532,New Feature,To Do,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,,infra,557058:11f1b41b-2c35-4fdf-b282-1510ce705d4d,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,26/Jul/18 1:34 AM,26/Jul/18 1:34 AM,18/Feb/21 3:54 AM,,,,Documentation,STDCI DSL,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,0|i00h4f:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
"Look at the Jenkins ""configuration-as-code"" plugin to automate more configuraiton",OVIRT-2366,34527,New Feature,To Do,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,,infra,557058:11f1b41b-2c35-4fdf-b282-1510ce705d4d,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,24/Jul/18 2:44 AM,24/Jul/18 2:44 AM,18/Feb/21 3:54 AM,,,,Jenkins Master,,,,,,0,,,,,"While JJB does a lot of cinfiguration for us, its limited to job and view configuration, the [configuration-as-code plugin|https://github.com/jenkinsci/configuration-as-code-plugin] may be able to allow us to configura more aspects of Jenkins automatically.",,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,0|i00h3j:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
docker_cleanup.py can't run without a whitelist value,OVIRT-2266,34425,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,Fixed,Ehud Yonasi,5aa0f39f5a4d022884128a0f,Ehud Yonasi,5aa0f39f5a4d022884128a0f,Ehud Yonasi,5aa0f39f5a4d022884128a0f,28/Jun/18 8:25 AM,03/Sep/19 6:18 AM,18/Feb/21 3:54 AM,16/Jul/18 4:11 AM,,OVIRT-INFRA-JUN-AUG-2018,docker_cleanup.py,,,,,,0,,,,,"there is a bug running docker_cleanup.py without args, because whitelisted images expects a not null value. ",,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,0|i00ghz:,,,,,,,,,,,,,,,"28/Jun/18 9:13 AM;5aa0f39f5a4d022884128a0f;sent a patch:
https://gerrit.ovirt.org/#/c/92654/",04/Jul/18 1:56 AM;5aa0f39f5a4d022884128a0f;can any1 review?,16/Jul/18 4:12 AM;5aa0f39f5a4d022884128a0f;patch merged. ,,,,,,,,,,,,,,,,Done
Make mock runner use the config files shipped with mock instead of its own set of files,OVIRT-2257,34416,New Feature,To Do,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,,infra,557058:11f1b41b-2c35-4fdf-b282-1510ce705d4d,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,26/Jun/18 8:01 AM,26/Jun/18 8:01 AM,18/Feb/21 3:54 AM,,,,mock_runner,,,,,,0,,,,,"As an oVirt CI team member, I want to not have to maintain mock configuration files.

As an oVirt developer I want distributions to be supported as soon as mock supports them without having to wait for the CI team to support it.",,,,,,,,,,OVIRT-2153,,,,,,,,,,,,,,,,{},OVIRT-2189,,,,,,,,,,,,,,,,0|i00gg7:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Install the Parametrized Remote Trigger plugin,OVIRT-2256,34415,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,Done,Evgheni Dereveanchin,557058:caa507e4-2696-4f45-8da5-d2585a4bb794,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,26/Jun/18 6:38 AM,02/Sep/18 10:50 AM,18/Feb/21 3:54 AM,24/Jul/18 7:29 PM,,OVIRT-INFRA-JUN-AUG-2018,Jenkins Master,,,,,,0,,,,,Please install the [Parametrized Remote Trigger|https://plugins.jenkins.io/Parameterized-Remote-Trigger] plugin so we can use it to trigger jobs in remote Jenkins instances.,,,,,,,,,,OVIRT-2254,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,0|i00gfz:,,,,,,,,,,,,2018-07-24 15:49:51.107,,,"24/Jul/18 10:49 AM;557058:caa507e4-2696-4f45-8da5-d2585a4bb794;I've updated the plugin to version 3.0.3 on Staging and it was listed as having some configuration changes although I didn't see any in the changelog. As this is the latest version, will use it to install on Prod.","24/Jul/18 7:29 PM;557058:caa507e4-2696-4f45-8da5-d2585a4bb794;Plugin installed on Prod, closing",,,,,,,,,,,,,,,,,Done
Create slave borrowing flow,OVIRT-2254,34413,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,Won't Fix,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,26/Jun/18 2:02 AM,29/Aug/19 9:12 AM,18/Feb/21 3:54 AM,04/Jul/19 7:21 AM,,ovirt-infra-aug-2019,Jenkins Master,Jenkins Slaves,,,,,0,,,,,"Create a set of jobs and groovy functions that will enable one Jenkins master to borrow slaves from another Jenkins master.

h3. Acceptance criteria
# We define a borrower and a borrowing Jenkins instances. Ans support the use case where both are the same instance
# Borrowing is done by setting up a JNLP connection from the slave of the borrower instance to to borrowing instance.
# On the borrower instance:
## We have a ""borrow"" job that:
##* Takes slave requirement details, allocates a matching slaves and make it connect via JNLP to the borrowing instance
##* If all matching slaves are already borrowed by other instances, try to call the garbage collector jobs (see below) on borrowing instances to free the slaves.
## We have a ""return"" job that is called by a borrowing instance to return a slave
# On the borrowing instance
## STDCI tries to borrow slaves from a predefined instance if not matching slaves are available locally
## Once borrowed - slaves stay attached to the borrowing instance so they can be reused by other STDCI jobs.
## We have a ""garbage collector"" job that is triggered periodically or by the borrower instance. It looks at borrowed slaves, and frees ones that were not used recently.

",,,,,,,,,,,,,,,,,,,,,,,,,,{},OVIRT-2178,,,,,,,,,,,,,,,,0|i00gfj:,,,,,,,,,,,,,,,"26/Jun/18 8:33 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;Some design details:

* The ""borrow"" job takes the following parameters:
** The IP and JNLP port of the Jenkins that is borrowing the slave
** The JNLP secret to register to the Jenkins that is borrowing the slave
** A YAML/JSON structure with node requirements that includes:
*** A *kind* field set to ""{{stdci_node_req}}""
*** An *apiVersion* field set to ""{{1}}"".
*** The project *name*.
*** The project *clone_ur*, *branch* and *refspec*.
*** The STDCI thread *stage*, *substage*, *distro* and *arch*.
*** The STDCI *runtime_requirements*.
","26/Jun/18 10:12 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;Design details about the slave allocation mechanics in the borrowing instance:
* STDCI jobs will calculate some consistent checksum for node requirements and use it as a label expression passed to the node() pipeline function.
* before running the node() function the STDCI jobs will trigger a slave allocator job in the background
* the slave allocator job will wait a while to let a local slave get allocated
* if no local slave gets allocated, the slave allocator job will try to borrow a slave from the borrower instance and label it with the label expression.",,,,,,,,,,,,,,,,,Done
Add CI for kubevirt-apb repo,OVIRT-2248,34407,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,High,Won't Fix,Gal Ben Haim,557058:f57f4f3d-a7d2-40b5-8ef1-94b6bbbf8dc7,Gal Ben Haim,557058:f57f4f3d-a7d2-40b5-8ef1-94b6bbbf8dc7,Gal Ben Haim,557058:f57f4f3d-a7d2-40b5-8ef1-94b6bbbf8dc7,24/Jun/18 1:58 PM,29/Aug/19 9:12 AM,18/Feb/21 3:54 AM,05/Dec/18 9:02 AM,,ovirt-infra-aug-2019,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},OVIRT-2247,,,,,,,,,,,,,,,,0|i004s0:,,,,,,,,,,,,2018-06-25 12:20:19.286,,,"25/Jun/18 7:20 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;I think it's important to give it a priority and start adding CI to more projects in the KubeVirt umbrella as well.
We'll see who can join this effort as well.",,,,,,,,,,,,,,,,,,Done
 Upload the host image as a disk to the system using oVirt Upload API,OVIRT-2245,34404,New Feature,To Do,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,,infra,557058:11f1b41b-2c35-4fdf-b282-1510ce705d4d,Gal Ben Haim,557058:f57f4f3d-a7d2-40b5-8ef1-94b6bbbf8dc7,Gal Ben Haim,557058:f57f4f3d-a7d2-40b5-8ef1-94b6bbbf8dc7,24/Jun/18 1:31 PM,24/Jun/18 1:31 PM,18/Feb/21 3:54 AM,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},OVIRT-2241,,,,,,,,,,,,,,,,0|i00gdr:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Add cloud-init support in Lago,OVIRT-2244,34403,New Feature,To Do,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,,infra,557058:11f1b41b-2c35-4fdf-b282-1510ce705d4d,Gal Ben Haim,557058:f57f4f3d-a7d2-40b5-8ef1-94b6bbbf8dc7,Gal Ben Haim,557058:f57f4f3d-a7d2-40b5-8ef1-94b6bbbf8dc7,24/Jun/18 1:29 PM,24/Jun/18 1:30 PM,18/Feb/21 3:54 AM,,,,Lago,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},OVIRT-2241,,,,,,,,,,,,,,,,0|i00bkr:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Tag successfully deployed artifacts that passed CQ,OVIRT-2235,34394,New Feature,To Do,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,,Daniel Belenky,557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2,Daniel Belenky,557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2,Daniel Belenky,557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2,24/Jun/18 7:07 AM,24/Jun/18 7:07 AM,18/Feb/21 3:54 AM,,,,,,,,,,0,,,,,"When CQ test is successful, all changes that were tested in the batch needs to be tagged.

*Still need to think where is the best place to tag the changes it can be CQ code that will do the tagging or it can be done from Groovy code*",,,,,,,,,,,,,,,,,,,,,,,,,,{},OVIRT-1717,,,,,,,,,,,,,,,,0|i00gbz:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Encapsulate tag-on-release option in queue build args,OVIRT-2234,34393,New Feature,To Do,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,,Daniel Belenky,557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2,Daniel Belenky,557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2,Daniel Belenky,557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2,24/Jun/18 6:47 AM,16/Sep/18 9:31 AM,18/Feb/21 3:54 AM,,,,Change Queue,Standard CI (Pipelines),,,,,0,,,,,"In order to support reverse tagging in CQ, we have to encapsulate the 'tag-on-release' option when creating a new change object.

*Acceptance criteria:*
* Read the configuration from the DSL's output.
* Pass the configuration to the relevant CQ code when generating the change object.
* Change object needs to be able to handle such field and store it's data properly.",,,,,,,,,,,,,,,,,,,,,,,,,,{},OVIRT-1717,,,,,,,,,,,,,,,,0|i00gbr:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Add 'tag-on-release' configuration to STDCI DSL,OVIRT-2233,34392,New Feature,Blocked,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,,Daniel Belenky,557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2,Daniel Belenky,557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2,Daniel Belenky,557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2,24/Jun/18 6:35 AM,29/Aug/19 9:19 AM,18/Feb/21 3:54 AM,,,,STDCI DSL,,,,,,0,,,,,"As a project maintainer, I want to have the ability to tell STDCI whether to tag every release of my project or not and to specify a custom tag so that I will have full control of the release process.

*Acceptance criteria:*
* Verify the structure of tag-on-release option
* Pass the configuration along with the global options via the matching formatter (pipeline_dict formatter)",,,,,,,,,,OVIRT-2234,,,,,,,,,,,,,code-review,,,{},OVIRT-1717,,,,,,,,,,,,,,,,0|i00gbj:,,,,,,,,,,,,2018-06-26 07:28:45.566,,,26/Jun/18 2:28 AM;557058:3a069952-633d-482c-90ab-2451cac6751a;Can you please describe how this will work?,29/Aug/19 9:19 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;[~accountid:557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2] is this still planned/relevant for STDCI?,,,,,,,,,,,,,,,,,In Progress
Move SDK projects to STDCI V2,OVIRT-2232,34391,New Feature,To Do,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,,infra,557058:11f1b41b-2c35-4fdf-b282-1510ce705d4d,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,24/Jun/18 3:31 AM,24/Jun/18 3:31 AM,18/Feb/21 3:54 AM,,,,CI client projects,,,,,,0,,,,,We have a strong incentive to do this since the SDK V1 jobs have their own messy job templates the require special maintenance...,,,,,,,,,,,,,,,,,,,,,,,,,,{},OVIRT-2175,,,,,,,,,,,,,,,,0|i00gbb:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Checkout using prow as a GitHub triggering mechanism,OVIRT-2230,34389,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,Won't Fix,infra,557058:11f1b41b-2c35-4fdf-b282-1510ce705d4d,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,24/Jun/18 1:32 AM,29/Aug/19 9:12 AM,18/Feb/21 3:54 AM,04/Jul/19 7:25 AM,,ovirt-infra-aug-2019,Jenkins Master,,,,,,0,,,,,"[Prow|https://github.com/kubernetes/test-infra/tree/master/prow] is the service that Kubernetes are using to trigger their CI on GitHub events.

We should inspect it and see if it would be useful for us to adopt it.

",,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,0|i00gb3:,,,,,,,,,,,,2019-07-04 12:17:48.488,,,"04/Jul/19 7:17 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;Since KubeVirt are doing it already, is there anything left to do on this ticket?

I don’t expect oVirt to move to it.",04/Jul/19 7:25 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;that was an attempt ot integrate Prow with stdci - but Kubevirt decided to go 100% prow,,,,,,,,,,,,,,,,,Done
Automate updating of ovirt-engine-wildfly,OVIRT-2229,34388,New Feature,To Do,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,,infra,557058:11f1b41b-2c35-4fdf-b282-1510ce705d4d,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,21/Jun/18 6:11 AM,21/Jun/18 7:37 AM,18/Feb/21 3:54 AM,,,,CI client projects,,,,,,0,,,,,"As an oVirt developer I want to test the oVirt source code against new versions of Wildfly as early as possible so that I can find issues early.

h3. Acceptance Criteria:
# Have a 'poll' job monitor for releases of Wildfly and update the ovirt-engine-wildfly source code.
",,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,0|i00gav:,,,,,,,,,,,,2018-06-21 12:37:39.918,,,21/Jun/18 7:37 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;cc [~accountid:557058:7013bb8c-48b2-4b9b-898e-eccf5fb61fad] we're looking into a way to automate the build of wildfly from their nightly builds.,,,,,,,,,,,,,,,,,,To Do
Package retention policy for tested repo,OVIRT-2222,34381,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,Fixed,Ehud Yonasi,5aa0f39f5a4d022884128a0f,Ehud Yonasi,5aa0f39f5a4d022884128a0f,Ehud Yonasi,5aa0f39f5a4d022884128a0f,20/Jun/18 4:26 AM,02/Sep/18 10:50 AM,18/Feb/21 3:54 AM,07/Aug/18 8:50 AM,,OVIRT-INFRA-JUN-AUG-2018,,,,,,,0,,,,,"There is a know issue with the space left under /src/resources
in order to help save space, i am going to add a retention policy for repo packages.
the retention rules are to keep only latest version of that package and packages under 14 days old.",,,,,,,,,,,,,,,,,,,,,,,,,,{},OVIRT-1744,,,,,,,,,,,,,,,,0|i00g9b:,,,,,,,,,,,,2018-07-22 08:18:00.633,,,28/Jun/18 6:46 AM;5aa0f39f5a4d022884128a0f;Patch will be deployed on sunday.,"01/Jul/18 3:42 AM;5aa0f39f5a4d022884128a0f;merged the patch to resources,
monitoring the deploy-to-tested jobs.","01/Jul/18 5:05 AM;5aa0f39f5a4d022884128a0f;deploy-to-tested-4.2 finished succesfully:
http://jenkins.ovirt.org/view/deploy-to-tested/job/deploy-to_ovirt-4.2_tested/1662/

space before  & after cleanup:
/dev/mapper/resources_lvm-data  1.2T  1.1T   62G  95% /srv/resources

/dev/mapper/resources_lvm-data  1.2T  925G  199G  83% /srv/resources",22/Jul/18 3:18 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;[~accountid:5aa0f39f5a4d022884128a0f] can you please update the ticket with the latest info? last update was over 2 weeks ago.,"22/Jul/18 3:26 AM;5aa0f39f5a4d022884128a0f;Yea, sorry about that.
Sent a patch for review:
https://gerrit.ovirt.org/#/c/93119/","22/Jul/18 4:01 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;I would like to get an ETA for deploying this, what are the current gaps? ","22/Jul/18 4:06 AM;5aa0f39f5a4d022884128a0f;I have verified it on a different script i ran on resources to get the output, and it is verified that i clean the old packages. 
I want barak to review the code before i deploy it.",07/Aug/18 8:50 AM;5aa0f39f5a4d022884128a0f;patch is live and working well,,,,,,,,,,,Done
Cleaning up ISO in tested repo and keeping latest version,OVIRT-2213,34372,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,Done,Shlomi Zidmi,5c977456c430371a3c67dbf6,Ehud Yonasi,5aa0f39f5a4d022884128a0f,Ehud Yonasi,5aa0f39f5a4d022884128a0f,18/Jun/18 6:52 AM,03/Oct/19 7:00 AM,18/Feb/21 3:54 AM,03/Oct/19 7:00 AM,,,oVirt Infra,,,,,,0,,,,,"ISO images under tested repo got huge and require an automatic cleanup to free tested repo. 
",,,,,,,,,,,,,,,,,,,,,,,,,,{},OVIRT-1744,,,,,,,,,,,,,,,,0|i00g7j:,,,,,,,,,,,,2019-10-03 12:00:59.558,,,20/Jun/18 4:22 AM;5aa0f39f5a4d022884128a0f;Starting to work on the ticket,28/Jun/18 6:47 AM;5aa0f39f5a4d022884128a0f;Pausing the work for the moment on the ticket. ,03/Oct/19 7:00 AM;5c977456c430371a3c67dbf6;functionality for iso retention was added to deploy-to-tested.sh,,,,,,,,,,,,,,,,Done
Investigate Sync of GitHub issues into JIRA,OVIRT-2188,34347,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,Fixed,infra,557058:11f1b41b-2c35-4fdf-b282-1510ce705d4d,Eyal Edri,557058:2dee8503-051b-4630-8a75-2c544524dce8,Eyal Edri,557058:2dee8503-051b-4630-8a75-2c544524dce8,11/Jun/18 11:03 AM,29/Aug/19 9:12 AM,18/Feb/21 3:54 AM,28/Nov/18 9:55 AM,,ovirt-infra-aug-2019,Lago,,,,,,0,,,,,"As a Lago maintainer and part of the oVirt infra team, I would like to track all my GitHub issues together 
with my other tasks for OST in one place, which is the oVirt JIRA.

There are a few options to check for this purpose:
1. https://www.pagure.io/sync-to-jira -> a project which was written by Ralph Bean from Red Hat
2. Add-On to JIRA - we need to look for an add-on that gives free access to OpenSource projects, same way we got the JIRA instance for oVirt for free. ",,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,0|i00g1z:,,,,,,,,,,,,,,,"28/Nov/18 9:54 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;There isn't official solution for it, but we got access to a private system from Ralph Bean to use for syncing between GitHub to downstream JIRA, so we'll it if needed.",,,,,,,,,,,,,,,,,,Done
"Automate creation of ""poll"" jobs",OVIRT-2183,34342,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,Duplicate,infra,557058:11f1b41b-2c35-4fdf-b282-1510ce705d4d,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,10/Jun/18 10:15 AM,02/Sep/18 10:50 AM,18/Feb/21 3:54 AM,12/Jun/18 8:21 AM,,OVIRT-INFRA-JUN-AUG-2018,Standard CI (Pipelines),,,,,,0,,,,,"As a developer I would like to be able to configure upstream source polling jobs (In other works jobs that execute the ""poll-upstream-sources"" STDCI stage) from the STDCI YAML file in my project so that I never have to deal with JJB or the 'jenkins' repository.

h3. Acceptance Criteria
# To get ""poll-upstream-sources"" jobs working for a certain branch developers should only configure some setting in the STDCI YAML file of that project. ",,,,,,,,,,,,,,,,OVIRT-1876,,,,,,,,,,{},OVIRT-1013,,,,,,,,,,,,,,,,0|i00g0v:,,,,,,,,,,,,,,,12/Jun/18 8:21 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;Closing as duplicate of OVIRT-1876,,,,,,,,,,,,,,,,,,Done
Allow connections to the JNLP port of our Jenkins instances,OVIRT-2179,34338,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,High,Done,Evgheni Dereveanchin,557058:caa507e4-2696-4f45-8da5-d2585a4bb794,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,10/Jun/18 9:37 AM,02/Sep/18 10:50 AM,18/Feb/21 3:54 AM,30/Jul/18 2:42 AM,,OVIRT-INFRA-JUN-AUG-2018,Jenkins Master,,,,,,0,,,,,"We want to be able to ""borrow"" slaves from other systems by having them connect back to our Jenkins instances via JNLP.

Could we open the JNLP port in the various firewalls we have in front of our systems?

",,,,,,,,,,,,,,,,,,,,,,,IT ticket open,,,{},OVIRT-2178,,,,,,,,,,,,,,,,0|i00fzz:,,,,,,,,,,,,2018-06-12 11:11:18.389,,,"12/Jun/18 6:11 AM;557058:caa507e4-2696-4f45-8da5-d2585a4bb794;Currently this is possible from PHX only. Do we know a specific IP/subnet we're planning to allow access from or global access is reuired? We only have JNLP4 protocol enabled which enforces TLS so random agents shouldn't be able to connect unless they have proper keys installed.

Currently port number 56293 is selected in Jenkins settings, we may want to lower it below 49k before pushing in production as that range is recommended by IANA for dynamic port allocation and we're using a dynamic one.","12/Jun/18 6:39 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;{quote}
Currently this is possible from PHX only. Do we know a specific IP/subnet we're planning to allow access from or global access is reuired? 
{quote}

We can limit this to the CentOS CI farm for now, you can look at the following to figure out what the IP range should be:
https://wiki.centos.org/QaWiki/PubHardware

{quote}
We only have JNLP4 protocol enabled which enforces TLS so random agents shouldn't be able to connect unless they have proper keys installed.
{quote}

You also need a random-generated token that is created when you create the JNLP slave record in jenkins, so adding a rogue slave aught to not be very easy. But can we somehow verify that those tokens are visible ony to infra/CI team members?

{quote}
Currently port number 56293 is selected in Jenkins settings, we may want to lower it below 49k before pushing in production as that range is recommended by IANA for dynamic port allocation and we're using a dynamic one.
{quote}

We actually have 5000 hard-configured in the staging system. Lets just pick whatever number makes sense and ensure its fixed and identical on all systems.","15/Jun/18 6:58 AM;557058:caa507e4-2696-4f45-8da5-d2585a4bb794;Port 5000 is fine with me, it needs to be above 1024 and below 50000.

As for the IPs on the page, they are all internal RFC1918 addresses which probably go out via some kind of NAT.

If you have access to one of such systems, could you please run 'curl api.ipify.org' to find out its NAT IP? We can use that to determine the range to whitelist for now.","17/Jun/18 12:47 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;using the curl command above from a slave in the CentOS infra, I get the following IP:
{quote}
8.43.84.199
{quote}","17/Jun/18 12:51 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;WRT the port number - I had a typo, its actually set to 50000 on the staging system, is that still ok or will  we have to change it?

","20/Jun/18 9:14 AM;557058:caa507e4-2696-4f45-8da5-d2585a4bb794;Port 50000 is fine with me, I've logged a ticket to open the port from CentOS side",21/Jun/18 12:50 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;What do you mean the CentOS side? Shouldn't this be opened in the Red Hat firewall that PHX sits behind of?,"21/Jun/18 5:41 AM;557058:caa507e4-2696-4f45-8da5-d2585a4bb794;Yes, that's what I meant - open up request from CentOS to oVirt PHX port 50k of our jenkins","04/Jul/18 7:28 AM;557058:caa507e4-2696-4f45-8da5-d2585a4bb794;CentOS subnet opened, Jenkins reconfigured to use port 50000 and firewall on the jenkins itself allows this port. [~accountid:557058:5fc78873-359e-47c9-aa0b-4845b0da8143] could you please confirm if CentOS machines are able to connect via JNLP?",26/Jul/18 8:44 AM;557058:caa507e4-2696-4f45-8da5-d2585a4bb794;New ticket open with IT to open port 50k on Staging as well,"27/Jul/18 4:23 AM;557058:caa507e4-2696-4f45-8da5-d2585a4bb794;Both instances should now be reachable from the CentOS subnet on port 50k, [~accountid:557058:5fc78873-359e-47c9-aa0b-4845b0da8143] could you please confirm if everything works as expected?",29/Jul/18 4:18 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;I can confirm having managed to setup a connection from the CentOS datacenter to the staging instance,,,,,,,Done
oVirt CI should support fast moving platform releases,OVIRT-2176,34335,New Feature,To Do,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,,infra,557058:11f1b41b-2c35-4fdf-b282-1510ce705d4d,Eyal Edri,557058:2dee8503-051b-4630-8a75-2c544524dce8,Eyal Edri,557058:2dee8503-051b-4630-8a75-2c544524dce8,10/Jun/18 7:27 AM,12/Jun/18 7:34 AM,18/Feb/21 3:54 AM,,,,,,,,,,0,,,,,"It's a bit hard to describe this as a user story, but the idea is to think what can we (oVirt CI) do keep oVirt stable as it is today, while taking into account the platforms that support it ( Ansible, Wildfly, CentOS, Fedora. OpenShift? ) will at some point shift to a faster release cadence which is much more frequent from today and possibly breaks oVirt users if the proper testing won't be done right.

We are already doing good things today with oVirt System Tests and change queue, but it might not flexible and scalable enough if we'll start getting releases of layered products much faster.

This solution might include tighter cooperation with the relevant CI teams for the other products, improved OST framework, and infrastructure changes to support it.

Due to the side of this effort, it should be broken down into Epics and smaller user stories while grooming it.
",,,,,,,,,,,,,,,,,,,,,,,,,,{},OVIRT-2184,,,,,,,,,,,,,,,,0|i00fzj:,,,,,,,,,,,,2018-06-10 12:35:50.079,,,"10/Jun/18 7:35 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;Actually I think the user story is quite simple here - ""As an ovirt developer, I would like to know as early as possible if platform changes are going to break oVirt so that I can react to them in a timely manner"".

Or perhaps its ""As a platform component developer I would like to know if changes I make are causing issues in oVirt as early as possible so I can eliminate those issues as early as possible and have newer version of my component be adopted by oVirt"".

Actually which one of the two stories above we decide to aim for has significant influence on the kind of implementation we aim for.",12/Jun/18 7:34 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;Putting this under OVIRT-2184 as it seems full gating of platform changes would solve this as well.,,,,,,,,,,,,,,,,,To Do
Show dedicated message to early infra failures on STDCI build summary,OVIRT-2174,34333,New Feature,To Do,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,,infra,557058:11f1b41b-2c35-4fdf-b282-1510ce705d4d,Daniel Belenky,557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2,Daniel Belenky,557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2,10/Jun/18 7:06 AM,12/Jun/18 7:35 AM,18/Feb/21 3:54 AM,,,,,,,,,,0,,,,,As an STDCI user I want to see a dedicated message on STDCI build summary in case STDCI failed before even running my code so I can quickly contact the infra team.,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,0|i00fz3:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
STDCI build summary to include details about the STDCI event,OVIRT-2173,34332,New Feature,To Do,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,,infra,557058:11f1b41b-2c35-4fdf-b282-1510ce705d4d,Daniel Belenky,557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2,Daniel Belenky,557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2,10/Jun/18 7:04 AM,12/Jun/18 7:35 AM,18/Feb/21 3:54 AM,,,,Standard CI (Pipelines),,,,,,0,,,,,"As an STDCI user I want to have quick view of the event details such as who is the change owner, what branch it was pushed to, and etc so I won't have to extract this information from the SCM.",,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,0|i00fyv:,,,,,,,,,,,,2018-06-11 06:03:12.373,,,11/Jun/18 1:03 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;Need to be clearer on this - we need to show what was the exact event - was a commit pushed to the branch? Was a new PR submitted? Was a PR or a patch merged? Was it simpy a comment on the PR/patch?,,,,,,,,,,,,,,,,,,To Do
STDCI build summary to write message when no threads were found,OVIRT-2172,34331,New Feature,To Do,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,,infra,557058:11f1b41b-2c35-4fdf-b282-1510ce705d4d,Daniel Belenky,557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2,Daniel Belenky,557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2,10/Jun/18 7:01 AM,12/Jun/18 7:37 AM,18/Feb/21 3:54 AM,,,,Standard CI (Pipelines),,,,,,0,,,,,As an STDCI user I want to see a dedicated message at STDCI build summary that warns me that no threads were executed for my build to prevent cases where I think something runs while it doesn't (currently it shows blank page - users can think it's a bug in the summary.),,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,0|i00fyn:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Add support for HTML artifacts in STDCI build summary,OVIRT-2171,34330,New Feature,To Do,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Low,,infra,557058:11f1b41b-2c35-4fdf-b282-1510ce705d4d,Daniel Belenky,557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2,Daniel Belenky,557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2,10/Jun/18 6:58 AM,12/Jun/18 7:38 AM,18/Feb/21 3:54 AM,,,,Standard CI (Pipelines),,,,,,0,,,,,"As an STDCI user, I want to have quick view of HTML artifacts from STDCI build summary so I wont have to search for it under build-artifacts.",,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,0|i00fyf:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Link from SCM to STDCI build summary,OVIRT-2170,34329,New Feature,To Do,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,,infra,557058:11f1b41b-2c35-4fdf-b282-1510ce705d4d,Daniel Belenky,557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2,Daniel Belenky,557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2,10/Jun/18 6:56 AM,12/Jun/18 7:38 AM,18/Feb/21 3:54 AM,,,,Standard CI (Pipelines),,,,,,0,,,,,"As an STDCI user, I want to have quick access to STDCI build summary so I can see information about my build without having to access it through Jenkins.",,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,0|i00fy7:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Show important thread information in STDCI build summary,OVIRT-2169,34328,New Feature,To Do,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,,infra,557058:11f1b41b-2c35-4fdf-b282-1510ce705d4d,Daniel Belenky,557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2,Daniel Belenky,557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2,10/Jun/18 6:54 AM,12/Jun/18 7:38 AM,18/Feb/21 3:54 AM,,,,Standard CI (Pipelines),,,,,,1,,,,,"When debugging builds on STDCI I want to have quick access to information about thread's execution environment such as: hostname it's being executed on, host's distro and arch, maybe even some basic specs of the host(?) so I won't have to search for this information in Console Output.",,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,0|i00fxz:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Show build artifacts as soon as they are created in STDCI build summary,OVIRT-2168,34327,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,Fixed,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Daniel Belenky,557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2,Daniel Belenky,557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2,10/Jun/18 6:51 AM,02/Sep/18 10:50 AM,18/Feb/21 3:54 AM,01/Aug/18 12:28 AM,,OVIRT-INFRA-JUN-AUG-2018,Standard CI (Pipelines),STDCI Build Report,,,,,0,,,,,"As an STDCI user, I want to have access to build artifacts as soon as possible in order to access different logs and outputs of my code.",,,,,,,,,,OVIRT-2343,,,,,,,OVIRT-2386,,,,,,,,,{},,,,,,,,,,,,,,,,,0|i00fxr:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Near real time log updates for STDCI build summary,OVIRT-2167,34326,New Feature,To Do,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,,infra,557058:11f1b41b-2c35-4fdf-b282-1510ce705d4d,Daniel Belenky,557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2,Daniel Belenky,557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2,10/Jun/18 6:49 AM,12/Jun/18 7:41 AM,18/Feb/21 3:54 AM,,,,Standard CI (Pipelines),STDCI Build Report,,,,,0,,,,,"As an STDCI user, I want to see live log updates when running my build in order to trace the progress of my builds.",,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,0|i00fxj:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Build repoman for fedora 28,OVIRT-2163,34322,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Highest,Fixed,infra,557058:11f1b41b-2c35-4fdf-b282-1510ce705d4d,Gal Ben Haim,557058:f57f4f3d-a7d2-40b5-8ef1-94b6bbbf8dc7,Gal Ben Haim,557058:f57f4f3d-a7d2-40b5-8ef1-94b6bbbf8dc7,10/Jun/18 3:40 AM,29/Aug/19 9:12 AM,18/Feb/21 3:54 AM,12/Dec/18 6:57 AM,,ovirt-infra-aug-2019,repoman,,,,,,0,,,,,It's needed by lago-ovirt.,,,,,,,,,,,,,,,,,,,,OVIRT-2164,,,,,,{},,,,,,,,,,,,,,,,,0|i006pi:y,,,,,,,,,,,,2018-06-10 12:29:46.165,,,10/Jun/18 7:29 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;[~accountid:5ab7538cfff1d42a5df1b9a8] is that something you can do? did you have time to go over repoman a bit?,"10/Jun/18 7:30 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;People want to run Lago on their FC28, so its quite important we'll prioritize it.",10/Jun/18 7:31 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;[~accountid:557058:5ca52a09-2675-4285-a044-12ad20f6166a] FYI,13/Jun/18 2:41 AM;557058:f57f4f3d-a7d2-40b5-8ef1-94b6bbbf8dc7;[~accountid:557058:5ca52a09-2675-4285-a044-12ad20f6166a] [~accountid:5ab7538cfff1d42a5df1b9a8] Any update?,"13/Jun/18 2:46 AM;5ab7538cfff1d42a5df1b9a8;Anton built repoman for fc28
https://resources.ovirt.org/repos/ci-tools/fc28/noarch/

I made sure it installs (in term of dependencies) but never used it.",13/Jun/18 2:47 AM;557058:5ca52a09-2675-4285-a044-12ad20f6166a;[~accountid:557058:f57f4f3d-a7d2-40b5-8ef1-94b6bbbf8dc7] can you try that repoman with lago and let us know if there are still any problems with it?,"13/Jun/18 10:16 AM;557058:f57f4f3d-a7d2-40b5-8ef1-94b6bbbf8dc7;It works, thanks.",,,,,,,,,,,,Done
Fedora 28 ppc64le support,OVIRT-2153,34312,New Feature,To Do,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,High,,infra,557058:11f1b41b-2c35-4fdf-b282-1510ce705d4d,Sandro Bonazzola,557058:3a069952-633d-482c-90ab-2451cac6751a,Sandro Bonazzola,557058:3a069952-633d-482c-90ab-2451cac6751a,07/Jun/18 2:38 PM,26/Jun/18 8:02 AM,18/Feb/21 3:54 AM,,,,mock_runner,,,,,,0,,,,,"Hi,
I see python-ovirt-engine-sdk4 failing on ppc64le for fc28 due to: ""Unable
to find mock env"" error.
I tend to think we should have ppc64le for fedora 28 but I see that mock
config are missing in jenkins and also the mirroring of the repos for
fedora 28 ppc64le are missing.

We should either drop ppc64le jobs for fc28 or add support for it. Adding
Ondra to share his thoughts on this.


-- 

SANDRO BONAZZOLA

ASSOCIATE MANAGER, SOFTWARE ENGINEERING, EMEA ENG VIRTUALIZATION R&D

Red Hat EMEA <https://www.redhat.com/>

sbonazzo@redhat.com
<https://red.ht/sig>",,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,0|i00fvb:,,,,,,,,,,,,2018-06-08 08:44:24.28,,,"08/Jun/18 3:44 AM;557058:caa507e4-2696-4f45-8da5-d2585a4bb794;Indeed, for Fedora 28 the only mock version is x86_64:
https://gerrit.ovirt.org/gitweb?p=jenkins.git;a=tree;f=mock_configs;h=c9b60023cd1bfb8195517c588de8a20ab4282c2b;hb=master

We can create a config based on the existing fedora-26-ppc64le if we decide to keep ppc64le on Fedora 28","10/Jun/18 2:08 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;We never supported building on PPC64LE for anything other then EL7.

We can add support if it is desired, but since we managed without Fedora so far, do we really want to add support for it now?","11/Jun/18 2:59 AM;557058:106d0e72-c573-4e10-bb61-eae8f6c34cd7;I am not aware anyone using it, so I think we don't have to do it now. Let's do it once someone request it.","12/Jun/18 3:34 AM;557058:3a069952-633d-482c-90ab-2451cac6751a;we want to expand testing for future updates, so I think having ppc64le support would be beneficial to the project.",26/Jun/18 8:02 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;Adding OVIRT-2257 as a blocker as implementing it will solve this organically.,,,,,,,,,,,,,,To Do
Real time updates in STDCI status page,OVIRT-2061,34266,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,Fixed,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Daniel Belenky,557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2,Daniel Belenky,557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2,28/May/18 7:42 AM,02/Sep/18 10:50 AM,18/Feb/21 3:54 AM,01/Aug/18 12:26 AM,,OVIRT-INFRA-JUN-AUG-2018,Standard CI (Pipelines),STDCI Build Report,,,,,0,,,,,"As an STDCI user, I want to see ""real time"" updates of my code's output and to have access to artifacts without
having to wait for the job to finish so that I can address issues quickly.
BlueOcean seems to be slow, and in many cases, it takes almost half a minute to load.",,,,,,,,,,OVIRT-2343,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,0|i00fmn:,,,,,,,,,,,,2018-08-01 05:26:54.409,,,01/Aug/18 12:26 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;patche merged,,,,,,,,,,,,,,,,,,Done
Make a landing page for STDCI builds,OVIRT-2050,34255,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,Fixed,Daniel Belenky,557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2,Daniel Belenky,557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2,Daniel Belenky,557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2,23/May/18 1:33 AM,04/Jun/18 1:29 AM,18/Feb/21 3:54 AM,03/Jun/18 3:03 AM,,OVIRT-INFRA-MAY-2018,Standard CI (Pipelines),,,,,,0,,,,,"Since STDCI V2 executes the major build steps (running user script) on different nodes, it's hard to understand
the status/what failed from console output. The alternative is to use Blue Ocean view but it takes ~40 seconds to
load in some cases.

The first phase is to build a status report at the end of every STDCI build with quick access to relevant links such as logs, artifacts, test results and etc.
In the long term, the plan is to integrate ""real time"" updates such as console output updates per thread and etc.",,,,,,,,,,OVIRT-2061,,,,,,,,,,,,,code review,,,{},OVIRT-400,,,,,,,,,,,,,,,,0|i00fk7:,,,,,,,,,,,,2018-05-23 06:47:30.935,,,"23/May/18 1:43 AM;557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2;Jenkins is adding a Content-Security-Policy header to static files served by Jenkins (specifically DirectoryBrowserSupport).
This header is set to a very restrictive default set of permissions to protect Jenkins users from malicious HTML/JS files in workspaces, /userContent, or archived artifacts.

From the documentation, it seems that we can add exceptions for specific URLs to pull CSS styles and JS.
Since the header is blocking JS from /userContent directory anyway, I think it's safe to allow loading styles and JS from https://cdnjs.cloudflare.com (the CDN used by patternfly).

Currently, I've set Jenkins to allow the following:

{code:java}
sandbox allow-scripts; default-src 'self' https://cdnjs.cloudflare.com; img-src 'self'; style-src 'self' https://cdnjs.cloudflare.com;
{code}

The alternative is to load only from 'self' but it means we'll have to download and maintain updated version of CSS/JS when we want to update.
It also means we'll have to store the icons under userContent directory as well.

IMO, the setting above is safe enough for our use-case.
[~accountid:557058:5fc78873-359e-47c9-aa0b-4845b0da8143] any thoughts?

Documentation of content-security-policy: [here|https://content-security-policy.com/]","23/May/18 1:47 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;I wonder, what else is on cdnjs.cloudflare.com ? since anyone can create html files with stdci we should be careful about this...",23/May/18 4:05 AM;557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2;Seems like they're sorting what's going in https://github.com/cdnjs/cdnjs/blob/master/CONTRIBUTING.md,23/May/18 9:26 AM;557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2;blocking on code-review,23/May/18 1:39 PM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;can we configure the gerrit plugin to link to this page for V2 jobs while keeping existing behaviour for v1 jobs?,23/May/18 1:40 PM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;WRt the CDN - so requiring 200 GH stars or 800 downloads/mo for libraries sounds like a decent barrier.,"24/May/18 1:52 AM;557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2;I'm starting to think that maybe it's time to separate the reporting between V1 and V2 completely.
We already are configuring part of the message via environment variable and this configuration is happening in different
methods in V1 and V2, so why won't we just configure the whole message from this variable?","24/May/18 1:00 PM;557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2;Here is an example of such report from our staging Jenkins check-patch:
https://jenkins-staging.ovirt.org/job/jenkins_standard-check-patch/1056/artifact/exported-artifacts/stdci_build_status.html","29/May/18 5:01 AM;557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2;Summary of succesful build with Junit results (project: Jenkins)
https://jenkins-staging.ovirt.org/job/jenkins_standard-check-patch/1112/artifact/ci_build_summary.html

Summary with intentional failures (Project: stage-gh-stdci2)
https://jenkins-staging.phx.ovirt.org/job/oVirt_stage-gh-stdci2_standard-check-pr/113/artifact/ci_build_summary.html",03/Jun/18 3:03 AM;557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2;Initial support was added and is working.,,,,,,,,,Done
Drop FC25 support from STDCI,OVIRT-2042,34247,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,Fixed,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,21/May/18 5:53 AM,21/Jun/18 8:53 AM,18/Feb/21 3:54 AM,30/May/18 7:27 AM,,OVIRT-INFRA-MAY-2018,CI Mirrors,mock_runner,,,,,0,,,,,"Since FC25 is not/should not be used any more, drop the STDCI support for it including:
# Mirrors
# Mock configuration files",,,,,,,,,,OVIRT-2067,,,,,,,,,,,,,,,,{},OVIRT-400,,,,,,,,,,,,,,,,0|i00fif:,,,,,,,,,,,,,,,"30/May/18 7:27 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;Merged patches to remove mirror jobs and mock configurations.

Removed the mirrors themselves from the mirrors server.",,,,,,,,,,,,,,,,,,Done
Setup CI mirrors for EL7/ppc64le,OVIRT-2041,34246,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,Won't Do,infra,557058:11f1b41b-2c35-4fdf-b282-1510ce705d4d,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,21/May/18 5:51 AM,29/Aug/19 9:12 AM,18/Feb/21 3:54 AM,04/Jul/19 7:09 AM,,ovirt-infra-aug-2019,CI Mirrors,,,,,,0,ppc64le,,,,"We've been having trouble with PPC64LE slaves due to packaging issues, its desirable to setup CI mirrors that will protect the CI system from such issues in the future",,,,,,,,,,,,,,,,,,,,,,,,,,{},OVIRT-403,,,,,,,,,,,,,,,,0|i00fi7:,,,,,,,,,,,,2019-07-04 12:09:42.714,,,"04/Jul/19 7:09 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;I don't recall any significant errors due to mirroring on PPC64 that required us mirroing repos, we have limited space on the mirror server, so I'd rather not add something we don't need.",,,,,,,,,,,,,,,,,,Done
Make JJB able to configure all aspects of the Jenkins master,OVIRT-2039,34244,New Feature,To Do,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,,infra,557058:11f1b41b-2c35-4fdf-b282-1510ce705d4d,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,21/May/18 2:02 AM,29/Aug/18 3:31 AM,18/Feb/21 3:54 AM,,,,JJB,,,,,,0,upstream-contribution,,,,"There are two aspects of jenkins that JJB knows how to configure at this time:
# Jobs
# Views

There are however, other important aspects of the Jenkins configuration one typically needs to deal with:
# Plugins
# Credentials
# Global configuration setting such as global environment
# Gerrit and GitHub trigger settings
# Custom user data

It is desirable that JJB would be able to encompass all the required configuration for a given Jenkins instance. We should consider enabling it to configure the setting mentioned above and contribute that work to the upstream JJB project or distribute it as a separate plugin.",,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,0|i00fhr:,,,,,,,,,,,,2018-08-29 08:31:48.665,,,"29/Aug/18 3:31 AM;5aa0f39f5a4d022884128a0f;Adding the ticket link to configuration as code plugin:
https://ovirt-jira.atlassian.net/browse/OVIRT-2366",,,,,,,,,,,,,,,,,,To Do
Recreate the transactional CI mirrors with Pulp,OVIRT-2034,34239,New Feature,To Do,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,,infra,557058:11f1b41b-2c35-4fdf-b282-1510ce705d4d,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,17/May/18 4:48 AM,12/Jun/18 8:20 AM,18/Feb/21 3:54 AM,,,,CI Mirrors,,,,,,0,,,,,"Right now, the CI mirrors are created and maintained by a set of custom scripts and jobs.

It seems that [Pulp|https://pulpproject.org/] can do what our current system does. The reason behind not using it when we first made the mirrors system was out desire to provide a quick solution and avoid adding more services to maintain. 

There are however, quite a few reasons to want to switch to pulp:
# Aside from RPMs it can also manage other interesting kinds of resources like Containers, DEB packages and Python packages.
# If it works well for us - we can maintain less code by dropping the existing mirror management code
# It has built-in distribution mechanisms that can be useful to scale it up. 
# It seems it has support for assigning packages to multiple repos. This cab be used as a tagging mechanism to implement OVIRT-2033",,,,,,,,,,OVIRT-2033,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,0|i00fgn:,,,,,,,,,,,,,,,"17/May/18 7:28 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;One very important concept for implementing the mirrors is creating immutable versions, or snapshots of the content. While this concept is supported by Satellite 6 and probably Katello, according to the document linked below this concept is only supported by Pulp 3 which seems to still be under development:

https://docs.pulpproject.org/en/3.0/nightly/overview/from-pulp-2.html",,,,,,,,,,,,,,,,,,To Do
"Provide a ""tagging"" mecahnism for transactional mirrors.",OVIRT-2033,34238,New Feature,To Do,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,,infra,557058:11f1b41b-2c35-4fdf-b282-1510ce705d4d,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,17/May/18 3:47 AM,12/Jun/18 7:47 AM,18/Feb/21 3:54 AM,,,,CI Mirrors,,,,,,0,,,,,"Right now when using the CI mirrors, one can either:
# Use the latest snapshots from all mirrors as mock_runner and all the jobs do.
# Use a specific snapshot by using the direct URL to it as we do on slaves.

It is desirable to be able to mark or tag specific mirror snapshots for various uses. The primary use for this is to track which mirror snapshots have been tested successfully by the change queue in a similar fashion to the way we track passing packages by storing them in the 'tested' repo. The motivation behind doing this is described in OVIRT-1444",,,,,,,,,,OVIRT-1444,,,,,,,,,,,,,,,,{},OVIRT-2184,,,,,,,,,,,,,,,,0|i00fgf:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Document how to configure the Gerrit reviewers plugon,OVIRT-1999,34202,New Feature,To Do,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,06/May/18 4:13 AM,11/Jun/18 1:22 AM,18/Feb/21 3:54 AM,,,,Gerrit/git,,,,,,0,documentation,,,,"As people asked about this, we should probably have a detailed docs page up.",,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,0|i00f8f:,,,,,,,,,,,,,,,"06/May/18 4:15 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;Here are instructions about how to do it I recently sent via Email to devel:

{code}
Two ways:

With the GUI:
-----------------

In Gerrit UI go to:

Admin -> Projects -> (Old UI) -> (Your project) -> Reviewers (from top bar)

Fill in filter (A file glob pattern - can be '*') and reviewer (An email address ora gerrit group ) and click ""Add"".

Don't forget to switch back to new UI from the bottom right link.
 

From the command line
-------------------------------
In a Git clone of the relevant project do:

# git fetch origin refs/meta/config:meta-config
# git checkout meta-config

Then you can edit the 'reviewers.config' file (Make it if it isn't there) and put in something like the following:

    [filter ""*""]
        reviewer = jenkins-maintainers
        reviewer = dron@redhat.com

Once you're done with it commit the change and push it with:

# git push -u origin meta-config refs/meta/config

Since we have '-u' there, the next time around you change the 'meta-config' branch you can just do:

# git push -u origin

And that's about it.

One thing to note - every project has a '<project-name>-maintainers' group, so its useful to add it it default.
{code}",,,,,,,,,,,,,,,,,,To Do
Setup a change-queue for oVirt 4.2.3,OVIRT-1990,34189,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Highest,Won't Fix,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,02/May/18 8:44 AM,04/Jun/18 1:29 AM,18/Feb/21 3:54 AM,13/May/18 5:57 AM,,OVIRT-INFRA-MAY-2018,Change Queue,,,,,,0,,,,,"Singe engine now branched into 4.2.3, we may need a new CQ to test it.

Making a CQ involves:
# Making new OST suites for it
# Making the CQ itself.

This is a super-ticket that will be used to track smaller tickets to work on this",,,,,,,,,,,,,,,,,,,,,,,,,,{},OVIRT-400,,,,,,,,,,,,,,,,0|i00f6f:,,,,,,,,,,,,2018-05-02 16:11:30.383,,,"02/May/18 8:45 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;[~accountid:557058:2dee8503-051b-4630-8a75-2c544524dce8] TYI

[~accountid:557058:3a069952-633d-482c-90ab-2451cac6751a], [~accountid:557058:963c273f-0ab7-4d6d-b75c-50328191d665] Before we start working on this - is a change queue for 4.2.3 something we need? Note that without it, there is no automated OST testing for the engine 4.2.3 branch. ","02/May/18 11:11 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;[~accountid:557058:3a069952-633d-482c-90ab-2451cac6751a]  If we're planning to release oVirt 4.2.3 in one week hopefully, is it still worth it to build that flow including new suites just for this flow?
We are testing 4.2.3 as part of 4.2 (4.2.4) as always, and in case there will be failures, we can always test specifically 4.2.3 in manual jobs.

",02/May/18 11:20 AM;557058:3a069952-633d-482c-90ab-2451cac6751a;Not worth to be done for 4.2.3 IMHO. But it would be nice to have a quick way to get everything set up when we need to branch for stabilization. I foresee this happening again in 4.2.,"02/May/18 11:25 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;[~accountid:557058:3a069952-633d-482c-90ab-2451cac6751a] I agree. we need to think how to address this use case of branching some projects to version branches, without too much of an overhead.","13/May/18 5:53 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;[~accountid:557058:5fc78873-359e-47c9-aa0b-4845b0da8143] I think the concensus from devel was it's not worth adding CQ for x.y.z versions and testing should be done manual, so you can probably close it.","13/May/18 5:57 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;Allright, closing with WONTFIX.",,,,,,,,,,,,,Done
Add FC28 support to mock_runner,OVIRT-1985,34184,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,High,Fixed,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,28/Apr/18 11:06 AM,04/Jun/18 1:29 AM,18/Feb/21 3:54 AM,13/May/18 5:51 AM,,OVIRT-INFRA-MAY-2018,mock_runner,,,,,,0,,,,,"FC28 is gonna be out very soon, we need to support it.",,,,,,,,,,,,,,,,,,,,,,,Code review,,,{},OVIRT-400,,,,,,,,,,,,,,,,0|i00f5b:,,,,,,,,,,,,,,,"29/Apr/18 10:16 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;Patch to add support in mock_runner created.

Blocking on code review.",13/May/18 5:51 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;Patch merged.,,,,,,,,,,,,,,,,,Done
"Create ""out-of-band"" slave cleanup and setup jobs",OVIRT-1984,34183,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,Won't Fix,infra,557058:11f1b41b-2c35-4fdf-b282-1510ce705d4d,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,28/Apr/18 10:58 AM,29/Aug/19 9:12 AM,18/Feb/21 3:54 AM,04/Jul/19 7:21 AM,,ovirt-infra-aug-2019,Jenkins Slaves,,,,,,0,,,,,"Right now, we run slave cleaup and setup steps as part or every single job we run. This has several shortcomings:
# It takes a long time from the point a user submitted a patch to the point his actual test or build code runs
# If slave setup or cleanup steps fail - they fail the whole job for the user
# If slave setup or cleanup steps fail - they can keep failing for many jobs until the CI team intervenes manually
# There is a ""chicken and an egg"" issue where some parts of the CI code have to run before the slave was properly cleaned up and configured.  This makes if harder to add new slaves for the system.

Here is a suggested scheme to fix all this:
# Label all slaves that should be cleaned up automatically as 'cleanable'. This is mostly to prevent the jobs described here from operating on the master node.
# Have a ""cleanup scheduler"" job that finds all slaves labelled as ""cleanable"" but not as ""dirty"" or ""clean"", labels them as ""dirty"" and runs a cleanup job on them.
# Have a ""cleanup"" job that is triggered on particular slaves by the ""cleanup scheduler"" job, runs cleaup and setup steps on them and then labels them as ""clean"" and removes the ""dirty"" label.
# Have all other CI jobs only use slaves with the ""clean"" label.

Notes:
# The ""dirty"" label is there to make the ""cleanup scheduler"" job not trigger twice on the same slave before the""cleanup"" job started cleaning it up.
# Since all slaves used by the real jobs will always be clean - there will no longer be a need to run cleanup steps in the real jobs, thus saving time.
# If cleanup steps fail - the cleanup job will fail and the slave will not be marked as ""clean"" so real jobs will never try to use it.
# To solve the ""chicken and egg"" issue, the cleanup job probably must be a FreeStyle jobs and all the cleanup and setup code must be embedded into it by JJB. This will probably require a newer version of JJB then what we have so setting OVIRT-1983 as a blocker.
# There is an issue of how to make CI for this - if cleanup and setup steps are removed from the normal STDCI jobs, they they will not be checked by the ""check-patch"" job of the ""jenkins repo"". Here is a suggested scheme to solve this:
## Have a way to ""loan"" slaves from the production jenkins to other Jenkins instances - this could be done by having a job that starts up the Jenkins JNLP client and tells it to connect to another Jenkins master.
## As part of the ""check-patch"" job for the 'jenkins' repo - start a Jenkins master in a container - attach some production slaves to it and have it run cleanup and setup steps on them  ",,,,,,,,,,,,,,,,,,,,,,,,,,{},OVIRT-2178,,,,,,,,,,,,,,,,0|i00f53:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
use yum4 everywhere,OVIRT-1976,34131,New Feature,To Do,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,,infra,557058:11f1b41b-2c35-4fdf-b282-1510ce705d4d,danken,557058:e3a43fc0-2392-4c23-9d8a-97ac500e22d4,danken,557058:e3a43fc0-2392-4c23-9d8a-97ac500e22d4,19/Apr/18 3:13 AM,22/Apr/18 3:20 AM,18/Feb/21 3:54 AM,,,,Standard CI (Freestyle),,,,,,0,,,,,"dnf is now available on CentOS7 in an old-new name ""yum"" version 4
https://wiki.centos.org/SpecialInterestGroup/ConfigManagementSIG/YUM4

Let us use yum4 everywhere in CI, because yum3 is slow, different from dnf, and smells like dying.",,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,0|i00f33:,,,,,,,,,,,,2018-04-22 08:14:05.858,,,"22/Apr/18 3:14 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;If ""yum4"" is ABI compatible enough with the existing ""yum"" for RHEL/CentOs to replace it transparently and implicitly within the same Y stream, we will implicitly switch. Otherwise we will stay with what the system uses by default.",,,,,,,,,,,,,,,,,,To Do
Install OpenShift and Kubernetes Jenkisn plugins,OVIRT-1966,34090,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,High,Done,Evgheni Dereveanchin,557058:caa507e4-2696-4f45-8da5-d2585a4bb794,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,08/Apr/18 10:12 AM,02/Sep/18 10:50 AM,18/Feb/21 3:54 AM,14/Jun/18 5:59 AM,,OVIRT-INFRA-JUN-AUG-2018,Jenkins Master,OpenShift,,,,,0,jenkins,,,,"In order to use OpenShift from Jenkins we probably need the following plugins:
#  Kubernetes
# OpenShift Pipeline
# OpenShift Client

Please install them on our Jenkins instances.",,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,0|i00f0n:,,,,,,,,,,,,2018-06-01 11:42:41.093,,,08/Apr/18 10:15 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;Note: i've already installed the plugins manually on the staging instance. Hopefully they will not get uninstalled by puppet....,01/Jun/18 6:42 AM;557058:caa507e4-2696-4f45-8da5-d2585a4bb794;Jenkins does not touch unknown plugins so they are not deleted. I can add the plugins to Prod during the next patch window if that's still relevant.,03/Jun/18 2:41 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;sure lets get them installed,,,,,,,,,,,,,,,,Done
"Hooks: Make Use of ""Include In"" when Looking for Branches the Change in Merged",OVIRT-1941,33985,New Feature,To Do,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,Edward Haas,557058:866c109f-3951-4680-8dac-b76caf296501,Edward Haas,557058:866c109f-3951-4680-8dac-b76caf296501,21/Mar/18 9:51 AM,25/Mar/18 3:23 AM,18/Feb/21 3:54 AM,,,,Gerrit/git,,,,,,0,"hooks,",,,,"This ticket is triaged to request the following:

Per Edward Haas we should be able to use ""include in"" feature of the gerrit we now have. This lists the branches the patch is included in (and it is smarter to detect it no matter which original branch it was added initially). E.g. https://gerrit.ovirt.org/#/c/84640 merged into ""master"" also lists ""ovirt-4.2"" there. We did not had this feature in gerrit in the past, but we have it in the new version. We should check how hard to access it from the hooks code and modify it to use it if possible.

Original Request:

Hello,

I backported two patches to 4.1, and it failed on check-patch repo related
problems and on not detecting that the patches are included in all stable
branches (I guess 4.2).

Could you please help out?

Thanks,
Edy.",,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,0|i00ei7:,,,,,,,,,,,,2018-03-21 15:54:08.585,,,"21/Mar/18 10:54 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;Can you please add links to the failing patches?
As for the repos, you should check the .repos files under automation/ dir
to see if all the repos there are working.
Also, not sure what you mean by not detecting, you're referring to the
gerrit hooks? maybe best to paste the error message

On Wed, Mar 21, 2018 at 4:51 PM, Edward Haas (oVirt JIRA) <



-- 

Eyal edri


MANAGER

RHV DevOps

EMEA VIRTUALIZATION R&D


Red Hat EMEA <https://www.redhat.com/>
<https://red.ht/sig> TRIED. TESTED. TRUSTED. <https://redhat.com/trusted>
phone: +972-9-7692018
irc: eedri (on #tlv #rhev-dev #rhev-integ)
","21/Mar/18 11:46 AM;557058:866c109f-3951-4680-8dac-b76caf296501;Sorry, I missed the links.

This is the patch: https://gerrit.ovirt.org/#/c/89298/
Failed job:
http://jenkins.ovirt.org/job/vdsm_4.1_check-patch-el7-x86_64/1050/
(re-triggering it helped)
Verify failed on: Check Backport::WARN, The patch wasn't backported to all
the relevant stable branches. (-1)


","22/Mar/18 5:18 AM;557058:5ca52a09-2675-4285-a044-12ad20f6166a;Hello [~accountid:557058:866c109f-3951-4680-8dac-b76caf296501]. As per hooks comments:

Check Backport::WARN, The patch wasn't backported to all the relevant stable branches. (-1)

and as [~accountid:557058:eb7f406a-2711-4ed8-a22c-d0a71a68ec09] already commented in gerrit, the reason is that you do not have 4.2 backport.

For the CI failure it was related to the broken metadata http://debuginfo.centos.org that was a temporarily condition and it was resolved by the time you did a rerun that is passed.","22/Mar/18 6:41 AM;557058:866c109f-3951-4680-8dac-b76caf296501;This is a cherry-pick from https://gerrit.ovirt.org/#/c/84640/ which is
included in 4.2 already.

On Thu, Mar 22, 2018 at 12:18 PM, Anton Marchukov (oVirt JIRA) <

","22/Mar/18 7:23 AM;557058:5ca52a09-2675-4285-a044-12ad20f6166a;Hello Edward.

I replied in the change set. Unfortunately the current hook sources the
information the gerrit provides it. Since gerrit does not recognize that
cherry pick as such in ""cherry picks"" list it will fail. However the
project lead should be able to override that ""-1"" if he considers all is
set.

Anton.

On Thu, Mar 22, 2018 at 12:41 PM, Edward Haas (oVirt JIRA) <




-- 
Anton Marchukov
Team Lead - Release Management - RHV DevOps - Red Hat
","22/Mar/18 7:38 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;It's a corner case where the patch was merged to master before 4.2 branch was created,  but the hook doesn't know that, he search fort he changeID in Gerrit and I'm not sure its possible to know that from Gerrit itself.

We can open a ticket to investigate it but I'm not sure its worth it since the odds of it happening are small.","22/Mar/18 7:43 AM;557058:866c109f-3951-4680-8dac-b76caf296501;But gerrit does tell us on which branches the path exists.
So base on the change ID, it should pass all the patches that reference it
and check if it is included in the branches it expects it to.

I will change it manually for now.

On Thu, Mar 22, 2018 at 2:38 PM, eyal edri (oVirt JIRA) <

","22/Mar/18 7:50 AM;557058:5ca52a09-2675-4285-a044-12ad20f6166a;In fact I am trying to find ovirt-4.2 change myself using the change id and
do not find anything:

https://gerrit.ovirt.org/#/q/I6df1fc52a26744f12dd557b6eed05defdf65b813

the current script is in no way smarter than that.

On Thu, Mar 22, 2018 at 1:43 PM, Edward Haas (oVirt JIRA) <




-- 
Anton Marchukov
Team Lead - Release Management - RHV DevOps - Red Hat
","22/Mar/18 7:59 AM;557058:5ca52a09-2675-4285-a044-12ad20f6166a;I am leaving this ticket open for now, because as per [~accountid:557058:866c109f-3951-4680-8dac-b76caf296501] we should be able to use ""include in"" feature of the gerrit we now have. This lists the branches the patch is included in (and it is smarter to detect it no matter which original branch it was added initially). E.g. https://gerrit.ovirt.org/#/c/84640 merged into ""master"" also lists ""ovirt-4.2"" there. We did not had this feature in gerrit in the past, but we have it in the new version. We should check how hard to access it from the hooks code and modify it to use it if possible.","23/Mar/18 6:50 AM;557058:e3a43fc0-2392-4c23-9d8a-97ac500e22d4;FWIIW, you don't have to depend on any specific gerrit feature

git log --grep '^Change-Id: I6df1fc52a26744f12dd557b6eed05defdf65b813' origin/ovirt-4.2

would tell you if the specific commit is in the relevant branch.",,,,,,,,,To Do
support  'ci re-merge please' command for github,OVIRT-1922,33792,New Feature,To Do,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,,infra,557058:11f1b41b-2c35-4fdf-b282-1510ce705d4d,Dafna Ron,557058:71f7543d-89dc-40eb-88ec-f938fdaa13c7,Dafna Ron,557058:71f7543d-89dc-40eb-88ec-f938fdaa13c7,07/Mar/18 6:07 AM,15/Jan/19 12:53 AM,18/Feb/21 3:54 AM,,,,,,,,,,0,,,,,"As discussed in OVIRT-1919 we do yet support ci re-merge please in github and it would be helpful to add it. 

",,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,0|i00dt3:,,,,,,,,,,,,2018-12-31 15:22:41.623,,,"31/Dec/18 9:22 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;[~accountid:557058:5fc78873-359e-47c9-aa0b-4845b0da8143] did we get requests for adding it?
What is the current workaround to replace this command if we need to re-trigger it from a GitHub project?","15/Jan/19 12:53 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;This ticket is a request, by [~accountid:557058:71f7543d-89dc-40eb-88ec-f938fdaa13c7], that needs it....

The current workaround is to go to the webhook invocation history in GitHub, find the right invocation (can be hard for busy projects), and re-send it.",,,,,,,,,,,,,,,,,To Do
Add option to filter packages in OST manual,OVIRT-1915,33785,New Feature,To Do,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,,Dusan Fodor,557058:f038b2a2-2805-49b5-a696-c426c5e40f4c,Daniel Belenky,557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2,Daniel Belenky,557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2,04/Mar/18 6:38 AM,26/Mar/18 7:48 AM,18/Feb/21 3:54 AM,,,,,,,,,,0,first_time_task,jenkins,ost,,"Sometimes we want to filter packages that are being downloaded through repoman. In order to do so, we need to expose repoman's filtering API through Jenkins build parameters.",,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,0|i00drj:,,,,,,,,,,,,2018-03-06 12:28:12.393,,,"06/Mar/18 6:28 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;Here is the ticket to add this repoman filter option to the upstream job,
can you or Dusan handle it?
A similar code already exists in the old manual job in d/s, which doesn't
work anymore.

On Sun, Mar 4, 2018 at 2:39 PM, Daniel Belenky (oVirt JIRA) <



-- 

Eyal edri


MANAGER

RHV DevOps

EMEA VIRTUALIZATION R&D


Red Hat EMEA <https://www.redhat.com/>
<https://red.ht/sig> TRIED. TESTED. TRUSTED. <https://redhat.com/trusted>
phone: +972-9-7692018
irc: eedri (on #tlv #rhev-dev #rhev-integ)
","11/Mar/18 9:55 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;Suggested code to add to the manual job ( taken from ds job ) to update the extra sources file, probably needs some work and adjustments.


{code:java}
ARCHS=(""x86_64 noarch"")
    echo -n """" > ${EXT_RESOURCES}
    for arch in ${ARCHS} ; do echo ""${CUSTOM_REPOS}${arch}/${FILTER_PACKAGES:=''}"" >> ${EXT_RESOURCES} ; done
    sed -i ""s|${SUITE_TYPE}.*|${SUITE_TYPE}_${VERSION}_custom,${CUSTOM_REPOS#rec:}|"" ${WORK_DIR}/automation/${OVIRT_SUITE}.repos
{code}
",,,,,,,,,,,,,,,,,To Do
RFE: Add relevant git commit messages as comments in the relevant Bugzillas,OVIRT-1911,33718,New Feature,To Do,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,Yaniv Kaul,557058:75f9bb6c-1b9f-4049-bdd4-dbb844d24119,Yaniv Kaul,557058:75f9bb6c-1b9f-4049-bdd4-dbb844d24119,25/Feb/18 9:19 AM,12/Jun/18 1:43 AM,18/Feb/21 3:54 AM,,,,Gerrit/git,Gerrit Hooks,,,,,0,,,,,"When a bug moves to MODIFIED, can we add the relevant commit message(s) to the bug?
I see it happening in RHEL from time to time, and I think it's easier (for us and QE) then clicking on the link to Gerrit.",,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,0|i00dq7:,,,,,,,,,,,,2018-02-25 15:41:23.511,,,"25/Feb/18 9:41 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;Anton, how much effort do you think this will need to add it to Gerrit Hooks? 

[~accountid:557058:75f9bb6c-1b9f-4049-bdd4-dbb844d24119] I also think this should be communicated before adding, people sometimes don't like new automatic info added to bugs without a good reason.

We'll also need to think what do you do in case there are multiple external trackers attached to the bug, which is the case most of the time, do you start ""spamming"" the bug with commit messages from each tracker? sometimes it can be as much as 10 different patches. 

What about if there are trackers from multiple projects, a quite common scenario with oVirt bugs (e.g vdsm + engine + jsonrpc) , do you add all the commit messages then? 

We've seen issues with current new comments added to bugs when they can't move to ON_QA, it has the potential of causing more noise than good, so we really need to think if and how we want to implement this before moving forward.

cc [~accountid:557058:f038b2a2-2805-49b5-a696-c426c5e40f4c]
","12/Jun/18 1:43 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;[~accountid:557058:75f9bb6c-1b9f-4049-bdd4-dbb844d24119] I'm not sure we really need it, you have the commit msg listed in the external trackers already in each bug.
Also, this will spam people on the bug and we'll have to do complex parsing on comments to avoid duplication.

Can we close this ?",,,,,,,,,,,,,,,,,To Do
project_setup.sh failed to load a file,OVIRT-1902,33675,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,High,Fixed,Daniel Belenky,557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2,Gal Ben Haim,557058:f57f4f3d-a7d2-40b5-8ef1-94b6bbbf8dc7,Gal Ben Haim,557058:f57f4f3d-a7d2-40b5-8ef1-94b6bbbf8dc7,18/Feb/18 12:10 PM,28/Feb/18 9:33 AM,18/Feb/21 3:54 AM,18/Feb/18 1:50 PM,,OVIRT-INFRA-FEB-2018,,,,,,,0,,,,,"Link to the job: http://jenkins.ovirt.org/blue/organizations/jenkins/kubevirt_kubevirt-ansible_standard-check-pr/detail/kubevirt_kubevirt-ansible_standard-check-pr/107/pipeline/92

[kubevirt_kubevirt-ansible_standard-check-pr] Running shell script
shell-scripts/project_setup.sh
Traceback (most recent call last):
  File ""/home/jenkins/workspace/kubevirt_kubevirt-ansible_standard-check-pr/jenkins/scripts/secrets_resolvers.py"", line 134, in <module>
    main()
  File ""/home/jenkins/workspace/kubevirt_kubevirt-ansible_standard-check-pr/jenkins/scripts/secrets_resolvers.py"", line 11, in main
    parse_args()
  File ""/home/jenkins/workspace/kubevirt_kubevirt-ansible_standard-check-pr/jenkins/scripts/secrets_resolvers.py"", line 56, in parse_args
    args.func(args)
  File ""/home/jenkins/workspace/kubevirt_kubevirt-ansible_standard-check-pr/jenkins/scripts/secrets_resolvers.py"", line 63, in main_filter_data
    args.project, args.branch, load_secret_data(args.secret_file))),
  File ""/home/jenkins/workspace/kubevirt_kubevirt-ansible_standard-check-pr/jenkins/scripts/secrets_resolvers.py"", line 128, in load_secret_data
    return yaml.safe_load(sf)
  File ""/usr/lib64/python2.7/site-packages/yaml/__init__.py"", line 93, in safe_load
    return load(stream, SafeLoader)
  File ""/usr/lib64/python2.7/site-packages/yaml/__init__.py"", line 71, in load
    return loader.get_single_data()
  File ""/usr/lib64/python2.7/site-packages/yaml/constructor.py"", line 37, in get_single_data
    node = self.get_single_node()
  File ""/usr/lib64/python2.7/site-packages/yaml/composer.py"", line 36, in get_single_node
    document = self.compose_document()
  File ""/usr/lib64/python2.7/site-packages/yaml/composer.py"", line 55, in compose_document
    node = self.compose_node(None, None)
  File ""/usr/lib64/python2.7/site-packages/yaml/composer.py"", line 82, in compose_node
    node = self.compose_sequence_node(anchor)
  File ""/usr/lib64/python2.7/site-packages/yaml/composer.py"", line 111, in compose_sequence_node
    node.value.append(self.compose_node(node, index))
  File ""/usr/lib64/python2.7/site-packages/yaml/composer.py"", line 84, in compose_node
    node = self.compose_mapping_node(anchor)
  File ""/usr/lib64/python2.7/site-packages/yaml/composer.py"", line 133, in compose_mapping_node
    item_value = self.compose_node(node, item_key)
  File ""/usr/lib64/python2.7/site-packages/yaml/composer.py"", line 84, in compose_node
    node = self.compose_mapping_node(anchor)
  File ""/usr/lib64/python2.7/site-packages/yaml/composer.py"", line 127, in compose_mapping_node
    while not self.check_event(MappingEndEvent):
  File ""/usr/lib64/python2.7/site-packages/yaml/parser.py"", line 98, in check_event
    self.current_event = self.state()
  File ""/usr/lib64/python2.7/site-packages/yaml/parser.py"", line 428, in parse_block_mapping_key
    if self.check_token(KeyToken):
  File ""/usr/lib64/python2.7/site-packages/yaml/scanner.py"", line 115, in check_token
    while self.need_more_tokens():
  File ""/usr/lib64/python2.7/site-packages/yaml/scanner.py"", line 149, in need_more_tokens
    self.stale_possible_simple_keys()
  File ""/usr/lib64/python2.7/site-packages/yaml/scanner.py"", line 289, in stale_possible_simple_keys
    ""could not found expected ':'"", self.get_mark())
yaml.scanner.ScannerError: while scanning a simple key
  in ""****"", line 18, column 1
could not found expected ':'
  in ""****"", line 19, column 1
Aborting.
script returned exit code 1",,,,,,,,,,,,,,,,,,,,,,,,,,{},OVIRT-400,,,,,,,,,,,,,,,,0|i00dgn:,,,,,,,,,,,,2018-02-18 19:50:27.179,,,"18/Feb/18 1:50 PM;557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2;Hi,

This is my fault. I've updated the secrets file today per user's request and I've had a syntax error.
Fixed it now.

Thank you for reporting this",18/Feb/18 1:50 PM;557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2;Updated secrets file (fixed syntax error),,,,,,,,,,,,,,,,,Done
Add conditional execution parameter (run_if) to DSL options,OVIRT-1894,33586,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,Fixed,Daniel Belenky,557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2,Daniel Belenky,557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2,Daniel Belenky,557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2,12/Feb/18 9:08 AM,01/Apr/18 7:31 AM,18/Feb/21 3:54 AM,01/Apr/18 6:43 AM,,OVIRT-INFRA-MARCH-2018,STDCI DSL,,,,,,0,standard-ci,,,,"We want to have the ability to specify conditional execution of threads (stage, substage, ... ) with different conditions.
The first condition to implement (and probably the most straightforward one) is to execute a thread in certain files were changed.

Example schema for the syntax:
{code:yaml}
---
stage: check-patch
substage:
  - change1:
      run-if:
        - file-changed: <filename>
  - change2:
      run-if:
        - file-changed:
            - <file1>
            - <file2>
{code}
",,,,,,,,,,,,,,,,,,,,OVIRT-1143,,,,,,{},OVIRT-400,,,,,,,,,,,,,,,,0|i005lp:fi,,,,,,,,,,,,2018-04-01 11:42:33.766,,,27/Feb/18 1:57 AM;557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2;Blocking on code review,01/Apr/18 6:42 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;Blocked on code review but without a link to the patch?,01/Apr/18 6:43 AM;557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2;Done,,,,,,,,,,,,,,,,Done
Add fcraw support for s390x and ppc64le,OVIRT-1886,33438,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,Won't Do,infra,557058:11f1b41b-2c35-4fdf-b282-1510ce705d4d,Sandro Bonazzola,557058:3a069952-633d-482c-90ab-2451cac6751a,Sandro Bonazzola,557058:3a069952-633d-482c-90ab-2451cac6751a,07/Feb/18 4:34 AM,02/Sep/18 10:50 AM,18/Feb/21 3:54 AM,04/Jun/18 9:04 AM,,OVIRT-INFRA-JUN-AUG-2018,CI Mirrors,mock_runner,,,,,0,,,,,"Hi,
pushed https://gerrit.ovirt.org/#/c/87068/ for adding support to fcraw for
s390x ad ppc64le but looks like it won't be enough, opening a ticket as
suggested by Barak.

-- 

SANDRO BONAZZOLA

ASSOCIATE MANAGER, SOFTWARE ENGINEERING, EMEA ENG VIRTUALIZATION R&D

Red Hat EMEA <https://www.redhat.com/>
<https://red.ht/sig>
TRIED. TESTED. TRUSTED. <https://redhat.com/trusted>",,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,0|i00c27:,,,,,,,,,,,,2018-06-04 14:04:22.368,,,07/Feb/18 4:37 AM;557058:3a069952-633d-482c-90ab-2451cac6751a;Please push a revert for https://gerrit.ovirt.org/87249 once fcraw mock runner supports ppc64le and s390x,04/Jun/18 9:04 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;It was decided to drop fcraw support from CI due to its instability.,,,,,,,,,,,,,,,,,Done
Manual building UI,OVIRT-1874,33424,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,Incomplete,infra,557058:11f1b41b-2c35-4fdf-b282-1510ce705d4d,Lev Veyde,557058:462bf7ad-bf7a-4b00-a7e1-e7634cb32a3f,Lev Veyde,557058:462bf7ad-bf7a-4b00-a7e1-e7634cb32a3f,04/Feb/18 4:56 AM,29/Aug/19 9:12 AM,18/Feb/21 3:54 AM,15/Dec/18 9:38 AM,,ovirt-infra-aug-2019,Standard CI (Pipelines),,,,,,0,builds,releases,,,"Hi,

We need the interface to be able to do manual builds from specific refs
(i.e. tag/hash) for the projects.

Thanks,
-- 

Lev Veyde

Software Engineer, RHCE | RHCVA | MCITP

Red Hat Israel

<https://www.redhat.com>

lev@redhat.com | lveyde@redhat.com
<https://red.ht/sig>
TRIED. TESTED. TRUSTED. <https://redhat.com/trusted>",,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,0|i00bz3:,,,,,,,,,,,,2018-02-04 11:46:15.626,,,"04/Feb/18 5:46 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;Why not use the 'ci please build' feature from the relevant patch
(sha1/hash) you want to build from?
It will produce RPMs automatically from the 'build-on-demand' jobs.

On Sun, Feb 4, 2018 at 12:56 PM, lveyde (oVirt JIRA) <



-- 

Eyal edri


MANAGER

RHV DevOps

EMEA VIRTUALIZATION R&D


Red Hat EMEA <https://www.redhat.com/>
<https://red.ht/sig> TRIED. TESTED. TRUSTED. <https://redhat.com/trusted>
phone: +972-9-7692018
irc: eedri (on #tlv #rhev-dev #rhev-integ)
",04/Feb/18 7:08 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;[~accountid:557058:2dee8503-051b-4630-8a75-2c544524dce8] I think Lev is referring to post-merge building for release.,"15/Dec/18 9:38 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;not reply from the requestor, please reopen with more info if its still needed.",,,,,,,,,,,,,,,,Done
Allow engineers to write Jenkinsfiles,OVIRT-1868,33418,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,Won't Do,infra,557058:11f1b41b-2c35-4fdf-b282-1510ce705d4d,Roman Mohr,5a7049108c59085781cd1c80,Roman Mohr,5a7049108c59085781cd1c80,30/Jan/18 4:36 AM,29/Aug/19 9:12 AM,18/Feb/21 3:54 AM,04/Jul/19 7:06 AM,,ovirt-infra-aug-2019,Standard CI (Pipelines),,,,,,0,,,,,"Looks like standard-ci switched internally to use Jenkinsfiles. However it
would be very valuable for engineers, if they could just write their
Jenkinsfile, instead of all the usual standard-ci yamls/scripts.

With the Jenkinsfile the chroot based approach seems to be pretty obsolete,
if you allow people to use the docker agent for the Jenkinsfile. For
KubeVirt it would make standard-ci finally really valuable.",,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,0|i00bxr:,,,,,,,,,,,,2018-01-30 13:22:07.606,,,"30/Jan/18 7:22 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;{quote}
Looks like standard-ci switched internally to use Jenkinsfiles. However it
would be very valuable for engineers, if they could just write their
Jenkinsfile, instead of all the usual standard-ci yamls/scripts.
{quote}

We use pipelines - Jenkinfiles are pipeline-based but also impose a very specific workflow, while generic pipelines are far more flexible.

{quote}
With the Jenkinsfile the chroot based approach seems to be pretty obsolete,
{quote}

Nope,there are quite a few things the current approach makes easy to do that Jenkinsfile would make complex or impossible. 
The main point of the current approach is not the use of mock/chroot, which is an implementation detail, but the use of a standardized generic configuration format, where different backends could be implemented.

It allows the CI team to deal effectively with how CI resources are distributed and managed while allowing developers to just specify what they need. With Jenkinsfile the developers would have to deal with a lot of the mechanics or resource allocation and management, while the CI team will be unable to control how resources are used or to ensure they are returned to usable state when jobs finish.

The configuration formal also allows the CI system to gain a good knowledge about the dependencies for a given test/build process. This allows it to to control how and which versions of these dependencies are provided. (For example, when you ask for yum repositories, the CI system ensure you get the same view of these repositories from the point in time in which the jobs started, even if they get updated while the job is running).

Jenkinsfile, as it stands, will also chain us to a very specific CI orchestration engine. Don't get me wrong, Jenkins is nice, but its good to know we can switch the backend and have that switch be mostly transparent to project developers. Its also very convenient to have a client-side mini-backend, it would be quite impossible to make such a backend for a Jenkinsfile.

{quote}
if you allow people to use the docker agent for the Jenkinsfile. For
KubeVirt it would make standard-ci finally really valuable.
{quote}

STDCI have been quite valuable so far TYVM.

Using the docker agent as you suggest will actually make it lees so because it will chain you to a very specific method of resource allocation. It will make it harder to do things like ensure a certain test script gets its own bare-metal machine to run on. 

Docker containers are useful - but many people couldn't care less, they just know they need to target 'el7' and need a few dependencies for that, forcing then to then deal with finding or making a suitable container image will just divert efforts from the more important work of writing the actual code to be tested.

The main thing that Jenkinsfiles have to offer that STDCI does not support currently is the ability to sequentially chain multiple steps together and have control flow to decide which steps get executed. We are going to make STDCI provide that, and we're going to try to do that in a syntax that would be familiar to anyone who is familiar with Jenkinsfiles. But it is going to be a subset of the Jenkinsfie syntax. Things like node() for example, are probably not going to be supported since STDCI already provides higher-level ways of requesting node allocation.",,,,,,,,,,,,,,,,,,Done
Allow embedded secrets inside the source repo for CI,OVIRT-1867,33417,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,Won't Do,infra,557058:11f1b41b-2c35-4fdf-b282-1510ce705d4d,Roman Mohr,5a7049108c59085781cd1c80,Roman Mohr,5a7049108c59085781cd1c80,30/Jan/18 4:36 AM,29/Aug/19 9:12 AM,18/Feb/21 3:54 AM,04/Jul/19 7:06 AM,,ovirt-infra-aug-2019,Standard CI (Pipelines),STDCI DSL,,,,,0,credentials,,,,"In order to improve the self-service capabilities of standard-ci it is
important for projects, that they can add their own secrets to projects (to
reach external services, e.g. docker hub, ...).

Travis has a very nice system which helps engineers there:
https://docs.travis-ci.com/user/encryption-keys/

Basically the CI system needs to generate a public/private key pair for
every enabled git repo. The engineer simply fetches the public key via a
well know URL and encrypts the secrets. Then the encrypted secret can be
made part of the source repo. Before the tests are run the CI system
decrypts the secrets. Than can play together pretty well with Jenkinsfiles
too.


Benefit:
 * Less manual intervention from CI team to add secrets to jobs
 * Strengthen the config-in-code thinking",,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,0|i00bxj:,,,,,,,,,,,,2018-01-30 11:44:34.303,,,"30/Jan/18 5:44 AM;557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2;We actually have a mechanism for secrets as environmental variables in stdci. Currently, we hold the secrets in a single secret file on our Jenkins master, and engineers can request those secrets as environmental variables via *.environment.yaml. The syntax is the same as for Kubernetes:

{code:java}
---
- name: MY_VAR
  valueFrom:
    secretKeyRef:
      name: MySecret1
      value: password
{code}
The example above will bind the password field from MySecret1 to $MY_VAR inside the chroot created by STDCI.

 The one part which is still missing though is a common interface to allow projects to add the secrets to this file automatically.","30/Jan/18 5:52 AM;5a7049108c59085781cd1c80;In my opinion, having the secrets encrypted in the code is better, since you don't need accounts for engineers on CI to do that. A public rsa key can be made accessible for the whole world. With other words, the issue is exactly about the self-service and not about how to bind existing secrets. It is also related to OVIRT-1868. In combination with a Jenkinsfile, pretty much the whole yaml/script/chroot can be made obsolete, however that is a different story.","30/Jan/18 8:13 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;[~accountid:5a7049108c59085781cd1c80] the main issue I have with the concept you suggest is that it chains the code to a specific instance of the CI system.

The point of STDCI is to be a standard - you can take a compliant project and build/test it the same way on different CI systems. They way you suggest to handle secrets - it essentially chains the project to a specific CI system instance - the one that knows the right private key.

This concept makes perfect sense for PAAS providers like Travis that want to lock you into the single instance their platform...

Our view of credentials is also slightly different - instead of a developer providing his own credentials for using service X, he just asks for access for service X, and it becomes the CI system's responsibility to figure out how to provide access to that service.

Having said the above, implementing what you ask for is not difficult, so we may add this soon as an additional feature for our existing credentials support. The main challenge would be to find where to store all the private keys and provide access to the public keys. Our system doesn't really have a UI that is not linked to a specific build/test run, since so far the assumption has always been that all communication with the CI system is done via commits or comments to the SCM.","08/Feb/18 7:28 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;Here is an implementation scheme that can meet [~accountid:5a7049108c59085781cd1c80]'s UX requirements while still allowing STDCI projects to be portable between CI systems.

First, we adopt or setup an online credentials storage service that has the following features:
# It has a UI where users can login and upload or download credentials
# It has functionality where it can generate key pairs while storing the private key and making the public key visible.
# It supports a oAuth-like flow where a system can request access to certain credentials and the user can confirm or deny it.

Second, we write a secrets provider that allows the user to refer to a set of credentials in the service above (As well as the service itself). When trying to provide the secrets, the system would request access via the credentials storage service.

Third, we write an STDCI service that encapsulates the special-case flow where we get a private key from the secrets provider and use it tio decrypt files from the Git repo.","04/Jul/19 7:06 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;KubeVirt moved to Prow, and AFAIU this feature isn't needed anymore on STDCI.",,,,,,,,,,,,,,Done
Create a new suite to test oVirt and ManageIQ integration,OVIRT-2099,33367,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,Won't Do,Eyal Edri,557058:2dee8503-051b-4630-8a75-2c544524dce8,Eyal Edri,557058:2dee8503-051b-4630-8a75-2c544524dce8,Eyal Edri,557058:2dee8503-051b-4630-8a75-2c544524dce8,28/Dec/17 9:17 AM,02/Sep/18 10:50 AM,18/Feb/21 3:54 AM,04/Jun/18 9:10 AM,,OVIRT-INFRA-JUN-AUG-2018,OST,,,,,,0,,,,,"We would like to test oVirt and ManageIQ together in a single suite to test various integration flows that requires the installation of both projects.

This ticket will include ideas and option on how to do it in OST:
 - Should we install ManageIQ as an independent VM running on Libvirt ( Lago VM )? 
   - Can we use the qc2 image? http://releases.manageiq.org/manageiq-openstack-fine-4.qc2 
 - Should we install it as a VM inside oVirt? 
    - Can we use the ova image? http://releases.manageiq.org/manageiq-ovirt-fine-4.ova
    - We can host the ManageIQ image on glance.ovirt.org if we want to use as a VM in oVirt

Open questions:
 - Which features/test cases do we want to run?
 - Can a single host (BM) run both projects at the same time? 
 - Do we want to use oVirt Orb images to reduce installation speeds and minimize system changes? i.e focus on testing a specific oVirt release with a moving manageIQ code or vice versa? 
 - Can we get ManageIQ built nightly and consumed via CQ? 

[~accountid:557058:75f9bb6c-1b9f-4049-bdd4-dbb844d24119] [~accountid:557058:f57f4f3d-a7d2-40b5-8ef1-94b6bbbf8dc7] [~accountid:557058:0374cc91-14b8-49f0-bbe4-5544eee9908a] [~accountid:557058:7013bb8c-48b2-4b9b-898e-eccf5fb61fad] thoughts? ",,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,0|i00bmf:,,,,,,,,,,,,2017-12-28 15:29:28.907,,,"28/Dec/17 9:29 AM;557058:0374cc91-14b8-49f0-bbe4-5544eee9908a;Maybe worth scheduling a meeting on that one?
Overall when you build manageiq there is an appliance you can run on
ovirt/RHV so you can use that one.

As opposed to oVirt, in manageiq not everything is exposed via the API,
although they do aim for full coverage... not sure what's the coverage at
the moment.
Maybe worth involving Ilanit and Daniel as well, as they should be more
familiar with the current automation behind that.

Basic use-cases to check are:
0. Inventory refresh
1. VM provision
2. VM reconfiguration
3. Snapshots
4. Targeted refresh (see that updates to VM statuses, for example, is
reflected also in manageiq in a timely manner)
5. Sysprep?

Maybe more.
Again, not all are available in the API, so each use-case should be
examined separately.


On Thu, Dec 28, 2017 at 5:17 PM, eyal edri (oVirt JIRA) <

","28/Dec/17 9:56 AM;557058:75f9bb6c-1b9f-4049-bdd4-dbb844d24119;As for the installation, we need to use https://github.com/oVirt/ovirt-ansible-manageiq/blob/master/README.md
The VM will run on top of o-s-t based oVirt, not as a separate Lago VM.

I think we wish to test a matrix of old/new oVirt and old/new ManageIQ, with focus on:
new oVirt build - existing ManageIQ
existing oVirt - new ManageIQ build.

I don't see a need to use orb - I expect installation overall time to be fairly quick.","04/Jun/18 8:59 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;I think this is less relevant now and might not worth the effort as opposed to other flows we need ( like testing on Fedora or integration with OpenShift ).



Any objections to close this one?","04/Jun/18 9:02 AM;557058:75f9bb6c-1b9f-4049-bdd4-dbb844d24119;I think QE can handle it, so we can close it for the time being.",,,,,,,,,,,,,,,Done
Verify that there is enough space in the deployment-* directory,OVIRT-2106,33352,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,Fixed,Eyal Edri,557058:2dee8503-051b-4630-8a75-2c544524dce8,Gal Ben Haim,557058:f57f4f3d-a7d2-40b5-8ef1-94b6bbbf8dc7,Gal Ben Haim,557058:f57f4f3d-a7d2-40b5-8ef1-94b6bbbf8dc7,19/Dec/17 6:07 AM,02/Sep/18 10:50 AM,18/Feb/21 3:54 AM,10/Jun/18 8:06 AM,,OVIRT-INFRA-JUN-AUG-2018,OST,,,,,,0,,,,,"In run_suite.sh, we need to add a verification to the amount of storage space available in the deployment-* directory (where the lago env is created).

The required amount of space is ~7G, but that needs to be verified with all the suites (I know that he-* suite's take more space).",,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,0|i00bj3:,,,,,,,,,,,,2018-06-04 13:57:35.254,,,04/Jun/18 8:57 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;[~accountid:557058:f57f4f3d-a7d2-40b5-8ef1-94b6bbbf8dc7] didn't you handle this with the new feature for requirements per suite?,10/Jun/18 8:06 AM;557058:f57f4f3d-a7d2-40b5-8ef1-94b6bbbf8dc7;https://gerrit.ovirt.org/#/c/89514/,,,,,,,,,,,,,,,,,Done
provide a centos 7 template to create a vm for testing (e.g. cloud-init),OVIRT-2103,33338,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,Fixed,Gal Ben Haim,557058:f57f4f3d-a7d2-40b5-8ef1-94b6bbbf8dc7,Eitan Raviv,557058:60c84466-2fd8-4225-a3b1-dca60032ce48,Eitan Raviv,557058:60c84466-2fd8-4225-a3b1-dca60032ce48,11/Dec/17 8:40 PM,29/Aug/19 9:12 AM,18/Feb/21 3:54 AM,12/Dec/18 6:38 AM,,ovirt-infra-aug-2019,OST,,,,,,0,,,,,"Hi,
We need to have a ready to deploy centos template on the ost\lago setup to spawn a vm from. 
We would like to have the template ready in the host related storage before the tests start running (and remain there for the next run) so importing the template into storage will not lengthen the test running time.
Discussed the issue with Gal.
Thanks",,,,,,,,,,,,,,,,,,,,,,,,,,{},OVIRT-2241,,,,,,,,,,,,,,,,0|i00bfz:,,,,,,,,,,,,2017-12-12 08:44:23.628,,,"12/Dec/17 2:44 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;OST doesn't support oVirt templates out of the box, if you need a template you'll need to create it first as part of a test.
glance.ovirt.org contains CentOS images so you can use that to get a centos image and work with it.

But maybe I didn't fully understand your request, assigning to Gal.",01/Jan/18 7:58 AM;557058:f57f4f3d-a7d2-40b5-8ef1-94b6bbbf8dc7;https://gerrit.ovirt.org/#/c/85811/,,,,,,,,,,,,,,,,,Done
Featue request: Pass env variables to the manual suite,OVIRT-1786,33320,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,Won't Fix,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Roy Golan,557058:9dad5d71-a0ff-41ba-8b8d-be4412f4f3fb,Roy Golan,557058:9dad5d71-a0ff-41ba-8b8d-be4412f4f3fb,30/Nov/17 2:27 AM,28/Feb/18 9:33 AM,18/Feb/21 3:54 AM,06/Feb/18 6:58 AM,,OVIRT-INFRA-FEB-2018,OST Manual job,,,,,,0,,,,,"Hi,

I need the ability to customize a running suite execution. I already do
that today by exposing env variables to the performance suite, I just
need an ability to create and pass that using the (great :) ) manual job.

If you need more references just let me know

Thanks",,,,,,,,,,,,,,,,,,,,,,,,,,{},OVIRT-400,,,,,,,,,,,,,,,,0|i00bbz:,,,,,,,,,,,,2017-12-05 02:21:49.247,,,"04/Dec/17 8:21 PM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;the lack of configurability is by design - so that all suits have exactly the same ""API"", and therefore we can easily use them in various places and no suit-specific knowledge is needed for running any suit.

I suggest you rethink your design so extra variables are not needed. Some options you can consider:
* Have the suit automatically test various different variable values internally (You can use the lago snapshot and restor features to to reset the system to a known state and re-test).
* Create multiple suites that share most code and predefine variable values (E.g. 'Big'/'Medium' and 'Small' suits).

","04/Dec/17 8:24 PM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;I am likely to close this ticket with WONTFIX soon, leaving it open for a while for further discussion.",,,,,,,,,,,,,,,,,Done
Make sure all VDSM build dependencies for FC27 are met.,OVIRT-1782,33316,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,Won't Fix,infra,557058:11f1b41b-2c35-4fdf-b282-1510ce705d4d,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,26/Nov/17 4:19 AM,02/Sep/18 10:50 AM,18/Feb/21 3:54 AM,24/Jun/18 2:22 AM,,OVIRT-INFRA-JUN-AUG-2018,CI client projects,,,,,,0,vdsm,,,,"There had been attempts recently to make VDSM build on FC27.

Those attempts were met with mixed success as issues kept surfacing.

Fro now all the FC27 jobs for VDSM had been disabled.

This ticket is for racking work of debugging issues to re-enable the jobs",,,,,,,,,,,,,,,,,,,,,,,,,,{},OVIRT-400,,,,,,,,,,,,,,,,0|i00bb3:,,,,,,,,,,,,,,,24/Jun/18 2:22 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;VDSM development had already moved on to FC28,,,,,,,,,,,,,,,,,,Done
Check out the Gerrit verify-status plugin,OVIRT-1779,33313,New Feature,To Do,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,,infra,557058:11f1b41b-2c35-4fdf-b282-1510ce705d4d,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,25/Nov/17 5:38 AM,25/Nov/17 5:38 AM,18/Feb/21 3:54 AM,,,,Gerrit/git,,,,,,0,gerrit,,,,"The Gerrit [verify-status plugin|https://gerrit.googlesource.com/plugins/verify-status/+doc/master/src/main/resources/Documentation/about.md] allows separating CI output from normal review comments in Gerrit.

This plugin can be very useful for us as we want to increase the amount of tests a single project runs in parallel as well as to allow different tests to deliver ouput out of sync from one another.

The plugin source code can be found [here|https://gerrit.googlesource.com/plugins/verify-status/]. It seems there is also a dedicated [Jenkins plugin|https://github.com/jenkinsci/gerrit-verify-status-reporter-plugin] for interacting with this plugin. We may not need or be able to use it since it seems to be hard-wired to the 'Verify' flag.

It seems this plugin is used in [OpenStack Gerrit|https://review.openstack.org/#/c/515413/]. They are still using to old UI there, so it may be the case that the new UI does not support displaying output of this plugin.

There is a new [robot comments|https://gerrit-review.googlesource.com/Documentation/config-robot-comments.html] feature in gerrit (Not supported in the UI yet) that may end up providing similar functionality to this plugin.",,,,,,,,,,,,,,,,,,,,,,,,,,{},OVIRT-403,,,,,,,,,,,,,,,,0|i00baf:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
run basic-suite-4.1 with ovirt-engine-master to ensure SDKv3 packward compatibility,OVIRT-1769,33301,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,High,Won't Do,infra,557058:11f1b41b-2c35-4fdf-b282-1510ce705d4d,danken,557058:e3a43fc0-2392-4c23-9d8a-97ac500e22d4,danken,557058:e3a43fc0-2392-4c23-9d8a-97ac500e22d4,16/Nov/17 7:03 AM,28/Dec/17 3:30 AM,18/Feb/21 3:54 AM,25/Dec/17 10:07 AM,,OVIRT-INFRA-DEC-2017,OST,,,,,,0,,,,,"starting with basic-suite-4.2, we port test cases to sdk4. That's good, since that's the future of the project.

However, as long as we promise backward compatibility for sdk3, we need to make sure it does not break. This can be done by running basic-suite-4.1 tests on code of ovirt-master.",,,,,,,,,,,,,,,,,,,,,,,,,,{},OVIRT-400,,,,,,,,,,,,,,,,0|i00b7r:,,,,,,,,,,,,2017-11-16 13:14:32.859,,,"16/Nov/17 7:14 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;You can`t run a '*-4.1' suit on 'master' code, the final part of the suit name determines which code it tests... Instead, a new suit should be composed of the necessary parts in other suits. Since suites are mostly just sets of symlinks into a pool of shared files, this is not hard to do. I suppose the new suit could be called something like 'compat-suit-master'","25/Dec/17 10:07 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;As mentioned, if we want to run such scenario, we need to create a new suite for that, with the relevant tests.
Having said that, I'm not sure its worth the resources over testing other flows which are not covered yet.",,,,,,,,,,,,,,,,,Done
Try out the x-docs gerit plugin,OVIRT-1766,33298,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,Won't Fix,infra,557058:11f1b41b-2c35-4fdf-b282-1510ce705d4d,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,15/Nov/17 7:56 AM,29/Aug/19 9:12 AM,18/Feb/21 3:54 AM,15/Feb/19 8:51 AM,,ovirt-infra-aug-2019,Gerrit/git,,,,,,0,documentation,gerrit,,,"The x-docs plugin seems to enable Gerrit to expose markdown files from projects formatted to HTML, this can be useful as an auto-generator for project docs.

https://gerrit-review.googlesource.com/Documentation/config-plugins.html#x-docs

We might be able to use this as an '{{*.ovirt.org}}' replacement for doc URLs which currently point to GitHub or ReadTheDocs...",,,,,,,,,,,,,,,,,,,,,,,,,,{},OVIRT-403,,,,,,,,,,,,,,,,0|i00b73:,,,,,,,,,,,,2019-02-15 14:51:57.984,,,15/Feb/19 8:51 AM;557058:5ca52a09-2675-4285-a044-12ad20f6166a;We should open tickets that lists specific problems to solve,,,,,,,,,,,,,,,,,,Done
Please add performance-suite to manual job lists,OVIRT-1758,33290,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,Fixed,Roy Golan,557058:9dad5d71-a0ff-41ba-8b8d-be4412f4f3fb,Roy Golan,557058:9dad5d71-a0ff-41ba-8b8d-be4412f4f3fb,Roy Golan,557058:9dad5d71-a0ff-41ba-8b8d-be4412f4f3fb,13/Nov/17 2:51 AM,10/Jan/18 2:20 AM,18/Feb/21 3:54 AM,26/Dec/17 6:19 AM,,OVIRT-INFRA-DEC-2017,OST Manual job,,,,,,0,,,,,"Please add performance-suite-master of suites under
http://jenkins.ovirt.org/job/ovirt-system-tests_manual/",,,,,,,,,,,,,,,,,,,,,,,,,,{},OVIRT-400,,,,,,,,,,,,,,,,0|i00b5b:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
include ovirt-guest-agent in Fedora and CentOS images provided on glance.ovirt.org,OVIRT-1748,33280,New Feature,To Do,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,,infra,557058:11f1b41b-2c35-4fdf-b282-1510ce705d4d,danken,557058:e3a43fc0-2392-4c23-9d8a-97ac500e22d4,danken,557058:e3a43fc0-2392-4c23-9d8a-97ac500e22d4,08/Nov/17 8:22 AM,28/Nov/17 9:42 AM,18/Feb/21 3:54 AM,,,,,,,,,,0,,,,,"ovirt-guest-agent is an important part of the ovirt experience. So is glance.ovirt.org.

By shipping images pre-installed with our guest agent, we would provide a better product for our users. Also, doing so would make it simpler to add tests the verify the state of the guest (e.g how many interfaces does it have, and what are its IP addresses).",,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,0|i00b33:,,,,,,,,,,,,2017-11-08 14:27:02.666,,,"08/Nov/17 8:24 AM;557058:e3a43fc0-2392-4c23-9d8a-97ac500e22d4;I hope [~accountid:557058:85c6b269-fd80-4613-9d3c-690da15b9d24] and [~accountid:557058:09f61156-7277-4b0a-b675-09e8e086f46a] agree, as doing so would increase the usage of the guest agent (and guest-agent-affected flows) by the community.","08/Nov/17 8:27 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;[~accountid:557058:e3a43fc0-2392-4c23-9d8a-97ac500e22d4] we talked about this before. We provide only clean, unchanged upstream images in Glance, and we intend to continue to do so. This is very important for user trust IMO.

Maybe you can convince the upstreams to include the agent in their images. But frankly, I think the agent's existence is a bug and not a feature, given that qemu-guest-agent exists and is pre-installed in most images.",08/Nov/17 8:28 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;Although I am pleased someone finally sees glance.ovit.org as an important part of the UX...,"08/Nov/17 9:27 AM;557058:85c6b269-fd80-4613-9d3c-690da15b9d24;bq. Maybe you can convince the upstreams to include the agent in their images. But frankly, I think the agent's existence is a bug and not a feature, given that qemu-guest-agent exists and is pre-installed in most images.

At this moment qemu-guest-agent is barely usable. We are slowly working on improving it and integrating it with oVirt. But it's slow process and it will take some time before we can replace ovirt-guest-agent.

I have no objections to including it. My only concern would be if and how will we handle updates of old images when ovirt-guest-agent is updated. I assume we will not, we use what's available at installation time and that's it.","08/Nov/17 10:20 AM;557058:e3a43fc0-2392-4c23-9d8a-97ac500e22d4;[~accountid:557058:5fc78873-359e-47c9-aa0b-4845b0da8143] excuse me if I forgot a former chat about this. ovirt users would not see Fedora + ovirt-guest-agent as somehow ""tainted"". If they are pulling an image from ovirt glance, they expect to get ovirt-tweaked images.

I understand it can be a big burden to generate the image (it should happen 2-3 times a year, when the base operating system is respinned). I don't know which tools should be used to do this (`virt-customize --install ovirt-guest-agent` maybe? should I play with in-guest soflinks to enable it?)
So it is fair to block my request due to capacity.

I could be biased, but for me the benefit of shipping ovirt-guest-agent with ovirt guest images is self-evident.","09/Nov/17 6:44 AM;557058:e3a43fc0-2392-4c23-9d8a-97ac500e22d4;[~accountid:557058:4b59dae4-f33c-46b5-97d7-249175c63194], what would it take to include an enabled ovirt-guest-agent in one of the images of https://cloud.centos.org/centos/7/images/ ?",28/Nov/17 8:22 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;[~accountid:557058:3a069952-633d-482c-90ab-2451cac6751a] any thoughts?,"28/Nov/17 8:43 AM;557058:3a069952-633d-482c-90ab-2451cac6751a;AFAIK if the ovirt-guest-agent is included in an appliance provided by Fedora or CentOS build system, the agent will crash by default when running on standard qemu (OSError: [Errno 2] No such file or directory: '/dev/virtio-ports/ovirt-guest-agent.0')

So it will be unlikely added to distribution provided images.
We can respin the images ourselves but at least in integration team we have no man power to address this.
Can't user just install it with some ansible command or with cloud-init ?","28/Nov/17 8:58 AM;557058:e3a43fc0-2392-4c23-9d8a-97ac500e22d4;[~accountid:557058:3a069952-633d-482c-90ab-2451cac6751a], would a nicer error message from ovirt-guest-agent make things better? I think that shipping the agent, but not enabling it, is a reasonable solution, anyway.

The user can pull in the agent with cloud-init. [~accountid:557058:60c84466-2fd8-4225-a3b1-dca60032ce48] did it. it works. But it is slow and cumbersome.

Please note that I am trying to solve my problem downstream, with 
Bug 1323690 - New package request: ovirt-guest-agent
if accepted to RHEL, it would pop into CentOS and become easier to include in its cloud images.","28/Nov/17 9:42 AM;557058:3a069952-633d-482c-90ab-2451cac6751a;[~accountid:557058:e3a43fc0-2392-4c23-9d8a-97ac500e22d4] you may consider pushing a pull request to https://pagure.io/fedora-kickstarts or opening a bug against https://bugzilla.redhat.com/enter_bug.cgi?product=Fedora&component=spin-kickstarts for starting the discussion about adding ovirt-guest-agent to fedora images.

You can do the same for CentOS if you want to speed up before RHEL moves by opening a bug on https://bugs.centos.org reporting against Cloud Instance SIG. Please open a bz on ovirt-distribution asking to get ovirt-guest-agent built in CentOS Virt SIG too, right now it's only in EPEL.",,,,,,,,,To Do
Make stand-alone upstream source collection and updating tool,OVIRT-1746,33278,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,Fixed,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,07/Nov/17 3:24 AM,31/Jan/18 9:33 AM,18/Feb/21 3:54 AM,28/Dec/17 7:16 AM,,OVIRT-INFRA-JAN-2018,pusher.py,usrc.py,,,,,0,poll-upstream-sources,upstream-source-collector,,,"The upstream source collection code is currently built included in two different files - ""{{upstream-source-collector.py}}"" and ""{{poll-upstream-sources.py}}"". The files reside in ""{{jobs/confs/python-scripts}}"" which in turn mean they are mean for embedding into jobs by JJB.

This situation causes several issues:
# It is not easy for users to use these scripts locally, and hence its difficult to build or test repos that include upstream source dependencies locally
# There is code duplication between the two python scripts
# Adding certain features is harder because it requires one of the scripts to have access to code that resides in the other script (See OVIRT-1641 for example)
# It is impossible to use the code from pipelines (See OVIRT-1745)
# It is not east to add tests for the code

It is desirable to have the upstream source handling code be concentrated into a single tool that resides in the '{{scripts}}' directory.",,,,,,,,,,OVIRT-1641,OVIRT-1745,,,,,,OVIRT-1823,OVIRT-1824,OVIRT-1844,,,,Code review,,,{},OVIRT-400,,,,,,,,,,,,,,,,0|i00b2n:,,,,,,,,,,,,,,,"12/Dec/17 7:53 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;All patches for implementing functionality in this ticket have been written and tested.

Blocking ticket on code review",28/Dec/17 7:16 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;All relevant patches have been merged,,,,,,,,,,,,,,,,,Done
Make upstream source collection and polling code usable for pipelines,OVIRT-1745,33277,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,Fixed,infra,557058:11f1b41b-2c35-4fdf-b282-1510ce705d4d,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,07/Nov/17 3:01 AM,31/Jan/18 9:33 AM,18/Feb/21 3:54 AM,28/Dec/17 7:20 AM,,OVIRT-INFRA-JAN-2018,pusher.py,usrc.py,,,,,0,poll-upstream-sources,upstream-source-collector,,,"The upstream source collection and polling code is currently only suitable for use in Free-Style jobs. This is because:
# We support having 'jenkins' repositories (Where jobs expect STDCI code to be found) use the upstream sources mechanism to get the actual code from the main 'jenkins' repo in gerrit.ovirt.org
# This creates a situation where in order to get the STDCI code we need to run the upstream sources code
# This creates a chicken and and egg problem because the upstream sources code is part of the STDCI code
# To solve this issue we simply embedded the upstream sources code into the job code by using '{{#include}}' in JJB rather then running it as a stand-alone script.
# This technique is not usable for pipelines, so we need to come with a different solution and make the required adjustments to the source collection and polling code.",,,,,,,,,,OVIRT-1680,,,,,,,,,,,,,,,,{},OVIRT-400,,,,,,,,,,,,,,,,0|i00b2f:,,,,,,,,,,,,,,,28/Dec/17 7:20 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;Work done in OVIRT-1746 provided stand-alone tools that are usable from pipelines. No further work is needed in this ticket.,,,,,,,,,,,,,,,,,,Done
ci please build and send to OST,OVIRT-1743,33275,New Feature,To Do,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,,infra,557058:11f1b41b-2c35-4fdf-b282-1510ce705d4d,danken,557058:e3a43fc0-2392-4c23-9d8a-97ac500e22d4,danken,557058:e3a43fc0-2392-4c23-9d8a-97ac500e22d4,06/Nov/17 9:12 AM,24/Jun/18 3:22 AM,18/Feb/21 3:54 AM,,,,OST Manual job,Standard CI (Freestyle),,,,,0,change-queue,,,,"Can you please automate the frequent process, which is slow and error prone?

I am writing a patch, and would like to test it in ost. now I need to
*  ""ci please build""
* copy el7 url
* wait for el7 build to finish
* copy artifacts url to ovirt--system-test-manual, start it
* copy the ost run URL to the gerrit patch, so I have it for reference of failure/success.",,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,0|i00b1z:,,,,,,,,,,,,2017-11-06 15:49:00.425,,,"06/Nov/17 9:49 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;The process is clunky because the whole idea if having to launch stuff manually in CI is clunky.

We needed to provide a useful tool, so we brought some things together to make this possible. But I wouldn't want to spend efforts around automating a process which is IMO fundamentally broken.

Ideally you would just get OST results for every patch before merging it, but this requires several things:

# Asynchronous result notification to Gerrit, so you can see check-patch results while OST is still running  (We have that in GitHub already, but our Gerrit framework is a bit rigid still)
# Submitting pre-merged patches to CQ
# Merge emulation, which is to say, emulate how the code will look if all patches being tested were merged together.

We have bits and pieces of everything except #3 which is by far the most complex thing to do there...

Adding OVIRT-627 as a blocker","06/Nov/17 9:51 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;BTW I wonder why you need to run OST manually so often. We have change gating, so when merging a breaking change, you're only breaking the particular project you merged a change into. Other, unrelated projects can keep being tested against the last known working version...

Could it be that the project contains too much independent stuff in it?","06/Nov/17 4:12 PM;557058:e3a43fc0-2392-4c23-9d8a-97ac500e22d4;> Could it be that the project contains too much independent stuff in it?

I suppose this is not a joke, so I'll answer it seriously. Yes. Vdsm and Engine are too big and complex.

Regardless, commit/fail/revert/fix is a frustrating development model.  post/test/fix/commit is so much better.","07/Nov/17 1:14 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;{quote}
I suppose this is not a joke, so I'll answer it seriously. Yes. Vdsm and Engine are too big and complex.
{quote}

Are there low-hanging fruits there? Could we improve the per-patch checking infrastructure in one way or another to reduce the need to run full OST? Will separate checking ""threads"" that respond asynchronously help?

{quote}
Regardless, commit/fail/revert/fix is a frustrating development model. post/test/fix/commit is so much better.
{quote}

Perhaps we can make efforts to structure patches so that commit/fail/fix can be more common then commit/fail/revert/fix? Will one or both of the following things help?
# Lower latency of CQ/OST results
# Posting CQ/OST results back directly to Gerrit

","07/Nov/17 5:30 AM;557058:e3a43fc0-2392-4c23-9d8a-97ac500e22d4;If OST was cheap and quick, it would be lovely to run on any patch. It can also be run after a +2 from a maintainer, or after a workflow+1, providing a verified +0.5 to a patch. I don't know if that's what you're aiming at.","07/Nov/17 6:23 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;{quote}
If OST was cheap and quick, it would be lovely to run on any patch. It can also be run after a +2 from a maintainer, or after a workflow+1, providing a verified +0.5 to a patch. I don't know if that's what you're aiming at.
{quote}

OST is probably not going to ever be cheap and quick enough.
I'm aiming at leveraging the same group-testing+bisection tech we use for post-merge OST runs. It was initially designed for pre-merge testing (a.k.a. gating) anyway, we just decided to deliver something that is useful and works before implementing everything we set out to. ",,,,,,,,,,,,,To Do
Get oVirt listed on https://release-monitoring.org/,OVIRT-1741,33273,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Low,Fixed,Sandro Bonazzola,557058:3a069952-633d-482c-90ab-2451cac6751a,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,06/Nov/17 6:33 AM,29/Aug/19 9:12 AM,18/Feb/21 3:54 AM,15/Feb/19 9:21 AM,,ovirt-infra-aug-2019,Repositories Mgmt,,,,,,0,,,,,"https://release-monitoring.org/ seems to be a system that sends notification events when opens source projects release new versions.

Various systems seem to be listening and reacting on those events.

We should probably have oVirt listed there and sending events.",,,,,,,,,,,,,,,,,,,,,,,,,,{},OVIRT-403,,,,,,,,,,,,,,,,0|i00b1r:,,,,,,,,,,,,2017-11-11 15:36:40.418,,,"06/Nov/17 6:33 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;[~accountid:557058:3a069952-633d-482c-90ab-2451cac6751a], [~accountid:557058:2dee8503-051b-4630-8a75-2c544524dce8] WDYT?","11/Nov/17 9:36 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;+1 from me, sounds like something that will be useful for the oVirt community. 
How do they listen to new releases?",15/Feb/19 8:50 AM;557058:5ca52a09-2675-4285-a044-12ad20f6166a;[~accountid:557058:3a069952-633d-482c-90ab-2451cac6751a] do you feel this item is useful enough?,"15/Feb/19 9:21 AM;557058:3a069952-633d-482c-90ab-2451cac6751a;oVirt is already there: https://release-monitoring.org/distros/
I added it a few months ago.

It's already able to search for new tagged releases in GitHub so it can already push notificaton to fedora message bus when a new release is available.
You may be interested in opening a separate ticket for adding automation for opening rebase bugs for oVirt releases (or RHV releases) when a new tag is done.",,,,,,,,,,,,,,,Done
Unified code owners mechanism between Gerrit and GitHub,OVIRT-1739,33271,New Feature,To Do,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,,infra,557058:11f1b41b-2c35-4fdf-b282-1510ce705d4d,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,06/Nov/17 2:27 AM,24/Jun/18 2:25 AM,18/Feb/21 3:54 AM,,,,Gerrit/git,GitHub,Standard CI (Freestyle),Standard CI (Pipelines),STDCI DSL,,0,gerrit,github,reviewers,standard-ci,"""Code owners"" is the mechanism that automatically assigns reviewers to new code patches. 

In Gerrit we use the ""reviewers"" plugin to automatically set reviewers (See OVIRT-1165).

GitHub has its own mechanism: https://github.com/blog/2392-introducing-code-owners

We would like to have a unified way for oVirt devs to do this regardless of the code hosting platform.",,,,,,,,,,,,,,,,,,,,OVIRT-1657,,,,,,{},,,,,,,,,,,,,,,,,0|i00b1b:,,,,,,,,,,,,,,,"06/Nov/17 2:31 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;Current direction is to add support for this in the '{{automation.yaml}}' format so that the default behaviour would be to support the GitHub format.

Adding OVIRT-1629 as a blocker to this ticket.",,,,,,,,,,,,,,,,,,To Do
Add CI jobs to test slaves on staging engine,OVIRT-1734,33265,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,Fixed,infra,557058:11f1b41b-2c35-4fdf-b282-1510ce705d4d,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,02/Nov/17 2:24 AM,02/Sep/18 10:50 AM,18/Feb/21 3:54 AM,24/Jun/18 2:27 AM,,OVIRT-INFRA-JUN-AUG-2018,CI client projects,Jenkins Slaves,Staging infra,Standard CI (Freestyle),,,0,staging,,,,"After the staging engine was installed, several VMs were created on it and added as slaves to the staging Jenkins.
We need to add some jobs that will take advantage on those slaves so we can tell if they are working properly.
The should probably just add CI jobs for the 'jenkins' repo. That repo is already configured to run some jobs on the staging Jenkins and is mostly maintained by our team, so and issues there will be visible to us.",,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,0|i00azz:,,,,,,,,,,,,2017-12-26 12:21:04.239,,,"26/Dec/17 6:21 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;I think we now have more jobs running on staging, can we close this?","26/Dec/17 7:30 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;[~accountid:557058:2dee8503-051b-4630-8a75-2c544524dce8] no, this specifically talks about jobs for the 'jenkins' repo for testing different platforms where we only have one for now.",24/Jun/18 2:27 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;We already have multiple test jobs and projects on the staging system,,,,,,,,,,,,,,,,Done
Add storage monitoring to templates.ovirt.org,OVIRT-1731,33262,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,Done,Evgheni Dereveanchin,557058:caa507e4-2696-4f45-8da5-d2585a4bb794,Gal Ben Haim,557058:f57f4f3d-a7d2-40b5-8ef1-94b6bbbf8dc7,Gal Ben Haim,557058:f57f4f3d-a7d2-40b5-8ef1-94b6bbbf8dc7,01/Nov/17 9:08 AM,04/Dec/17 9:44 AM,18/Feb/21 3:54 AM,02/Nov/17 8:46 AM,,OVIRT-INFRA-NOV-2017,,,,,,,0,,,,,"We have started to deploy images of ""ovirt-demo-tool"" to ""templates.ovirt.org"", which can add load to the storage, therefore storage monitoring should be added to this server.

The images are stored in ""/dev/mapper/templates-repo""",,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,0|i00azb:,,,,,,,,,,,,2017-11-02 13:46:28.614,,,"02/Nov/17 8:46 AM;557058:caa507e4-2696-4f45-8da5-d2585a4bb794;Host added to monitoring:
https://monitoring.ovirt.org/icinga/cgi-bin/status.cgi?host=templates.ovirt.org",,,,,,,,,,,,,,,,,,Done
Populate fluentd-elasticsearch-pluging parameters,OVIRT-2104,33256,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,Won't Fix,Eyal Edri,557058:2dee8503-051b-4630-8a75-2c544524dce8,Shirly Radco,557058:8ebdd0fe-f761-457e-a6fb-1db3ae9d4ff2,Shirly Radco,557058:8ebdd0fe-f761-457e-a6fb-1db3ae9d4ff2,30/Oct/17 8:46 AM,02/Sep/18 10:50 AM,18/Feb/21 3:54 AM,24/Jun/18 1:04 PM,,OVIRT-INFRA-JUN-AUG-2018,OST,,,,,,0,performance,perf-suite,,,"ovirt-engine-metrics deployment script requires specifying the elasticsearch host fqdn - 'fluentd_elasticsearch_host'
We need to populate this parameter in
./performance-suite-master/test-scenarios/metrics_bootstrap/config.yml
in  order be able to set up oVirt metrics.

Depends on: https://bugzilla.redhat.com/show_bug.cgi?id=1507294
",,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,0|i00axz:,,,,,,,,,,,,2017-10-30 13:50:04.553,,,"30/Oct/17 8:50 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;Can you provide more info? which suites needs it, in what test will it be used? 
cc [~accountid:557058:f57f4f3d-a7d2-40b5-8ef1-94b6bbbf8dc7] [~accountid:557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2]","30/Oct/17 9:01 AM;557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2;If I understood correctly from attached Bugzilla, we need to make sure that the following parameters are set during OST runs?

local_fluentd_elasticsearch_ca_file_path,
local_fluentd_elasticsearch_client_cert_path,
local_fluentd_elasticsearch_client_key_path,
ovirt_env_uuid_metrics,
ovirt_env_uuid_logs

If so, we can either export them from control.sh of the relevant suites or use injections (which I think is a bit overkill for such use case).
[~accountid:557058:8ebdd0fe-f761-457e-a6fb-1db3ae9d4ff2] where the values for this parameters should come from?","30/Oct/17 9:08 AM;557058:8ebdd0fe-f761-457e-a6fb-1db3ae9d4ff2;I updated above the parameter, fluentd_elasticsearch_host, that needs to be set and the file that should be updated with it.
After I fix the dependent bug all other parameters should be populated by the ovirt-engine-metrics ansible script.","30/Oct/17 9:13 AM;557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2;What are the values that the parameters should hold? and in which phase we need to set them? I mean, before/after engine-setup? before/after we add hosts?","30/Oct/17 1:47 PM;557058:8ebdd0fe-f761-457e-a6fb-1db3ae9d4ff2;Its replacing the current ""fluentd_fluentd_host"" parameter with ""fluentd_elasticsearch_host"".
It's the FQDN of the elasticsearch host.

Its believe its after all the environment is set. Adding Roy [~accountid:557058:9dad5d71-a0ff-41ba-8b8d-be4412f4f3fb].","31/Oct/17 4:56 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;[~accountid:557058:9dad5d71-a0ff-41ba-8b8d-be4412f4f3fb] Isn't it something you can just do from the perf suite code itself by exporting the values you need?
Not sure what is needed from OST side.",24/Jun/18 1:04 PM;557058:f57f4f3d-a7d2-40b5-8ef1-94b6bbbf8dc7;Fluentd will be dropped on oVirt 4.3,,,,,,,,,,,,Done
Add production CI jobs for Kubevirt,OVIRT-1716,33244,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,High,Fixed,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,24/Oct/17 1:54 AM,10/Jan/18 2:47 AM,18/Feb/21 3:54 AM,01/Nov/17 4:29 AM,,OVIRT-INFRA-OCT-2017,CI client projects,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,Traking end-to-end functionality,,,{},OVIRT-400,,,,,,,,,,,,,,,,0|i00avb:,,,,,,,,,,,,,,,"24/Oct/17 4:37 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;Patch merged, blocking ticket to wait for new Kubevirt PRs to be created to see if everything works end-to-end.",01/Nov/17 4:29 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;CI now runs on PRs,,,,,,,,,,,,,,,,,Done
Add nightly publisher jobs for 4..2,OVIRT-1715,33243,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,High,Fixed,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,23/Oct/17 9:20 AM,01/Nov/17 5:02 AM,18/Feb/21 3:54 AM,25/Oct/17 6:44 AM,,OVIRT-INFRA-OCT-2017,oVirt Release Mgmt,,,,,,0,,,,,We need to add 4.2 nightly publisher,,,,,,,,,,,,,,,,,,,,,,,Monitoring results,,,{},OVIRT-400,,,,,,,,,,,,,,,,0|i00av3:,,,,,,,,,,,,,,,"24/Oct/17 1:41 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;Patches have been merged, waiting for job to run on schedule to see that everything works well.","25/Oct/17 6:44 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;The publisher worked fine:
http://jenkins.ovirt.org/job/ovirt_4.2_publish-rpms_nightly/1

Closing ticket.",,,,,,,,,,,,,,,,,Done
Add a job to update/modify secrets file,OVIRT-1704,33230,New Feature,To Do,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,,infra,557058:11f1b41b-2c35-4fdf-b282-1510ce705d4d,Daniel Belenky,557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2,Daniel Belenky,557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2,16/Oct/17 7:23 AM,24/Jun/18 2:31 AM,18/Feb/21 3:54 AM,,,,,,,,,,0,first_time_task,,,,"We need to have a proper way to update/modify the secrets file which is stored in our Jenkins server.
The alternative is having to add a way to download then update locally and upload again.
If we choose to allow downloading the file, we need to make it convenient and safe so that users which are unauthorized won't be able to download it.",,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,0|i00as7:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Add a 4.2 CQ flow ,OVIRT-1699,33225,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,Fixed,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Eyal Edri,557058:2dee8503-051b-4630-8a75-2c544524dce8,Eyal Edri,557058:2dee8503-051b-4630-8a75-2c544524dce8,16/Oct/17 2:49 AM,10/Jan/18 2:47 AM,18/Feb/21 3:54 AM,22/Oct/17 3:24 AM,,OVIRT-INFRA-OCT-2017,Change Queue,,,,,,0,,,,,"As discussed, we need to start preparing a 4.2 flow for CQ so projects which branched for 4.2 will be able to publish their artifacts and also to start preparing the work for the stable branch of 4.2 due in the coming months.

Initial work for running OST On 4.2 is done via: https://gerrit.ovirt.org/#/c/81969/ 
Which is basically a clone of 4.1, with empty 4.2 tested repo for now ( disabled for now ).

Once we start getting more and more projects into the 4.2 branch, we can also move to run 4.2 tests ( which will fail now because they need code from master )",,,,,,,,,,,,,,,,,,,,,,,Code review,,,{},OVIRT-400,,,,,,,,,,,,,,,,0|i00ar3:,,,,,,,,,,,,2017-10-17 16:10:04.379,,,17/Oct/17 11:10 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;Blocking ticket on patch code review,"18/Oct/17 7:19 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;Patch merged, keeping ticket to track any issues until it runs successfully.",22/Oct/17 3:24 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;Flow ran successfully end-to-end,,,,,,,,,,,,,,,,Done
"Please add the ""Generic Webhook Trigger"" plugin to Jenkins",OVIRT-1697,33223,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Highest,Done,Evgheni Dereveanchin,557058:caa507e4-2696-4f45-8da5-d2585a4bb794,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,15/Oct/17 6:56 AM,10/Jan/18 2:48 AM,18/Feb/21 3:54 AM,20/Oct/17 8:22 AM,,OVIRT-INFRA-OCT-2017,Jenkins Master,,,,,,0,github,jenkins,,,"The [Generic Webhook Trigger|https://plugins.jenkins.io/generic-webhook-trigger] is needed to enable the recently added features for supporting post-merge processing of GitHub patches.

The webhook has been successfully used in the staging instance so it aught to be safely installable.",,,,,,,,,,OVIRT-1599,,,,,,,,,,,,,,,,{},OVIRT-403,,,,,,,,,,,,,,,,0|i00aqn:,,,,,,,,,,,,2017-10-17 14:12:27.06,,,17/Oct/17 9:12 AM;557058:caa507e4-2696-4f45-8da5-d2585a4bb794;Patch submitted for review. We have the plugin installed manually on Staging for a while now and the plugin is installable without a Core restart. So I already installed it to Prod as well. The patch  just ensures updates are managed properly and new Jenkins installations include this plugin.,,,,,,,,,,,,,,,,,,Done
Add a type key to the list of available upstream sources,OVIRT-1683,33209,New Feature,To Do,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,,infra,557058:11f1b41b-2c35-4fdf-b282-1510ce705d4d,Gil Shinar,557058:7a63d510-79fe-46b1-abcf-f80963d52223,Gil Shinar,557058:7a63d510-79fe-46b1-abcf-f80963d52223,01/Oct/17 9:31 AM,15/Dec/18 9:20 AM,18/Feb/21 3:54 AM,,,,usrc.py,,,,,,0,,,,,"Currently, code supports the following upstream_sources.yaml file:
git:
    - url: <git url>
      commit: <git commit>
      branch: <branch name>

and we need to support:
- type: git
  url: <git url>
  commit: <git commit>
  branch: <branch name>
- type: svn
  url: <svn url>
  commit: <svn revision>
  branch: <branch name>",,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,0|i00anj:,,,,,,,,,,,,2018-12-15 15:20:04.556,,,"24/Oct/17 3:42 AM;557058:7a63d510-79fe-46b1-abcf-f80963d52223;Some additional info:
We want to have the above new yaml syntax to be able to have ORDER in the way we collect upstream sources.
Meaning, if for example we have two git repos as upstream sources, it is important to have an order in the way one collects them.
For example, if file a does not exists in the DS repo and exists in both US repos, we need to decide which version of the file we need. If we have two US sources (1 and 2) and we want the file that is in 1, we need to have the following order:
- type: git
  url: <git url 2>
  commit: <git commit>
  branch: <branch name>
- type: git
  url: <git url 1>
  commit: <git commit>
  branch: <branch name>

On top of that, we can have differently types of upstream sources (svn, files repositories, etc'). They should all have an order in the way DS repo collects them/",15/Dec/18 9:20 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;[~accountid:557058:5fc78873-359e-47c9-aa0b-4845b0da8143] do you think we still need it? I suggest to close it and handle only if a requirement from users / project will arise.,,,,,,,,,,,,,,,,,To Do
allow to create a dependency between patches from two projects,OVIRT-1662,33188,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Low,Duplicate,infra,557058:11f1b41b-2c35-4fdf-b282-1510ce705d4d,Dafna Ron,557058:71f7543d-89dc-40eb-88ec-f938fdaa13c7,Dafna Ron,557058:71f7543d-89dc-40eb-88ec-f938fdaa13c7,22/Sep/17 9:04 AM,01/Oct/17 5:57 AM,18/Feb/21 3:54 AM,24/Sep/17 1:51 AM,,OVIRT-INFRA-SEP-2017,oVirt CI,,,,,,0,,,,,"Sandro was asking if there is a way to create a dependency between two different a patches from two distinct project. 
It apparently also was raised in email a couple of weeks ago. 
Sandro asked that this functionality be discussed in our team so I am opening a ticket for this issue. 

",,,,,,,,,,,,,,,,OVIRT-1448,,,,,,,,,,{},OVIRT-400,,,,,,,,,,,,,,,,0|i00aj3:,,,,,,,,,,,,2017-09-24 06:26:10.153,,,"24/Sep/17 1:26 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;There is a plan for adding it to CQ, not sure if there is an open ticket on it yet, but [~accountid:557058:5fc78873-359e-47c9-aa0b-4845b0da8143] will probably know.
It's not an easy task, to say the least, and will require time to implement, and also requires us to enable patch gating, which is not ready yet. 

We might start looking into it once we finish with the current automation.yaml work and stabilize KubeVirt CI. ","24/Sep/17 1:50 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;Yeah, this is a duplicate of OVIRT-1448. Not sure why this was given ""high"" priority.

Closing as duplicate.",,,,,,,,,,,,,,,,,Done
Configure Jenkins slave using global_setup.sh,OVIRT-1643,33168,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,Duplicate,infra,557058:11f1b41b-2c35-4fdf-b282-1510ce705d4d,Gal Ben Haim,557058:f57f4f3d-a7d2-40b5-8ef1-94b6bbbf8dc7,Gal Ben Haim,557058:f57f4f3d-a7d2-40b5-8ef1-94b6bbbf8dc7,11/Sep/17 11:14 AM,11/Jan/18 7:06 AM,18/Feb/21 3:54 AM,20/Dec/17 4:35 AM,,OVIRT-INFRA-DEC-2017,oVirt CI,oVirt Infra,,,,,0,,,,,"Jenkins slaves should be configured so they will be able to run OST.
Example for some configuration that is needed:
1. Enable virtualization and nested.
2. Open port 8585 for the internal repo **
3. Create /var/lib/lago dir which is mounted into mock *
4. Install libvirt and qemu-kvm-ev

* Can be done by installing lago
* Can be done by installing lago-ovirt",,,,,,,,,,,,,,,,OVIRT-1810,,,,OVIRT-1685,OVIRT-1835,,,,,{},OVIRT-400,,,,,,,,,,,,,,,,0|i00aen:,,,,,,,,,,,,2017-09-11 16:25:42.091,,,"11/Sep/17 11:25 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;{quote} 
3. Create /var/lib/lago dir which is mounted into mock *
{quote}

Is this really necessary? {{mock_runner.sh}} already knows how to mkdir directories that are missing when it tries to mount them.",20/Dec/17 4:35 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;Closing as this is a duplicate of OVIRT-1810,,,,,,,,,,,,,,,,,Done
Automation yaml,OVIRT-1629,33154,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,Fixed,Daniel Belenky,557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2,Daniel Belenky,557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2,Daniel Belenky,557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2,04/Sep/17 8:48 AM,05/Feb/18 2:38 AM,18/Feb/21 3:54 AM,14/Jan/18 9:26 AM,,OVIRT-INFRA-JAN-2018,,,,,,,0,,,,,"As part of the efforts of moving to std ci v2, we want to have the ability for projects to specify everything that currently is under the automation dir in a +single yaml.+
The config file will include all the metadata needed to generate std ci jobs.
We can split everything that is configurable under *automation* dir currently into two groups: _categories, options_
where categories are the *distro, arch, stage, substabe* and the options are actually the specific configuration for every category: *packages, repos, yumrepos, environment, runtime_requirements, script, ...*.

Syntax example:
{code:java}
arch:
  - x86_64
distro:
  - el7:
    arch:
      - ppc64le
  - fc26
stage:
  - check-patch:
      substage:
        - test
  - build-artifacts:
      arch:
        - ppc64le:
            distro:
              - fc24
substages:
  - build
  - test
{code}",,,,,,,,,,OVIRT-1143,OVIRT-1680,OVIRT-1606,OVIRT-1014,OVIRT-1657,OVIRT-1739,,OVIRT-1875,,,,,,,,,{},OVIRT-400,,,,,,,,,,,,,,,,0|i005lp:9,,,,,,,,,,,,2018-02-05 08:14:38.037,,,19/Sep/17 10:43 AM;557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2;[WIP],"05/Feb/18 2:14 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;[~accountid:557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2] can you please update this card with relevant info on the reason for the fix and general info on what was done?
",,,,,,,,,,,,,,,,,Done
Replace Artifactory with Nexus,OVIRT-1615,33140,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Lowest,Won't Fix,infra,557058:11f1b41b-2c35-4fdf-b282-1510ce705d4d,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,26/Aug/17 1:57 AM,29/Aug/19 9:12 AM,18/Feb/21 3:54 AM,15/Feb/19 8:44 AM,,ovirt-infra-aug-2019,General,,,,,,0,Icebox,,,,"Nexus is the main competitor to Artifactory. It has similar features.  Lokking at documentation available about it, it looks like the open source version of it supports a much bigger feature set the Artifactory without requiring an upgrade to a payed version:

https://help.sonatype.com/display/NXRM3/Repository+Manager+Feature+Matrix

Of interest to us are the PyPi (Python) support, the NPM (Javascript) and the Docker support.

It seems that Nexus is available as a container, so we may try deploying it on OpenShift.

I think we need to plan and execute a migration to Nexus.

This ticket should server as a tracking ticket for the entire work. We will create blocker tickets to track needed steps. ",,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,0|i00a8f:,,,,,,,,,,,,2017-11-23 16:39:50.442,,,"23/Nov/17 10:39 AM;557058:caa507e4-2696-4f45-8da5-d2585a4bb794;Setting up nexus is described in detail in official docs (linked).

Need to define the volume size to use for artifacts. We can probably survive without persistent storage as long as mirror configurations are saved in the deployment configs but we should then set up quotas to not let the pod fill up the node's disk.","25/Nov/17 8:27 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;I actually played with it a little already and have both the V2 and the V3 containers installed on OpenShift ATM (With no persistent storage though)

At the time i was looking at hosting RPMs, and it does not seem to have the features we need for that, but I might look at it again for hosting container images soon.

Having said that, if anyone wants to look at using it as a Maven cache for engine builds, be my guest.... 

BTW, I've seen some docs discussing how to use Nexus as the container repository for OpenShift itself. Not sure we need to be looking at that though.","03/Jun/18 8:25 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;I don't see this as an immediate need to solve any issue we're facing, let's make sure we don't invest in it if not needed fro a specific task/value.",15/Feb/19 8:44 AM;557058:5ca52a09-2675-4285-a044-12ad20f6166a;We should open items for specific problems instead,,,,,,,,,,,,,,,Done
Add secrets file binding and injection to std ci,OVIRT-1611,33136,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,Fixed,Daniel Belenky,557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2,Daniel Belenky,557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2,Daniel Belenky,557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2,23/Aug/17 8:25 AM,01/Nov/17 5:03 AM,18/Feb/21 3:54 AM,08/Oct/17 4:26 AM,,OVIRT-INFRA-OCT-2017,,,,,,,0,,,,,"In order to have fully functional secrets/environmental variables injection system in std ci, we need to change several things:
# Add secrets file to Jenkins.
# Inject the secrets file from Jenkins to all std ci jobs.
# Filter the secrets file using secrets_resolvers.py (removes secrets that doesn't match by project and version)
# Modify standard-builder to call mock_runner with the required parameters and pass it the filtered secrets file from Jenkins",,,,,,,,,,OVIRT-894,,,,,,,,,,,,,Code,,,{},OVIRT-400,,,,,,,,,,,,,,,,0|i00a7j:,,,,,,,,,,,,,,,23/Aug/17 8:26 AM;557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2;Blocked by Code review,,,,,,,,,,,,,,,,,,Done
Add secrets resolving capabilities to mock_runner,OVIRT-1610,33135,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,Fixed,Daniel Belenky,557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2,Daniel Belenky,557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2,Daniel Belenky,557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2,23/Aug/17 8:20 AM,31/Aug/17 8:02 AM,18/Feb/21 3:54 AM,27/Aug/17 4:44 AM,,OVIRT-INFRA-AUG-2017,,,,,,,0,,,,,"Mock runner will look for ""${stage}.environment.yaml"" files in automation/ which is a request for secrets/environmental variables to be injected to mock env. Mock runner will use ci_env_client in order to fulfill the requests and inject the environmental variables",,,,,,,,,,OVIRT-894,OVIRT-1611,,,,,,,,,,,,Code review,,,{},OVIRT-400,,,,,,,,,,,,,,,,0|i00a7b:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
rename `automation` dir to be oriented with the std-ci system,OVIRT-1606,33131,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,High,Fixed,Daniel Belenky,557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2,Fabian Deutsch,557058:b793d139-0dcf-495b-990a-682d2ecc03b0,Fabian Deutsch,557058:b793d139-0dcf-495b-990a-682d2ecc03b0,23/Aug/17 2:49 AM,02/Sep/18 10:50 AM,18/Feb/21 3:54 AM,10/Jun/18 11:57 AM,,OVIRT-INFRA-JUN-AUG-2018,oVirt CI,,,,,,0,kubevirt,standard-ci,,,"Hey,

please support the `.ovirtci` directory as a fallback to the `automation` directory.

In cases where multiple CI systems are used, it is heplful to have each's CI tool's configuration in a directory containing the vendor or so string.

See also the discussion here https://ovirt-jira.atlassian.net/browse/OVIRT-1047?focusedCommentId=27061&page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-27061",,,,,,,,,,OVIRT-1047,,,,,,,,,,OVIRT-1548,,,,,,{},OVIRT-400,,,,,,,,,,,,,,,,0|i00a6f:,,,,,,,,,,,,2017-08-23 07:54:52.976,,,"23/Aug/17 2:54 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;[~accountid:557058:5fc78873-359e-47c9-aa0b-4845b0da8143] I discussed with [~accountid:557058:b793d139-0dcf-495b-990a-682d2ecc03b0] on this issue, let's see how we can work on it as a second step to generalize the std-ci to be more generic and not enforce specific 'automation' dir on new projects, especially if we're going to give services to external projects like kubevirt.

We should look into though after we have something running for kubevirt with the new pipeline workflow.","23/Aug/17 3:00 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;might be interesting to look at https://github.com/projectatomic/atomic/blob/master/.redhat-ci.yml, to see if we can do something similar or get ideas from.",23/Aug/17 3:37 AM;557058:b793d139-0dcf-495b-990a-682d2ecc03b0;redhat-ci got renamed to papr: https://github.com/projectatomic/papr,"23/Aug/17 4:17 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;OK, so maybe we just need to find an official name for our CI system, [~accountid:557058:5fc78873-359e-47c9-aa0b-4845b0da8143] any thoughts? 
It doesn't have to be .ovirtci, because we don't want to limit ourselves to support only oVirt, so we'll need to find a nicer name for it, other than ""standard CI"". ","29/Aug/17 8:33 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;Slightly changed from the original request, its not mandatory we'll call it '.ovirtci', but just something that wont be too generic as 'automation', but rather named after the std-ci framework.

So we'll need to find a name for it.",28/Sep/17 4:13 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;Adding OVIRT-1629 as a blocker for this because it tracks our current efforts to make a new STDCI configuration format where the use of the '{{automation}}' dir can be avoided.,"04/Feb/18 3:18 AM;557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2;As OVIRT-1629 is done, [1] Adds support for different configurations to be used.
Currently supported names:

{code:java}
'seaci.yaml',
 'seaci.yml',
 'stdci.yaml',
 'stdci.yml',
 'automation.yaml',
 'automation.yml',
 'ovirtci.yaml',
 'ovirtci.yml',
 '.seaci.yaml',
 '.seaci.yml',
 '.stdci.yaml',
 '.stdci.yml',
 '.automation.yaml',
 '.automation.yml',
 '.ovirtci.yaml',
 '.ovirtci.yml'
{code}

[1] [https://gerrit.ovirt.org/c/87108/|https://gerrit.ovirt.org/c/87108/]
",10/Jun/18 10:44 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;[~accountid:557058:5fc78873-359e-47c9-aa0b-4845b0da8143] [~accountid:557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2] this can probably be closed now that V2 supports multiple naming options,10/Jun/18 11:57 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;STDCI V2 now allows full customization of where scripts and configuration files reside.,,,,,,,,,,Done
[RFE] allow passing a gerrit link to ovirt-system-tests_manual,OVIRT-1602,33126,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,Fixed,infra,557058:11f1b41b-2c35-4fdf-b282-1510ce705d4d,Yedidyah Bar David,557058:4e36b6df-7640-4ec7-8051-015d3aed3459,Yedidyah Bar David,557058:4e36b6df-7640-4ec7-8051-015d3aed3459,20/Aug/17 8:16 AM,29/Aug/19 10:00 AM,18/Feb/21 3:54 AM,29/Aug/19 10:00 AM,,,oVirt CI,,,,,,0,,,,,"Hi all,

How about $subject?

So that when ovirt-system-tests_manual sees a gerrit link supplied in
CUSTOM_REPOS, it will do by itself 'ci please build' (extra points for
checking if that's already done and reusing) and use the resultant
build as if that build itself was supplied in CUSTOM_REPOS, thus
freeing the user from doing that? I find myself many times running 'ci
please build' only to later wait until it finished and then pass that
to ovirt-system-tests_manual. For projects that are very quick to
build, that's a bit tedious, but not too much. But for engine builds,
that take somewhat longer, I often forget this and come back later. It
would have been nice to be able to do this in a ""single shot"".

Thanks,
-- 
Didi",,,,,,,,,,,,,,,,,,,,,,,,,,{},OVIRT-403,,,,,,,,,,,,,,,,0|i00a5b:,,,,,,,,,,,,2017-08-20 14:06:23.177,,,"20/Aug/17 9:06 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;This short-cut had been asked for in 100,000 variations.

I think the best approach will be to just run OST tests per-patch (aka ""patch gating"").

A slightly less optimal approach would be to add a ""ci please test-system"" command in Gerrit.

This approach means we now have the make OST know how to build, that is very sub optimal IMO.","20/Aug/17 9:20 AM;557058:4e36b6df-7640-4ec7-8051-015d3aed3459;On Sun, Aug 20, 2017 at 5:06 PM, Barak Korren (oVirt JIRA)

I am not against this, but I was under the impression that part of the
reason for ""manual"" was to ease the load on slaves.


For both of above approaches, how do you suggest to pass multiple
patches/builds for different projects?
Suppose I want to run ost on pending patches for otopi+host-deploy, for example.


Perhaps. I don't mind that much the architecture, I mainly want the
behavior :-))
If you can suggest other means for such a ""single shot"" command, great.





-- 
Didi
","20/Aug/17 9:49 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;[~accountid:557058:4e36b6df-7640-4ec7-8051-015d3aed3459] just fyi, the current manual job supports running on any projects you want, just list them one on each line. something that will be more challengin to do if you start specifying gerrit links.

The ideal solution will be to indeed enable patch gating, but it might take some time to enable, so its not feasable in the near future. 
We still need to think if its possible to support something else which won't hurt our system integrity, we are working hard to make the Jenkins system
more scalable and maintainable, and we can only do that by sticking to the architecture we designed as part of ""std-ci"". Implemeting a hacky solution
outside of the std-ci umbrella will bring us back to weird jenkins jobs and scripts that are hard to debug and maintain going forward.

You can try perhaps writing a local script to do it for you, something like :

1. run 'build-artifacts.sh' ( or build-on-demand ) locally via mock runner for each of the projects you want to build from and save the RPMs to local repo 
2. run the suite you want from ost repo, providing links to the local repos using the '-s' option. [1]

[1] http://ovirt-system-tests.readthedocs.io/en/latest/CI/developers_info/",29/Aug/19 10:00 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;This is now supported by the new CLI tool written by [~accountid:557058:5b558a0f-5666-4b7f-a655-83e5cc3a5de0],,,,,,,,,,,,,,,Done
Append ansible suite to the manual job,OVIRT-1585,33107,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,Fixed,Daniel Belenky,557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2,Daniel Belenky,557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2,Daniel Belenky,557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2,09/Aug/17 2:04 AM,31/Aug/17 8:02 AM,18/Feb/21 3:54 AM,09/Aug/17 3:19 AM,,OVIRT-INFRA-AUG-2017,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,OVIRT-1584,,,Code review,,,{},OVIRT-400,,,,,,,,,,,,,,,,0|i00a13:,,,,,,,,,,,,,,,09/Aug/17 2:18 AM;557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2;Blocked on code review,,,,,,,,,,,,,,,,,,Done
Upgrade the 'GitHub Pull Request Builder' plugin,OVIRT-1580,33102,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,High,Done,Evgheni Dereveanchin,557058:caa507e4-2696-4f45-8da5-d2585a4bb794,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,06/Aug/17 2:37 PM,31/Aug/17 8:02 AM,18/Feb/21 3:54 AM,12/Aug/17 11:09 AM,,OVIRT-INFRA-AUG-2017,oVirt CI,,,,,,0,jenkins,plugin,,,"The currently installed version does not support pipeline jobs at all. 

Pipeline support is needed to allow implementing OVIRT-1522 ",,,,,,,,,,OVIRT-1522,,,,,,,,,,OVIRT-1581,,,,,,{},OVIRT-403,,,,,,,,,,,,,,,,0|i009zz:,,,,,,,,,,,,2017-08-08 11:37:20.266,,,07/Aug/17 7:29 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;[~accountid:557058:caa507e4-2696-4f45-8da5-d2585a4bb794] Can we move forward with this quickly in the staging server? This is currently blocking my progress since code in [80227|https://gerrit.ovirt.org/80227] cannot even be deployed on Jenkins without this plugin updated.,"08/Aug/17 6:37 AM;557058:caa507e4-2696-4f45-8da5-d2585a4bb794;All available plugins were installed on Staging yesterday, including ghprb. Now to test them a bit and prepare the patch to replicate on Production",12/Aug/17 11:09 AM;557058:caa507e4-2696-4f45-8da5-d2585a4bb794;Plugin upgraded to latest version on Prod. Closing.,,,,,,,,,,,,,,,,Done
Install the 'Pipeline GitHub Notify Step' plugin,OVIRT-1579,33101,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,High,Done,Evgheni Dereveanchin,557058:caa507e4-2696-4f45-8da5-d2585a4bb794,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,06/Aug/17 2:31 PM,31/Aug/17 8:02 AM,18/Feb/21 3:54 AM,12/Aug/17 11:10 AM,,OVIRT-INFRA-AUG-2017,oVirt CI,,,,,,0,jenkins,plugin,,,"[This plugin|https://plugins.jenkins.io/pipeline-githubnotify-step] is necessary to enable Jenkins to flexibly return status to GitHub.

This is a blocker to current work on OVIRT-1522 which is needed to support KubeVirt.",,,,,,,,,,OVIRT-1522,,,,,,,,,,OVIRT-1581,,,,,,{},OVIRT-403,,,,,,,,,,,,,,,,0|i009zr:,,,,,,,,,,,,2017-08-08 11:38:13.225,,,08/Aug/17 6:38 AM;557058:caa507e4-2696-4f45-8da5-d2585a4bb794;Plugin installed on the Staging instance. Preparing patch to add it to production.,"12/Aug/17 11:10 AM;557058:caa507e4-2696-4f45-8da5-d2585a4bb794;Plugin installed on Prod as well, closing.",,,,,,,,,,,,,,,,,Done
Add support to inject CI mirrors to *.yumrepos files in mock_runner.,OVIRT-1556,32704,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Highest,Fixed,Daniel Belenky,557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2,Daniel Belenky,557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2,Daniel Belenky,557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2,27/Jul/17 3:36 AM,03/Aug/17 10:02 AM,18/Feb/21 3:54 AM,01/Aug/17 7:34 AM,,OVIRT-INFRA-JUL-2017,,,,,,,0,,,,,"Projects will have to ability to add a *.yumrepos file to their automation/ dir, and mock_runner will inject matching CI mirrors to the file.",,,,,,,,,,OVIRT-1391,,,,,,,,,,,,,Code review,,,{},OVIRT-400,,,,,,,,,,,,,,,,0|i005lp:s,,,,,,,,,,,,2017-08-02 13:31:34.945,,,"30/Jul/17 1:22 AM;557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2;The logic that detects .yumrepos file(s) is based on a function that was added in OVIRT-1069, thus its blocked by it.",02/Aug/17 8:31 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;Does this mean this option is now available to use? can we update the infra docs accordingly and publish it to devel list?,"02/Aug/17 8:42 AM;557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2;Yeah, this option is available for use but we wanted to wait until we'll use it in one of our projects (OST's reposync-config was the best candidate to move to .yumrepos) before we publish. Just to have an example to show. Also, I need to write some documentation on this feature as well.",,,,,,,,,,,,,,,,Done
Remove per-project SCM files,OVIRT-1553,32701,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,Fixed,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,26/Jul/17 5:44 AM,01/Nov/17 5:03 AM,18/Feb/21 3:54 AM,02/Oct/17 2:24 AM,,OVIRT-INFRA-OCT-2017,oVirt CI,,,,,,0,github,standard-ci,yaml,,"To add STD-CI jobs for a project in Gerrit, one needs to create an 'scm' file and put information about how to clone the project from Gerrit in it.

This file is not really needed, as most information is already available in parameters that are passed to the job templates by the 'project' definitions.

The Lago GitHub job templates for example, do not use scm files at all.

This means that removing the scm files is also needed to allow implementing OVIRT-1084.",,,,,,,,,,OVIRT-1084,OVIRT-1595,,,,,,OVIRT-1561,,,,,,Blocking on code review,,,{},OVIRT-400,,,,,,,,,,,,,,,,0|i006rq:zz,,,,,,,,,,,,,,,"26/Jul/17 9:56 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;[This patch|https://gerrit.ovirt.org/79843] does what is needed to remove most SCM files.

Some files are still needed because they are used by jobs that are based on older code.",26/Jul/17 9:57 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;Blocking ticket on code review,"15/Aug/17 3:11 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;Patches merged, need to update docs",21/Aug/17 4:00 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;Added a [docs update patch|https://gerrit.ovirt.org/80836],"02/Oct/17 2:24 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;Documentation patch finally merged, so closing this ticket.",,,,,,,,,,,,,,Done
Add slaves to staging Jenkins instance,OVIRT-1551,32601,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,Fixed,infra,557058:11f1b41b-2c35-4fdf-b282-1510ce705d4d,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,25/Jul/17 1:54 AM,28/Dec/17 3:30 AM,18/Feb/21 3:54 AM,26/Dec/17 6:29 AM,,OVIRT-INFRA-DEC-2017,oVirt Infra,,,,,,0,jenkins,slaves,,,"We currently have just one slave attached to the staging Jenkins instance.

We need some more, at least one of each slave platform we support so that we can:
# Test jobs running in paralllel
# Test jobs running on different slave platforms.",,,,,,,,,,,,,,,,,,,,,,,,,,{},OVIRT-403,,,,,,,,,,,,,,,,0|i009tr:,,,,,,,,,,,,2017-12-26 12:28:58.505,,,"26/Dec/17 6:28 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;[http://jenkins-staging.phx.ovirt.org/] has multiple slaves now, closing.",,,,,,,,,,,,,,,,,,Done
run OST as a third-party tester for OpenStack's ovsdbapp,OVIRT-1549,32503,New Feature,To Do,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,Fixed,infra,557058:11f1b41b-2c35-4fdf-b282-1510ce705d4d,danken,557058:e3a43fc0-2392-4c23-9d8a-97ac500e22d4,danken,557058:e3a43fc0-2392-4c23-9d8a-97ac500e22d4,23/Jul/17 5:02 AM,24/Jun/18 2:41 AM,18/Feb/21 3:54 AM,08/Aug/17 9:12 AM,,,oVirt CI,,,,,,0,,,,,"https://github.com/openstack/ovsdbapp is a python binding for openvswitch-ovn. ovirt-provider-ovn is planning to use it instead of its own implementation.

ovsdbapp developers want to make sure they do not break the ovirt use case. I would like us to follow https://docs.openstack.org/infra/system-config/third_party.html and become a third-party tester of ovsdbapp.",,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,0|i009tb:,,,,,,,,,,,,2017-07-23 11:35:53.985,,,"23/Jul/17 6:35 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;Without going into too much detail yet, the instruction you posted seem to refer to Gerrit projects, while the project you linked to is on GitHub? Is that project actually maintained in Gerrit? If so, where?

Some more questions:
* Does the project build RPMs?
* Are those RPMs officially released somewhere?
* Do we really want to track the project at the source level? If so, will the maintainers be willing to add an 'automation' directory and the related scripts?","23/Jul/17 7:17 AM;557058:e3a43fc0-2392-4c23-9d8a-97ac500e22d4;Sorry for missing the link to gerrit: https://review.openstack.org/#/q/project:openstack/ovsdbapp

*  I believe they build RPMs daily from merged code, but...
*  I don't think they currently release them officially
*  I want ovsdbapp to get a CI-1 if they break OST. I think that means ""tracking the project at the source level"". I believe that ovsdbapp would not mind adding automation/build-artefacts.sh if this is required","23/Jul/17 7:26 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;If they don't release RPMs, how are our users supposed to consume this?

The point of OST is to emulate what the user does, so 1st decide what the user does...

Also WRT CI-1 on Gerrit, OST was never designed to do this, it takes far too long and far too many resources to be reasonable to run for every patch set. This is why we keep the process semi-automatic even for oVirt's own repos...","23/Jul/17 8:27 AM;557058:e3a43fc0-2392-4c23-9d8a-97ac500e22d4;They do release RPMs as part of RDO https://trunk.rdoproject.org/centos7-master/current/ but not per patch.

If ovirt-infra does not have resources to have this per patch, we can start with a nightly run. ovsdbapp said that they can wait 40 minutes for our vote.",03/Jun/18 8:34 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;[~accountid:557058:e3a43fc0-2392-4c23-9d8a-97ac500e22d4] is this still needed? how often were we broken from this pkg or needed to consume it early so it will worth the time and resource invesment?,"04/Jun/18 4:23 AM;557058:e3a43fc0-2392-4c23-9d8a-97ac500e22d4;[~accountid:557058:2dee8503-051b-4630-8a75-2c544524dce8] I am not aware of ovsdbapp breaking us.
However, openvswtich did, which would have been caught had we have such CI.

I don't know if it is ""worth it"", as I have not estimated the resources needed, but I think that it would be beneficial for ovirt and its CI system.","04/Jun/18 5:11 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;The repo you provided has an 'openstack-netron-openvswitch' pkg, so we can't use it because it has different naming that what oVirt uses right?

Is there a different repo that has nightly builds or something similar that can we used in OST? ",,,,,,,,,,,,To Do
Create a new oVirt_DR_site_to_site gerrit repository in gerrit.ovirt.org,OVIRT-1528,32209,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Highest,Fixed,Daniel Belenky,557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2,Maor Lipchuk,557058:b528f1f6-f916-4637-91e6-82d20aaa1ba5,Maor Lipchuk,557058:b528f1f6-f916-4637-91e6-82d20aaa1ba5,12/Jul/17 9:54 AM,03/Aug/17 10:02 AM,18/Feb/21 3:54 AM,12/Jul/17 10:07 AM,,OVIRT-INFRA-JUL-2017,Gerrit/git,,,,,,0,,,,,"Hi all,

I would like to create a new repository in our gerrit.ovirt.org which
will include a tool to support DR solution for oVirt (see [1])

Currently it is being developed on my personal github account (see
[2]), but once it will be migrated to be managed in gerrit.ovirt.org
it could be great since I can add it a standard CI tests.

[1] https://docs.google.com/document/d/1tMbTVvcS8wKW4c1V_Ee754bFtqRwl2fkPBNDXHpouVE/edit
[2] https://github.com/maorlipchuk/ansible_ovirt_DR

Thanks,
Maor",,,,,,,,,,,,,,,,,,,,,,,,,,{},OVIRT-403,,,,,,,,,,,,,,,,0|i009p3:,,,,,,,,,,,,2017-07-13 12:57:44.659,,,"13/Jul/17 7:57 AM;557058:caa507e4-2696-4f45-8da5-d2585a4bb794;Is this still needed? The ticket is closed yet I don't see the repo, so let's re-open it if still relevant.","13/Jul/17 8:13 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;I think it was closed by accident when Barak moved it to 'new feature'.

On Thu, Jul 13, 2017 at 3:57 PM, Evgheni Dereveanchin (oVirt JIRA) <




-- 

Eyal edri


ASSOCIATE MANAGER

RHV DevOps

EMEA VIRTUALIZATION R&D


Red Hat EMEA <https://www.redhat.com/>
<https://red.ht/sig> TRIED. TESTED. TRUSTED. <https://redhat.com/trusted>
phone: +972-9-7692018
irc: eedri (on #tlv #rhev-dev #rhev-integ)
",13/Jul/17 12:03 PM;557058:b528f1f6-f916-4637-91e6-82d20aaa1ba5;still relevant,"16/Jul/17 7:29 AM;557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2;Created 'ansible-ovirt-dr' project and 'ansible-ovirt-dr-maintainers' group.
[~accountid:557058:b528f1f6-f916-4637-91e6-82d20aaa1ba5] was added as project maintainer.","16/Jul/17 7:05 PM;557058:b528f1f6-f916-4637-91e6-82d20aaa1ba5;Thanks Daniel!

I sent a patch but it seems that I don't have merge rights and +2 on that project...
What should I do?",17/Jul/17 1:56 AM;557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2;[~accountid:557058:b528f1f6-f916-4637-91e6-82d20aaa1ba5] I've fixed the permissions. Please try again.,,,,,,,,,,,,,Done
Make Change-Id clickable,OVIRT-1527,32208,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,Done,Evgheni Dereveanchin,557058:caa507e4-2696-4f45-8da5-d2585a4bb794,Yedidyah Bar David,557058:4e36b6df-7640-4ec7-8051-015d3aed3459,Yedidyah Bar David,557058:4e36b6df-7640-4ec7-8051-015d3aed3459,12/Jul/17 9:06 AM,02/Sep/18 10:50 AM,18/Feb/21 3:54 AM,13/Jun/18 5:40 PM,,OVIRT-INFRA-JUN-AUG-2018,Gerrit/git,,,,,,0,gerrit,,,,"In openstack's gerrit, e.g. [1], the ""Change-Id:"" in the commit
message is clickable, and pressing it searches for patches including
it (e.g. in other branches). Might be useful for oVirt too.

[1] https://review.openstack.org/471802

-- 
Didi",,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,0|i009ov:,,,,,,,,,,,,2017-07-12 14:16:15.902,,,"12/Jul/17 9:16 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;Perhaps this is provided by a newer Gerrit version.
We did upgrade it recently though.","13/Jul/17 12:55 AM;557058:4e36b6df-7640-4ec7-8051-015d3aed3459;On Wed, Jul 12, 2017 at 5:16 PM, Barak Korren (oVirt JIRA)

We have 2.13.8, they have 2.11.4.




-- 
Didi
","26/Dec/17 6:49 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;If possible, try to reach out to OpenStack to see how they implemented it and if its requires a special plugin.","27/Mar/18 11:32 AM;557058:caa507e4-2696-4f45-8da5-d2585a4bb794;They are probably using the commentlink setting:
https://gerrit-review.googlesource.com/Documentation/config-gerrit.html#commentlink

Another interesting option is the trackingid setting which we can use for JIRA
https://gerrit-review.googlesource.com/Documentation/config-gerrit.html#trackingid",27/Mar/18 11:47 AM;557058:caa507e4-2696-4f45-8da5-d2585a4bb794;Applied the above example on staging: https://gerrit-staging.phx.ovirt.org/#/c/140/ a Gerrit restart is required for the change to take effect so we may apply it during the next Gerrit upgrade and OS patching.,13/Jun/18 5:40 PM;557058:caa507e4-2696-4f45-8da5-d2585a4bb794;Applied to prod with OVIRT-1947,"14/Jun/18 3:19 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;Great!
I think its worth sending an email on it to devel list",,,,,,,,,,,,Done
Automatically send welcome message on first push to gerrit,OVIRT-1525,32206,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,Duplicate,infra,557058:11f1b41b-2c35-4fdf-b282-1510ce705d4d,Yedidyah Bar David,557058:4e36b6df-7640-4ec7-8051-015d3aed3459,Yedidyah Bar David,557058:4e36b6df-7640-4ec7-8051-015d3aed3459,12/Jul/17 8:56 AM,03/Aug/17 10:02 AM,18/Feb/21 3:54 AM,12/Jul/17 9:04 AM,,OVIRT-INFRA-JUL-2017,oVirt CI,,,,,,0,,,,,"Some weeks ago I pushed my first patch to openstack [1], and it
automatically added a reviewer called 'Welcome, new contributor' which
reviewed/commented (and so sent an email) with some introductory
material. Might be nice to have on oVirt's gerrit.

[1] https://review.openstack.org/471802
-- 
Didi",,,,,,,,,,,,,,,,OVIRT-1193,,,,,,,,,,{},OVIRT-400,,,,,,,,,,,,,,,,0|i009of:,,,,,,,,,,,,2017-07-12 14:03:36.174,,,12/Jul/17 9:03 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;This is a duplicate of OVIRT-1193,,,,,,,,,,,,,,,,,,Done
Add support for per distro scripts in mock_runner,OVIRT-1521,32200,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Highest,Fixed,Daniel Belenky,557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2,Daniel Belenky,557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2,Daniel Belenky,557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2,12/Jul/17 3:11 AM,03/Aug/17 10:02 AM,18/Feb/21 3:54 AM,19/Jul/17 6:21 AM,,OVIRT-INFRA-JUL-2017,,,,,,,0,,,,,"Currently, mock runner supports only a single execution script such as check-patch.sh, build-artifacts.sh and so on.
Since we already support for multiple distros based environmental files such as *.packages.el7 or *.repos.fc25, we should also support the same syntax for the execution scripts.",,,,,,,,,,,,,,,,,,,,,,,,,,{},OVIRT-400,,,,,,,,,,,,,,,,0|i005lp:r,,,,,,,,,,,,2017-07-12 09:36:52.774,,,12/Jul/17 4:36 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;Did we had a request on it or hit an issue that required it?,"12/Jul/17 6:02 AM;557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2;No, I've been testing some use cases for OVIRT-1069 in our staging Jenkins, and I found out that we don't support this kind of use case. Since the improvement/fix is quite simple (already sent the patch), I've advised with [~accountid:557058:5fc78873-359e-47c9-aa0b-4845b0da8143] and decided to add the support.",,,,,,,,,,,,,,,,,Done
Dependencies installation when running locally (without mock),OVIRT-2102,32009,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,Duplicate,Gal Ben Haim,557058:f57f4f3d-a7d2-40b5-8ef1-94b6bbbf8dc7,Gal Ben Haim,557058:f57f4f3d-a7d2-40b5-8ef1-94b6bbbf8dc7,Gal Ben Haim,557058:f57f4f3d-a7d2-40b5-8ef1-94b6bbbf8dc7,10/Jul/17 12:13 PM,02/Sep/18 10:50 AM,18/Feb/21 3:54 AM,24/Jun/18 12:56 PM,,OVIRT-INFRA-JUN-AUG-2018,OST,,,,,,0,ost,,,,"Most OST users run suites locally without mock, which sometimes makes the tests fail because of missing dependencies (mostly ovirtsdk4).

There is no official fedora 25 repo with rpm for ovirtsdk4, so we can't add it as a dependency to lago-ost-plugin's spec (which is supported on fedora 25).

Local installation from the internal repo can be problematic for two reasons:
1. It will require sudo.
2. The suite will have to remove the installed rpms after the tests.

My recommendations:

1. Print an informative message if ovirtsdk4 is not present, this can be added the lago-ost-plugin.

2. Consider using virtualenv and install the sdk from the latest successful 'build artifact' job.

What do you think?

[~accountid:557058:5fc78873-359e-47c9-aa0b-4845b0da8143] [~accountid:557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2] [~accountid:557058:eb7f406a-2711-4ed8-a22c-d0a71a68ec09] [~accountid:557058:f5d44d82-cbdb-48a7-b10e-df32e73f5981]",,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,0|i009lz:,,,,,,,,,,,,2017-07-10 18:35:56.182,,,"10/Jul/17 1:35 PM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;I don`t think virtualenv would be a good solution here, so I'd go with an detailed error message from runsuit that will give instructions about how to install *from the localrepo*.

The point about using the localrepo is that this is the only way to make sure the SDK version fits the oVirt we are testing.",24/Jun/18 12:56 PM;557058:f57f4f3d-a7d2-40b5-8ef1-94b6bbbf8dc7;OVIRT-2161,,,,,,,,,,,,,,,,,Done
Add GitHub support for standard-enqueue (change-queue),OVIRT-1486,31601,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,High,Fixed,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,28/Jun/17 8:46 AM,01/Nov/17 5:02 AM,18/Feb/21 3:54 AM,17/Oct/17 10:09 AM,,OVIRT-INFRA-OCT-2017,oVirt CI,,,,,,0,change-queue,github,standard-ci,vdsm-fake,"The standard-enqueue job that currently sends changes to the change queue, does not support events from GitHub.

The only project in GitHub we have currently, that works with STD-CI is 'vdsm-fake'.
'vdsm-fake' is currently releasing packages to the oVirt repos via the 'expermental' flow. In order to allow it to keep releasing packages, we need to make the change-queue support merge events in GitHub.",,,,,,,,,,OVIRT-1599,OVIRT-1548,OVIRT-1077,,,,,,,,OVIRT-1679,,,Blocking on code review,,,{},OVIRT-400,,,,,,,,,,,,,,,,0|i009fb:,,,,,,,,,,,,,,,24/Sep/17 9:46 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;Added a patch with some required enhancements to the CQ Python ode.,"24/Sep/17 9:50 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;Since we've been working on OVIRT-1522 and OVIRT-1599, GitHub jobs are going to be very different then the current Gerrit jobs.

With the way GitHub jobs are going to work, it does not make sense to use 'standard-enqueue' for submitting changes to the queues. Instead, the STDCI post-merge jobs will do it directly.

Since change enqueueing is inseparable from oter types of needed post-merge processing, setting this ticket as a blocker to OVIRT-1599 ",17/Oct/17 10:09 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;Patches pushing GitHub pushed commits to the change queue had been merged.,,,,,,,,,,,,,,,,Done
Create a GitHub releases deployment token for ovirt-containers,OVIRT-1485,31505,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,Done,Juan Hernández,557058:9f5d6263-ed18-4d4b-841c-7ba5738f1775,Juan Hernández,557058:9f5d6263-ed18-4d4b-841c-7ba5738f1775,Juan Hernández,557058:9f5d6263-ed18-4d4b-841c-7ba5738f1775,27/Jun/17 12:04 PM,31/Aug/17 8:02 AM,18/Feb/21 3:54 AM,22/Aug/17 3:26 AM,,OVIRT-INFRA-AUG-2017,General,,,,,,0,containers,,,,"The ovirt-containers project produces a binary that we want to release automatically using the Travis CI and GitHub releases mechanism. To do so we need to add to the project an encrypted GitHub token with permissions to add files to releases. The details are in the following patch:

  Configure Travis CI to do GitHub releases
  https://gerrit.ovirt.org/78732

That token can only be generated by the owner of the GitHub project. Can you please generate it?
",,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,0|i009ev:,,,,,,,,,,,,2017-06-27 18:39:49.594,,,27/Jun/17 12:06 PM;557058:9f5d6263-ed18-4d4b-841c-7ba5738f1775;/cc [~accountid:557058:e6e30a59-ab67-47a3-9441-2e36f5540435] [~accountid:557058:af85350f-5bf7-4bf4-bcbc-d780e4ad31d5] [~accountid:557058:0374cc91-14b8-49f0-bbe4-5544eee9908a] [~accountid:557058:b793d139-0dcf-495b-990a-682d2ecc03b0],"27/Jun/17 1:39 PM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;Is the token supposed to be committed to the source repo? How is it going to be used?

I'd rather release things via oVirts infrastructure as opposed to Github`s...","28/Jun/17 1:31 AM;557058:9f5d6263-ed18-4d4b-841c-7ba5738f1775;The token will be encrypted with the public key that Travis CI assigns to the project, so only Travis CI will be able to decrypt it. The encrypted token will then be added to the .travis.yml file and committed to the git repository. Travis CI will use that token to authenticate with GitHub and upload the release files.

The same files are also produced and published by the oVirt CI system, using the ""exported-artifacts"" directory. We also want to release that content using RMPs, that is a pending task. That will be done using the standard oVirt mechanism for building and relasing RPMs. But we want to also have the releases available in the GitHub page of the project. Does the oVirt CI system provide any mechanism to do that?","28/Jun/17 1:45 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;*Note:* [~accountid:557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2] please go ahead and generate the required token, I'm asking question here just for my personal knowledge and understanding.

{quote}
But we want to also have the releases available in the GitHub page of the project. Does the oVirt CI system provide any mechanism to do that?
{quote}

We're still working on generic credential support (OVIRT-894), so I guess accessing arbitrary external services is not yet as well supported as it aught to be. Do you think such updates to GH pages will be useful enough for multiple projects that we aught to add higher-level support for it?

Apart from that, what kind of desired feature do GH pages provide (Besides being on GitHub, that is)? Which of those features should we consider adding to the oVirt infrastructure?
","28/Jun/17 2:07 AM;557058:9f5d6263-ed18-4d4b-841c-7ba5738f1775;The main reason is that the Github offers higher visibility. Users googling for the project will probably end in its Github page, and it is nice if they can get the releases directly from there.

In addition, because of how this project works, the release is just one binary, so the user can download that binary and execute it directly. This makes Github releases mechanism very simple for users, because it offers a persistent URL where the binary can be downloaded from. No need to setup a yum repository, install the package, etc. It is also very simple for developers, Travis takes care of all the details.

I don't think this is applicable in general for other oVirt projects. But having the capability to handle secrets (like this token) in the oVirt CI system would indeed be useful in general. For this project in particular we will need them also for publishing the images to a public Docker images registry.","28/Jun/17 2:33 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;{quote}
... Users googling for the project will probably end in its Github page ...
{quote}

That is a bug IMO, not a feature. But not easy to fix I guess.

BTW both ""ovirt"" and ""ovirt-containers"" land me in '{{ovirt.org}}' but that may just be my own search bubble.

{quote}
In addition, because of how this project works, the release is just one binary, so the user can download that binary and execute it directly. This makes Github releases mechanism very simple for users, because it offers a persistent URL where the binary can be downloaded from. No need to setup a yum repository, install the package, etc. It is also very simple for developers, Travis takes care of all the details.
{quote}

Jenkins automatically provides a 'latestSuccessfulBuild' persistent URL for each job. We use it to provide 'yum' repos for some projects. We also have some jobs that use that as a way to provide an ""automatically updating"" status page... 

I suppose maybe the GH page looks nicer?

{quote}
I don't think this is applicable in general for other oVirt projects. But having the capability to handle secrets (like this token) in the oVirt CI system would indeed be useful in general. For this project in particular we will need them also for publishing the images to a public Docker images registry.
{quote}

When it comes to container image we'll have higher-level support as described in the CI design doc for '{{ovirt-containers}}' (OVIRT-1371). Initial implementation steps are tracked in OVIRT-1390.",12/Jul/17 9:48 AM;557058:9f5d6263-ed18-4d4b-841c-7ba5738f1775;Any progress with the generation of the token?,"12/Jul/17 10:03 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;[~accountid:557058:9f5d6263-ed18-4d4b-841c-7ba5738f1775] I just enabled travis for ovirt-containers: https://travis-ci.org/oVirt/ovirt-containers 

I've no idea how to go about creating the key you need, do you know where do I need to go to create it?","12/Jul/17 12:10 PM;557058:9f5d6263-ed18-4d4b-841c-7ba5738f1775;I think you need to do something like this:

{noformat}
$ gem install travis
$ git clone git@github.com:oVirt/ovirt-containers.git
$ cd ovirt-containers
$ travis setup releases --force
{noformat}

That needs to be done with an user that has admin privileges for the project in Github. It will directly modify the .travis.yaml file of the project, adding the required token. Once that is done you can either submit a patch with those changes, or else share the generated token so that I can update the patch that I prepared: https://gerrit.ovirt.org/78732

The complete process is documented here: https://docs.travis-ci.com/user/deployment/releases ",12/Jul/17 2:03 PM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;[~accountid:557058:9f5d6263-ed18-4d4b-841c-7ba5738f1775] I got a better idea - you got admin right on the repo now. You can also add other people to the 'ovirt-containers-maintainers' group on GitHub if you want to give them admin rights. ,13/Jul/17 2:10 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;[~accountid:557058:9f5d6263-ed18-4d4b-841c-7ba5738f1775] Please reassign the ticket to me if you still have any issues.,"13/Jul/17 2:55 AM;557058:9f5d6263-ed18-4d4b-841c-7ba5738f1775;[~accountid:557058:5fc78873-359e-47c9-aa0b-4845b0da8143], thanks, I was able to create the token using the instructions that I mentioned, the result is in this patch:

  Configure Travis CI to do GitHub releases
  https://gerrit.ovirt.org/78732

I can't verify that it really works till the patch is merged and synchronized to GitHub. In addition the GitHub release will be done only for tags, so we will also need to push a tag. Once that is done and it works I will close the ticket.

[~accountid:557058:e6e30a59-ab67-47a3-9441-2e36f5540435] I added you to the 'ovirt-containers-maintainers' group that Barak created.",23/Jul/17 2:09 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;[~accountid:557058:9f5d6263-ed18-4d4b-841c-7ba5738f1775] can we close this ticket?,"22/Aug/17 3:26 AM;557058:9f5d6263-ed18-4d4b-841c-7ba5738f1775;The patch isn't merged, so it can't be checked. However the project is currently frozen, so it will probably never be merged. All in all I think we can close this.",,,,,Done
Infra-Ansible needs a CI,OVIRT-1476,31400,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,Fixed,Marc Dequènes (Duck),557058:06620dac-7815-415e-9b2a-b834ef470861,Marc Dequènes (Duck),557058:06620dac-7815-415e-9b2a-b834ef470861,Marc Dequènes (Duck),557058:06620dac-7815-415e-9b2a-b834ef470861,23/Jun/17 3:40 AM,03/Aug/17 10:02 AM,18/Feb/21 3:54 AM,05/Jul/17 11:30 PM,,OVIRT-INFRA-JUL-2017,Gerrit/git,oVirt CI,,,,,0,ansible,standard-ci,,,"I have no knowledge of Gerrit administration and never touched the oVirt CI, and I would like avoiding breaking the universe, so I'm requesting help here :-).
",,,,,,,,,,,,,,,,,,,,,,,Code review,,,{},OVIRT-400,,,,,,,,,,,,,,,,0|i009cn:,,,,,,,,,,,,2017-06-23 09:19:19.895,,,"23/Jun/17 4:19 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;Don't worry its pretty easy to set things up.

The main idea of oVirt CI is that you write some shell scripts to set what you want to test, place then in certain locations in your source repo and then the CI system calls them in response to action you make on your source code (e.g. submit patches, merge them, etc.).

For a longer overview of the CI-Standard which describes how the CI system works:
http://ovirt-infra-docs.readthedocs.io/en/latest/CI/Build_and_test_standards/ 

So we need to decide of few things:
# what are we going to test in CI. We don't need to decide everything up front though, we can start with simple stuff and add more over time.
# When are we going to run tests, we ran run thing when patchsets are created or after merge.

We have all kinds of functionality around building and delivering artifacts, but I guess that is less relevant for Ansible. One interesting thing we can consider doing at some point is to have the CI system trigger Ansible on production servers after patches are merged. We will probably need to finish OVIRT-894 first so we can make credentials for accessing servers and decrypting password stores available to the CI system.",27/Jun/17 9:32 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;[~accountid:557058:06620dac-7815-415e-9b2a-b834ef470861] assigning to you because I need some answers from you...,"29/Jun/17 4:32 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;Assigning to myself to setup CI jobs.

Created [a patch|https://gerrit.ovirt.org/78811] to setup jobs and [another patch|https://gerrit.ovirt.org/78813] to add a minimal test script to the ansible repo.

[~accountid:557058:06620dac-7815-415e-9b2a-b834ef470861] I've set things up to run in an EL7 environment. Let me know if you'd prefer a different environment or even multiple environments in parallel.","30/Jun/17 12:10 AM;557058:06620dac-7815-415e-9b2a-b834ef470861;Thanks for starting this very fast :-).

So what we want to do is similar to this: https://github.com/OSAS/ansible-role-middleman_builder/blob/36b6a9416456a6601ad4a898e9ff36b30f433e19/shippable.yml
This was made to test a role, but except for the environment preparation it would be almost the same.

So we need a specific Ansible version (2.3 now) so the distro cannot provide it directly. Also some tools like _ansible-lint_ are not packaged IIRC, and also need to be on par with Ansible itself.

So I guess we could move the yum install part into _check-patch.packages_ and to the pip install part into _check-patch.sh_. Still it breaks the split between preparation and running the tests themselves, would it be ok? Or another way?
","02/Jul/17 9:16 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;There are two advantages to installing things  with the '{{*.packages}}' file:
# The installed results are cached and do not need to be installed every time the job runs. 
# When installing, our own mirrors are used, this protects the jobs from failures that are due to needed resources not being available on the internet.

Apart from that, there is no reason not to do things in '{{check-patch.sh}}'. 

So, it would be best if we can find packages for the tools you need. Are they packaged in Fedora perhaps?","02/Jul/17 9:46 PM;557058:06620dac-7815-415e-9b2a-b834ef470861;ansible is only 2.1.2 on F25, so it is not sufficient
ansible-lint is on F25 is only 3.3.3 but 3.4.6 is needed to support Ansible 2.3
flake8 is also on F25

So for flake8 and other tools I think a F25 would be totally sufficient for quite some time. But for Ansible, and we're sometimes in need of fixes or new feature, the distro version cannot keep up with the need. Ansible-lint is clearly very linked to the Ansible version we want to tests. So I guess for these two ones it won't be possible, but we should be able to limit to these two only.



","02/Jul/17 9:50 PM;557058:06620dac-7815-415e-9b2a-b834ef470861;I see CentOS7also has python-flake8 in EPEL, so we might have missed it, or it was added later.

As we have quite a lot of CentOS 7 in production, then I guess it would be wise to test it. Could we test two distributions?","03/Jul/17 1:26 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;Yes, we can test more then one distribution. We currently support el6, el7, fc24, fc25, and fc26. We also have EPEL preconfigured in all our EL environments, so you can just assume it is available.

So would you like me to add FC25 jobs? How about FC26?

Are you sure latest Ansible versions are not packaged anywhere? If there is a repo of it somewhere, we could use it.","03/Jul/17 2:05 AM;557058:06620dac-7815-415e-9b2a-b834ef470861;Hum, you're right. I'm not very acquainted with RPM distros, I'm a Debian guy ;-P.
So EPEL has 2.3.1 and Fedora *Updates* has 2.3.1 too.
Seems there are some updates for ansible-lint too, we could try too.

As for Fedora 26, it does not really exist yet, but why not test it too. I guess the F26 image is refreshed until the release?

I don't think we have much of F24, so I would skip it.

This would give: CentOS7, F25, F26.
We would need specific packages files for the dependencies as package name change.
The test script itself shoudl really be shared.
","03/Jul/17 3:11 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;{quote}
Hum, you're right. I'm not very acquainted with RPM distros, I'm a Debian guy ;-P.
So EPEL has 2.3.1 and Fedora Updates has 2.3.1 too.
Seems there are some updates for ansible-lint too, we could try too.
{quote}

I guess I should`ve told you you can just look at the job output to see which Ansible version you got since I made it print out the version.

See output here for last run:
# [EL7|http://jenkins.ovirt.org/job/infra-ansible_master_check-patch-el7-x86_64/4/artifact/exported-artifacts/mock_logs/mocker-epel-7-x86_64.el7.check-patch.sh/check-patch.sh.log]
# [FC25|http://jenkins.ovirt.org/job/infra-ansible_master_check-patch-fc25-x86_64/2/artifact/exported-artifacts/mock_logs/mocker-fedora-25-x86_64.fc25.check-patch.sh/check-patch.sh.log]
# [FC26|http://jenkins.ovirt.org/job/infra-ansible_master_check-patch-fc26-x86_64/2/artifact/exported-artifacts/mock_logs/mocker-fedora-26-x86_64.fc26.check-patch.sh/check-patch.sh.log]

So it looks like we have sufficient versions available in all environments.

{quote}
As for Fedora 26, it does not really exist yet, but why not test it too. I guess the F26 image is refreshed until the release?
{quote}

We wouldn't be doing serious testing if we didn't test versions before they are released...

We are actually keeping all our environments up to date. We only cache images for up to ~2 days. Changing the '{{\*.packages}}' or '{{\*.repos}}' files also drops the cache.

{quote}
This would give: CentOS7, F25, F26.
{quote}

Ok. I've updated my patches to include those. I've also added the other tools you've mentioned.

{quote}
We would need specific packages files for the dependencies as package name change.
The test script itself shoudl really be shared.
{quote}

Actually package names tend to remain the same across the Red Hat distro family, and since the CI jobs pass currently, we have proof that this is indeed the case for the packages we discussed here so far. So I guess there is no point of splitting to different files until we find actual differences.","03/Jul/17 4:29 AM;557058:06620dac-7815-415e-9b2a-b834ef470861;There's the Python 2/3 split, but it seems they added 'Provides' hints (not sure how it is called in the RPM world).
So I'm fine with keeping a single file.

Do Gerrit link the log to the review when it fails? That would be very handy.

Thanks for the work :-).",03/Jul/17 11:05 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;[~accountid:557058:06620dac-7815-415e-9b2a-b834ef470861] The system automatically adds comments to gerrit with links to both failed and successful jobs. Just look at the comments from Jenkins on the test patch I created.,03/Jul/17 11:06 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;Moving ticket to blocked now because it seems it is just waiting to finish code reviews now.,"04/Jul/17 9:28 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;All patches mentioned here so far have been merged. 
[~accountid:557058:06620dac-7815-415e-9b2a-b834ef470861] Do you want me to move the ticket back to you to track work for writing the CI script themselves or can I close it?","04/Jul/17 9:39 AM;557058:06620dac-7815-415e-9b2a-b834ef470861;Please move it to me. Until the final script is done this ticket is unfinished. Also I just sent a message on the new review, please have a look when you can.",05/Jul/17 11:30 PM;557058:06620dac-7815-415e-9b2a-b834ef470861;All done and merged :-),,,Done
automerge poll stage patches,OVIRT-1474,31306,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,High,Fixed,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Gil Shinar,557058:7a63d510-79fe-46b1-abcf-f80963d52223,Gil Shinar,557058:7a63d510-79fe-46b1-abcf-f80963d52223,22/Jun/17 9:40 AM,28/Feb/18 9:33 AM,18/Feb/21 3:54 AM,30/Jul/17 6:46 AM,,OVIRT-INFRA-FEB-2018,oVirt CI,,,,,,0,poll-upstream-sources,standard-ci,,,"Add a Boolean parameter to the standard template that'll be used only in the poll stage.
This parameter will be evaluated from the project file with true or false and will be used in the poll python script",,,,,,,,,,,,,,,,,,,,,,,Blocking on code review,,,{},OVIRT-400,,,,,,,,,,,,,,,,0|i009c7:,,,,,,,,,,,,2017-06-22 15:22:48.526,,,22/Jun/17 9:41 AM;557058:7a63d510-79fe-46b1-abcf-f80963d52223;[~accountid:557058:5fc78873-359e-47c9-aa0b-4845b0da8143] What do you think about the way I suggest to do it?,22/Jun/17 10:22 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;I think the configuration to automerge or not should be in '{{upstream-sources.yaml}}' (Maybe on a per-source basis)  not in the project YAML (We want the project YAML to go away remember?),"23/Oct/17 2:44 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;If it possible to add an option to the new automation.yml file?
How soon will we be able to support Gerrit projects with it? ","23/Oct/17 3:01 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;{quote}
If it possible to add an option to the new automation.yml file?
{quote}

Yes. the new '{{automation.yaml}}' format will consolidate all configuration into it and also provide backwards compatibility with the older files such as '{{upstream-sources.yaml}}'.

{quote}
How soon will we be able to support Gerrit projects with it? 
{quote}

Not sure if you refer to automerge or '{{automation.yaml}}'.

Automerge is a completely new feature, if we want to start working on it now, its easier to target it for Gerrit because all the upstream-sources features are currently only supported for Gerrit.

'{{automation.yaml}}' goes hand-in hand with pipelines so it is more likely we will see it used in GitHub first. We can use parts of it with the existing Gerrit jobs if we decide to embed it in '{{mock_runner.sh}}' but we nned to decide if that is the direction we want to take it.","23/Oct/17 3:21 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;What concerns me is that if the auto merge feature will only be supported via the new pipeline+automation.yaml flow, it means it will significantly delay our ability to properly add an automate d/s CI flow for more projects.

But if you say that its easier to target to Gerrit using upstream sources, then I guess we should be OK.","19/Dec/17 4:04 PM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;Current plan - add a feature where adding '{{automerge: true}}' to a commit message makes the CI merge it if check-patch passes. Then we just need to make the 'poll' stage add that header to the commits it creates.

Note: To make this work with Gerrit we will need to make sure the automation can switch on all the relevant review flags.

Also need to consider a security model for this - without this anyone could add the header and bypass the review process, probably need to ensure the patch owner is a maintainer somehow.",28/Dec/17 6:45 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;All patches to implement the functionality described here have been written and tested. Tiket is now blocked on code review.,28/Feb/18 12:10 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;All relevant patches have been merged,,,,,,,,,,,Done
Make change-queue generate the OST report,OVIRT-1463,31202,New Feature,To Do,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,,Dafna Ron,557058:71f7543d-89dc-40eb-88ec-f938fdaa13c7,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,21/Jun/17 2:34 AM,15/Oct/18 10:32 AM,18/Feb/21 3:54 AM,,,,oVirt CI,,,,,,0,change-queue,ost,,,"Since the change-queue has all the information needed for this, we can make it generate the OST report.",,,,,,,,,,,,,,,,,,,,,,,,,,{},OVIRT-2185,,,,,,,,,,,,,,,,0|i0099j:,,,,,,,,,,,,2017-10-17 14:46:27.531,,,"17/Oct/17 9:46 AM;557058:71f7543d-89dc-40eb-88ec-f938fdaa13c7;I was thinking that we can open a JIRA project and every NEW CQ event would trigger a JIRA which we can later on use to issue reports. 
Barak, do you have other suggestions or do you think this would be a good approach? ","17/Oct/17 9:56 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;I don't think having Jira tickets would have any considerable benefit over having email messages, both thecniques would require you to manually aggregate an analyse messages...

Putting the information in some kind of a database or a spreadsheet would provide far better analysis and aggregation tools.

Here is a somewhat hack-ish idea - setup a new fake mail account which is a member of infra, then have something like ifttt monitor emails reaching it and convert them into lines in a google spreadsheet.",01/Aug/18 3:02 AM;557058:71f7543d-89dc-40eb-88ec-f938fdaa13c7;[~accountid:557058:5fc78873-359e-47c9-aa0b-4845b0da8143] I think things changed and this ticket may not be relevant any more?,"01/Aug/18 6:54 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;[~accountid:557058:71f7543d-89dc-40eb-88ec-f938fdaa13c7] yeah, I think it was created back when we were maintaining a spreadsheet in googledocs.",15/Oct/18 8:26 AM;557058:71f7543d-89dc-40eb-88ec-f938fdaa13c7;[~accountid:557058:5fc78873-359e-47c9-aa0b-4845b0da8143]  do we need this once OVIRT‌-1447 will be implemented?,"15/Oct/18 10:32 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;[~accountid:557058:71f7543d-89dc-40eb-88ec-f938fdaa13c7] not sure, the weekly report now exists separately  from the per-issue reporting to developers. It may or may not be needed once we automate the per-issue reporting.

We'll need to revisit that once OVIRT-1447 is done.",,,,,,,,,,,,,To Do
Add a CI mirror for CentOS Virt SIG oVirt 4.2,OVIRT-1458,31100,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Highest,Fixed,Sandro Bonazzola,557058:3a069952-633d-482c-90ab-2451cac6751a,Sandro Bonazzola,557058:3a069952-633d-482c-90ab-2451cac6751a,Sandro Bonazzola,557058:3a069952-633d-482c-90ab-2451cac6751a,20/Jun/17 2:18 AM,02/Jul/17 9:08 AM,18/Feb/21 3:54 AM,30/Jun/17 7:31 AM,,OVIRT-INFRA-JUN-2017,Repositories Mgmt,,,,,,0,mirrors,,,,"Please add mirrors for following repo config:


[centos-ovirt42-testing-el7]
name=CentOS-7 - oVirt 4.2
baseurl=http://cbs.centos.org/repos/virt7-ovirt-42-testing/x86_64/os/
gpgcheck=0
enabled=1


[centos-ovirt-common-testing-el7]
name=CentOS-7 - oVirt common
baseurl=http://cbs.centos.org/repos/virt7-ovirt-common-testing/$basearch/os/
gpgcheck=0
enabled=1


-- 

SANDRO BONAZZOLA

ASSOCIATE MANAGER, SOFTWARE ENGINEERING, EMEA ENG VIRTUALIZATION R&D

Red Hat EMEA <https://www.redhat.com/>
<https://red.ht/sig>
TRIED. TESTED. TRUSTED. <https://redhat.com/trusted>",,,,,,,,,,,,,,,,,,,,,,,,,,{},OVIRT-403,,,,,,,,,,,,,,,,0|i00987:,,,,,,,,,,,,2017-06-20 08:23:37.581,,,"20/Jun/17 3:23 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;[~accountid:557058:caa507e4-2696-4f45-8da5-d2585a4bb794], [~accountid:557058:71f7543d-89dc-40eb-88ec-f938fdaa13c7] can one of you take this?",30/Jun/17 6:42 AM;557058:3a069952-633d-482c-90ab-2451cac6751a;Here's a patch: https://gerrit.ovirt.org/#/c/78860/,,,,,,,,,,,,,,,,,Done
Dependencies between ovirt-engine and vdsm-jsonrpc-java,OVIRT-1427,30403,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,Won't Fix,infra,557058:11f1b41b-2c35-4fdf-b282-1510ce705d4d,Piotr Kliczewski,557058:200ed3d7-7a49-4dd4-b3f4-7359590e646f,Piotr Kliczewski,557058:200ed3d7-7a49-4dd4-b3f4-7359590e646f,01/Jun/17 2:55 AM,29/Aug/19 9:12 AM,18/Feb/21 3:54 AM,15/Dec/18 9:35 AM,,ovirt-infra-aug-2019,Change Queue,,,,,,0,,,,,"Recently we had and issue that newer version of vdsm-jsonrpc-java was
available but engine spec was not updated yet. Engine patch contained spec
and module.xml changes which provided dependencies required by new version
of jsonrpc. CI used the new version of jsonrpc without engine patch being
merged which caused several issues.

This ticket is open to track how we could mitigate similar issues in the
future.

Thanks,
Piotr",,,,,,,,,,OVIRT-1077,,,,,,,,,,,,,,,,{},OVIRT-2184,,,,,,,,,,,,,,,,0|i0091b:,,,,,,,,,,,,2017-06-01 08:37:33.915,,,"01/Jun/17 3:37 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;We are probably going to adopt OpenStanck's convention of specifying such dependencies in a header in the commit message.

This requires persistent change tracking so we need to implement this as part of the change queue (OVIRT-1077) logic. We actually foresaw this requirement, so the core change-queue code already includes the needed dependency tracking and resolution capabilities.","15/Dec/18 9:35 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;Yes, there can be occasions of dependency issues, but they are not common.
We don't have plans currently to introduce a dependency management in CI, due to lack of resources and other priorities.

If this will become possible in the future, we'll consider revisiting this.",,,,,,,,,,,,,,,,,Done
Enable mirror injection process to also inject oVirt repos,OVIRT-1414,30103,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,Fixed,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,28/May/17 9:03 AM,03/Aug/17 10:02 AM,18/Feb/21 3:54 AM,12/Jul/17 10:30 AM,,OVIRT-INFRA-JUL-2017,oVirt CI,,,,,,0,,,,,"It may be desirable to allow injecting oVirt repos in a similar way to the way other mirrors are injected. This may be useful, for example to force OST to run with the 'tested' repo configured as the fallback repo without having to add it to extra_sources.
",,,,,,,,,,OVIRT-1444,OVIRT-1077,,,,,,,,,,,,code review,,,{},OVIRT-403,,,,,,,,,,,,,,,,0|i006ni:,,,,,,,,,,,,2017-06-20 11:40:04.721,,,"15/Jun/17 9:32 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;Without this functionality, the change-queue cannot test the non-master oVirt versions properly, because OST is configured to use the 'released' repos rather then the 'tested' repos for those versions.

This is why running OST for non-master change queues had not been enabled yet.","15/Jun/17 9:36 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;Created [a patch|https://gerrit.ovirt.org/#/c/78207/].

Patch functionality was verified on the 'master' change queue.

Still need to verify on 4.1. The jobs were manually updated with this patch (This is the 1st time the 4.1 change queue will run OST). Now waiting for changes to be merged for 4.1 to make the queue run.","15/Jun/17 11:29 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;Patch verified, now blocking on code review.","20/Jun/17 6:40 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;So let me try to understand the meaning of this feature, to put it in simple words - we are basically 'simulating' adding 'tested' repos to a reposync file of non-master suites, which is using oVirt mirrors, correct?  

And we can't actually add it to the reposync files because we want normal users of OST to use released versions and not tested repos.","20/Jun/17 6:46 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;Yes. But we are not ""adding"" we are ""replacing"". We make OST use the 'tested' repo instead of the 'released' one.

In 'master' OST uses 'tested' anyway, so this applies only to the suits for released versions (I just assume the ovirt repo ID will be 'ovirt-<version>-<distro>')",20/Jun/17 6:50 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;How are we handling include/exclude in this case? we're using the same list from the reposync file? so the only replacement done is the repo URL?,20/Jun/17 6:53 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;Yes. This is just how mirror injection works for everything - it just touches the baseurl and other things that are related to the location of the repo like mirrorlist and proxy. It leaves the rest as it is.,12/Jul/17 10:30 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;Patch merged.,,,,,,,,,,,Done
Enable configuring mirrors from a file,OVIRT-1413,30102,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,Fixed,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,28/May/17 8:56 AM,01/Jun/17 6:31 AM,18/Feb/21 3:54 AM,29/May/17 6:43 AM,,OVIRT-INFRA-MAY-2017,oVirt CI,,,,,,0,mirrors,,,,"Right now mirror configuration can only come from a JSON file stored on the mirrors server.

We want to enable taking the configuration from a local file also, this will enable jobs to manipulate mirror information before running the mirror injection process.

This would be especially useful for change queue test jobs in order to enable fine-grained control over the mirrors being tested.",,,,,,,,,,OVIRT-1077,,,,,,,,,,,,,Code review,,,{},OVIRT-403,,,,,,,,,,,,,,,,0|i006rq:yr,,,,,,,,,,,,,,,28/May/17 2:34 PM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;Created [a patch|https://gerrit.ovirt.org/#/c/77459/] for adding PyYAML to all slaves. this is a prerequisite for functionality in this ticket.,28/May/17 3:06 PM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;Created [a patch|https://gerrit.ovirt.org/#/c/77453] for support of loading mirrors data from a local file.,28/May/17 3:06 PM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;Blocking ticket on code review for patches,29/May/17 6:43 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;All patches merged.,,,,,,,,,,,,,,,Done
Install Jenkins TAP results plugin,OVIRT-1399,29711,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Low,Won't Do,infra,557058:11f1b41b-2c35-4fdf-b282-1510ce705d4d,Nadav Goldin,557058:f5d44d82-cbdb-48a7-b10e-df32e73f5981,Nadav Goldin,557058:f5d44d82-cbdb-48a7-b10e-df32e73f5981,22/May/17 3:37 PM,04/Jun/18 1:29 AM,18/Feb/21 3:54 AM,03/Jun/18 7:55 AM,,OVIRT-INFRA-MAY-2018,,,,,,,0,,,,,"Please install the TAP Plugin - https://wiki.jenkins-ci.org/display/JENKINS/TAP+Plugin
It allows to display TAP test results, which we use in Lago(with bats).

Not urgent, can be done whenever time allows(with some other upgrade etc).



",,,,,,,,,,,,,,,,,,,,,,,,,,{},OVIRT-403,,,,,,,,,,,,,,,,0|i008vj:,,,,,,,,,,,,2017-05-23 05:39:42.052,,,"23/May/17 12:39 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;Why add TAP? What does it offer over JUNIT XML? 

Note that Jenkins` support of JUNIT test results is very comprehensive, that TAP plugin doesn't seem to offer the same features (e.g failed tests listed in the job status screen, tests results analyser).","23/May/17 3:19 AM;557058:f5d44d82-cbdb-48a7-b10e-df32e73f5981;Well, bats generates TAP - I agree Junit is better, but I don't think bats has anything else.

Just saw there is an open PR on that: https://github.com/sstephenson/bats/pull/161

If you have concerns that the installation of the plugin might cause problems, then we can close this. We can live without the TAP results in Lago(its is more - nice to have than need to have).


",23/May/17 8:56 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;I'm just wondering if we should add more code to do something we are already doing. Maybe there are tools to convert TAP to JUNIT?,,,,,,,,,,,,,,,,Done
Add a new 'test-system-artifacts' Standard-CI stage,OVIRT-1396,29708,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,Won't Fix,infra,557058:11f1b41b-2c35-4fdf-b282-1510ce705d4d,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,22/May/17 3:29 AM,29/Aug/19 9:12 AM,18/Feb/21 3:54 AM,04/Jul/19 8:04 AM,,ovirt-infra-aug-2019,Standard CI (Pipelines),,,,,,0,,,,,"This is a part of [containers CI/CD|https://docs.google.com/a/redhat.com/document/d/1mEo3E0kRvlUWT9VaSPKDeG5rXBVXgSaHHQfvZ1la41E/edit?usp=sharing] flow implementation process.

An order to allow building and testing processes for containers to be triggered after package that are needed for them are built, we will introduce the ""{{test-system-artifacts}}"" standard-CI stage.

This stage will be invoked from the 'experimental' or 'change-queue-tester' pipelines jost like the existing OST-based flows.

In order to provide package and repo information to the std-CI script invoked by this stage we well need to implement OVIRT-1391",,,,,,,,,,,,,,,,,,,,OVIRT-1371,,,,,,{},,,,,,,,,,,,,,,,,0|i008vb:,,,,,,,,,,,,2018-06-10 15:48:58.235,,,10/Jun/18 10:48 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;probably need grooming and updating to match current oVirt CI capabilities.,04/Jul/19 6:59 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;[~accountid:557058:5fc78873-359e-47c9-aa0b-4845b0da8143] still relevant?,"04/Jul/19 8:04 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;this was part of the ovirt-containers CI design, and a longer-term plan to enable properly handling node/appliance in the CQ. Since we're now working on gating to retire CQ, we're probably not gonna implement this",,,,,,,,,,,,,,,,Done
Make mirror injection process remove “skip_if_unavailable” settings,OVIRT-1393,29705,New Feature,To Do,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,,infra,557058:11f1b41b-2c35-4fdf-b282-1510ce705d4d,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,21/May/17 9:08 AM,24/Jun/18 3:01 AM,18/Feb/21 3:54 AM,,,,CI Mirrors,,,,,,0,containers,mirrors,mock_runner.sh,,"This is a part of [containers CI/CD|https://docs.google.com/a/redhat.com/document/d/1mEo3E0kRvlUWT9VaSPKDeG5rXBVXgSaHHQfvZ1la41E/edit?usp=sharing] flow implementation process.

In order to allow having stub repository configuration files as specified in OVIRT-1391, we need to be able to use the ""{{skip_if_unavailable}}"" yum setting. But we don't want this setting to still be in affect once mirror injection happens and the repo configuration points to a real repo. Therefore we need to make the mirror injection process remove this setting for repo configurations into which mirror URLs are injected.
",,,,,,,,,,OVIRT-1391,,,,,,,,,,OVIRT-1371,,,,,,{},,,,,,,,,,,,,,,,,0|i008un:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Add repo injection capabilities to STD-CI,OVIRT-1391,29703,New Feature,To Do,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Low,,,,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,21/May/17 4:01 AM,24/Jun/18 3:04 AM,18/Feb/21 3:54 AM,,,,CI Mirrors,,,,,,0,containers,mock_runner.sh,standard-ci,,"This is a part of [containers CI/CD|https://docs.google.com/a/redhat.com/document/d/1mEo3E0kRvlUWT9VaSPKDeG5rXBVXgSaHHQfvZ1la41E/edit?usp=sharing] flow implementation process.

We want to add to standard-CI ('{{mock-runner.sh}}') the capability to provide a project with information about package repositories that unrelated to the setup of the environment that standard-CI scripts run in.

A projects will specify required repositories by including one or more files that match the pattern “{{automation/$STD_CI_STAGE.\*.yumrepos.\*}}”, where “{{$STG_CI_STAGE}}” is e.g “{{build-system-artifacts}}” and the wildcard sections can be omitted along with the dots that precede them. The file should be in the format of a yum configuration file and include configuration for required yum repositories. To avoid the projects having to maintain URLs for yum repositories, the file may contain configurations without repository URLs specified and with the “skip_if_unavailable” parameter set to “true”. Only the names of the repository configuration sections will be meaningful for the purpose of the CI system. For each such file the CI system will:

# Replace any configuration section that defines the “{{ovirt-<distro-id>}}” repository with one or more configuration sections pointing to repositories from which oVirt packages for the distribution identified by ""{{<distro-id>}}"" may be obtained. “{{<distro-id>}}"" will be a string such as “el7” or “fc25”. To allow avoiding collisions with the released oVirt yum configuration, the “{{ovirt-ci-<repoid>}}” and “{{ovirt-experimental-<repoid>}}” configuration section will be treated the same way.
# Replace any configuration section that defines the “{{ovirt-dependencies-<distro-id>}}” repository with one or more configuration sections pointing to repositories from which oVirt dependency packages need to be obtained. These will include, among others, base operating system packages. The “{{ovirt-ci-dependencies-<repoid>}}” and “{{ovirt-experimental-dependencies-<repoid>}}” configuration section will be treated the same way.
# Run the mirror injection process. Any repository handled by this process will have the the “{{skip_if_unavailable}}” parameter removed if specified (To make the default value of “{{false}}” come into effect).
# Prepend a “{{\[main]}}” section that disables the use of the “{{/etc/yum.repos.d}}” directory. This will allow the file to appended to the ""{{/etc/yun.conf}}” file to automatically disable all internet-facing preconfigured repositories.

To allow automation scripts to find the repository files prepared for them, several environment variables will be made available in the Standard-CI runtime environment:
# {{STD_CI_STAGE}}: Will contain the name of the Standard-CI stage, e.g. “{{build-artifacts}}”.
# {{STD_CI_DISTRO}}: Will contain the distribution version identifier (e.g “el7” or “fc25”) of the Standard-CI runtime.
# {{STD_CI_YUMREPOS}}: Will point to an existing “{{*.yumrepos}}” file that most closely matches the current running stage and distribution
",,,,,,,,,,OVIRT-1396,,,,,,,,,,OVIRT-1371,,,,,,{},,,,,,,,,,,,,,,,,0|i008u7:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
"Implement ""archive-artifacts"" flow for containers in STD-CI",OVIRT-1390,29702,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,High,Fixed,Daniel Belenky,557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,21/May/17 3:20 AM,03/Aug/17 10:02 AM,18/Feb/21 3:54 AM,19/Jul/17 6:25 AM,,OVIRT-INFRA-JUL-2017,oVirt CI,,,,,,0,standard-ci,,,,"This is a part of [containers CI/CD|https://docs.google.com/a/redhat.com/document/d/1mEo3E0kRvlUWT9VaSPKDeG5rXBVXgSaHHQfvZ1la41E/edit?usp=sharing] flow implementation process.

We want to implement functionality similar to what ""archive-artifacts"" gives use for regular files, for containers in standard-CI.

The design as as following:
# An STD-CI script that generated container images need to tag them with the ""exported-artifacts"" tag.
# After the STD-CI script finishes successfully, the CI system will take the tagged container images and push them the the ""{{ovirtinfra}}"" account on DockerHub.
# The CI system will tage pushed images with the SHA1 hash of the URL of the Jenkins job build that built the image (Can be found in $BUILD_URL)
# The CI system will output examples for '{{docker pull}}' and '{{docker run}}' command that would be needed to obtain the build image to the build status screen (Using the Groovy post-build plugin)",,,,,,,,,,OVIRT-1419,OVIRT-890,,,,,,,,,OVIRT-1371,OVIRT-758,,Code review,,,{},OVIRT-400,,,,,,,,,,,,,,,,0|i005lp:,,,,,,,,,,,,2017-07-09 13:21:08.5,,,"09/Jul/17 8:21 AM;557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2;Verified this flow in out staging jenkins.
[Build with a container export|http://jenkins-staging.phx.ovirt.org/job/archive-containers_master_check-patch-el7-x86_64/80/]
[Build without a container export|http://jenkins-staging.phx.ovirt.org/job/archive-containers_master_check-patch-el7-x86_64/81/]",09/Jul/17 10:48 AM;557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2;Moving to blocked. Waiting for code review,,,,,,,,,,,,,,,,,Done
Create Jenkins+Python talk for PyCon,OVIRT-1383,29501,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Highest,Fixed,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,16/May/17 9:16 AM,02/Jul/17 9:08 AM,18/Feb/21 3:54 AM,14/Jun/17 7:52 AM,,OVIRT-INFRA-JUN-2017,,,,,,,0,,,,,"My proposal was accepted, now need to make a presentation and prepare for it.",,,,,,,,,,,,,,,,,,,,,,,,,,{},OVIRT-400,,,,,,,,,,,,,,,,0|i006rq:z,,,,,,,,,,,,,,,"21/May/17 2:36 PM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;Accepted lecture abstract:

{quote}Title: The snake and the battler, Jenkins as a Python execution platform

Abstract:
Jenkins is a very useful tool for building automation systems.
Jenkins jobs typically get written as a mix of shell scripts and plug-in invocations, but as Python developers we prefer to do things with Python.
In this presentation we will look into various tricks for implementing Jenkins job logic in Python starting with running simple scripts and going up to passing objects around and running stateful applications.
{quote}",,,,,,,,,,,,,,,,,,Done
add support for fedora rawhide in mock_runner,OVIRT-1379,29405,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,Fixed,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,15/May/17 2:36 AM,01/Nov/17 5:03 AM,18/Feb/21 3:54 AM,17/Oct/17 4:29 AM,,OVIRT-INFRA-OCT-2017,,,,,,,0,,,,,"Moving this to Jira.



On 15 May 2017 at 10:31, Barak Korren <bkorren@redhat.com> wrote:
> On 15 May 2017 at 10:13, Sandro Bonazzola <sbonazzo@redhat.com> wrote:
>>
>>
>>
>> On Sat, May 13, 2017 at 11:12 PM, Nir Soffer <nsoffer@redhat.com> wrote:
>>>
>>> Hi Sandro, what is needed to build and public ovirt-imageio for Fedora rawhide?
>>
>>
>> We miss support for rawhide in mock runner, within jenkins git repo.
>> Adding Barak
>
> Get we get a mock configuration for it from somewhere?
> They are building it in Koji so I guess they have rawhide buildroots already no?
>
> Is there any other special behaviour needed besides the proper mock
> configuration?
>
> --
> Barak Korren
> RHV DevOps team , RHCE, RHCi
> Red Hat EMEA
> redhat.com | TRIED. TESTED. TRUSTED. | redhat.com/trusted



-- 
Barak Korren
RHV DevOps team , RHCE, RHCi
Red Hat EMEA
redhat.com | TRIED. TESTED. TRUSTED. | redhat.com/trusted",,,,,,,,,,,,,,,,,,,,,,,,,,{},OVIRT-400,,,,,,,,,,,,,,,,0|i008rr:,,,,,,,,,,,,2017-05-28 10:55:44.614,,,"15/May/17 2:50 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;[~accountid:557058:5b558a0f-5666-4b7f-a655-83e5cc3a5de0], [~accountid:557058:3a069952-633d-482c-90ab-2451cac6751a] lets move this here.","28/May/17 5:55 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;[~accountid:557058:3a069952-633d-482c-90ab-2451cac6751a][~accountid:557058:5fc78873-359e-47c9-aa0b-4845b0da8143] I think we need to agree on the amount of Fedora versions we should support/run in CI.
IMO we should support only latest and maybe even consider only rawhide if it makes sense and working ( it will reduce our work to refresh Fedora OSs on each release which takes a significant amount of time both from dev and CI ). ","29/May/17 1:43 AM;557058:3a069952-633d-482c-90ab-2451cac6751a;I'm fine enabling Ci only for rawhide as default.
For the releases we'll need the stable versions anyway, doesn't make sense to issue a stable release for rawhide.
If single specific package requires to be tested on a stable fedora for some very good reason I would suggest to treat it as an exception.",17/Oct/17 4:29 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;Fedora rawhide support patch merged,,,,,,,,,,,,,,,Done
Make change-queue changes look like SCM changes in Jenkins,OVIRT-1377,29403,New Feature,To Do,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,,infra,557058:11f1b41b-2c35-4fdf-b282-1510ce705d4d,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,14/May/17 3:09 AM,24/Jun/18 3:04 AM,18/Feb/21 3:54 AM,,,,Change Queue,,,,,,0,,,,,"Jenkins has special UI for showing changes. Since the change-queue is all about changes, it'll be great if Jenkins will ""understand"" that change-queue changes are also changes.

It looks like Jenkins does not provide an API the manipulate the list of changes included in a particular build. Instead, change lists come from the SCM plugins, so the way to do this is write a special SCM plugin.

[Here|https://wiki.jenkins-ci.org/display/JENKINS/Extend+Jenkins] is the Jenkins plugin documentation. It includes [a tutorial|https://wiki.jenkins-ci.org/display/JENKINS/Plugin+tutorial#Plugintutorial-SourceCode] as well as [specific documentation|https://wiki.jenkins-ci.org/display/JENKINS/Writing+an+SCM+plugin] about SCM plugins.

[Here|https://github.com/jenkinsci/git-plugin/blob/master/src/main/java/hudson/plugins/git/GitSCM.java] is the source of the Git SCM plugin, as and example of how to write an SCM plugin.",,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,0|i008rb:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Make mock_runner.sh easier to use locally,OVIRT-1376,29402,New Feature,To Do,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Low,,,,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,14/May/17 2:00 AM,24/Jun/18 3:05 AM,18/Feb/21 3:54 AM,,,,mock_runner,,,,,,0,,,,,"Currently to use '{{mock_runner.sh}}', one needs to:
# Install '{{mock}}' (Might require adding some '{{yum}}' repos, also reuquires one to be running RHEL, CentOS or Fedora in the 1st place)
# Add one`s user account to the '{{mock}}' group (requires logoff and logon)
# Clone the '{{jenkins}}' repo
# Use a long set of command line arguments to make '{{mock_runner.sh}}' use the right '{{mock}}' configuration files

All this is making '{{mock_runner.sh}}' hard and unpopular for local use. Also, no knowing one need to do the above leads to strange errors. We can improve this by:
# Making '{{mock_runner.sh}' check that everything is configured correctly and output meaningful warnings otherwise
# Setup the default so that '{{mock_runner.sh}}' knows how the find the right configuration files
# Package '{{mock_runner.sh}}' in one way or another so that one doesn't need to clone a whole repo to install it.

When it comes to packaging we have several options to consider:
* Using an RPM package:
** Pros:
*** Familiar format
*** Can include '{{mock}}' as a dependency.
** Cons:
*** One has to use CentOS or Fedora
*** One most have '{{root}}' permissions to install packages
* Using a self-contained executable built with a tool like [pyinstaller|https://pyinstaller.readthedocs.io/en/stable/operating-mode.html].
** Pros:
*** Installation is just downloading a single file to a directory in '{{$PATH}}'
** Cons:
*** One will probably need to install '{{mock}}' and other dependencies manually.
*** '{{pyinstaller}}' is mostly for Python projects, while '{{mock_runner.sh}}' is a shell script.
* Using a Docker container:
** Pros:
*** Everything can be pre-configured in the container, including '{{mock}}' itself and all needed permissions
*** Can run on any platform that can run Docker
** Cons:
*** One needs Docker itself to be installed and configured
*** '{{mock}}' may not run well inside a container
*** Everything that is mounted into the mock environment must first be mounted into the container. This will probably require the container to run in privileged mode. This also means that running the container with the right mounts may be a complicated matter.
*** The container image may end up being quite big.",,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,0|i008r3:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Provide a mechanism to obtain an ever increasing build number,OVIRT-1374,29400,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,Won't Fix,infra,557058:11f1b41b-2c35-4fdf-b282-1510ce705d4d,Juan Hernández,557058:9f5d6263-ed18-4d4b-841c-7ba5738f1775,Juan Hernández,557058:9f5d6263-ed18-4d4b-841c-7ba5738f1775,12/May/17 6:46 AM,02/Sep/18 10:50 AM,18/Feb/21 3:54 AM,24/Jun/18 3:09 AM,,OVIRT-INFRA-JUN-AUG-2018,Standard CI (Pipelines),STDCI DSL,,,,,0,,,,,"Currently when a project needs to generate unique names for artifacts, they have to use mechanisms like embedding the date and/or the git hash into the artifact name. For example, when a new build of the Ruby SDK is generated, the name of the RPM is like this:

  rubygem-ovirt-engine-sdk4-4.2.0-1.alpha0.20170505gita6de891.el7.centos.ppc64le.rpm

That information is useful, and usually unique. But can be repeated if the same jobs is manually triggered the same day, as the date and the git hash will be the same.

In addition the date may be misleading, because a build performed later but using an old commit, will look newer than an older build that uses a newer commit.

A possible solution is to count the number of commits since certain well known commit. But this isn't reliable if the repository isn't completely cloned, for example if it is cloned with '--depth 1', as that well known commit may not be in the cloned repository. That cloning out of the control of the automation scripts.

So my suggestion/request is to add to the CI/CD environment a mechanism to provide that sequence to the jobs explicitly. I'd suggest to use the count of commits since the initial commit of the repository. The CI/CD environment performs the clone, so it can make sure it has all the relevant commits.

This information could be passed to the build-artifacts.sh script in an environment variable, or in the command line, or in a file in a known location.

With that each project could (optionally) modify its automation scripts to include that number. for example, in the Ruby SDK I'd like to generate RPMs like this:

  rubygem-ovirt-engine-sdk4-4.2.0-1.alpha0.<that-number>.rpm
",,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,0|i008qn:,,,,,,,,,,,,2017-05-12 12:10:37.34,,,"12/May/17 7:10 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;While this is something we can look into, I think in the short term just counting commits from last tag with something like 'git describe' should be enough. It is not likely that we'll switch to shallow cloning any time soon because we know that there are project that are using 'git describe'.

","24/Jun/18 3:09 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;Not going to add this - implementing this would require storing state in the CI system, and would be prone to failure if that state is corrupted or lost. 

This would also make the build version not reproducible.

{{git describe}} provides a better mechanism to achieve what is needed in a stateless and reproducible manner.",,,,,,,,,,,,,,,,,Done
Setup a container registry in PHX (But only on demand),OVIRT-1373,29300,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,Fixed,Evgheni Dereveanchin,557058:caa507e4-2696-4f45-8da5-d2585a4bb794,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,11/May/17 2:30 AM,29/Aug/19 9:12 AM,18/Feb/21 3:54 AM,15/Feb/19 8:33 AM,,ovirt-infra-aug-2019,Repositories Mgmt,,,,,,0,,,,,"As we've been discussing the CI/CD process for containers with various developers. The possibility arose that we might need to run our own container registry on the PHX infrastructure.

Our preference would actually be to use DockerHub or some other public registry, as opposed to running our own service, but it might end up being insufficient from performance or reliability reasons. We will try that first, so for the time being this ticket is for planning and research purposes as opposed to actual deployment.

The container registry will be used by the CI system directly so it needs to be quite fast and very reliable. It will probably contain multiple versions of the CentOS and Fedora base images as well as many other images built on top of them, so storage requirements may not be modest either.",,,,,,,,,,,,,,,,,,,,,,,,,,{},OVIRT-403,,,,,,,,,,,,,,,,0|i008qf:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Write design document for ovirt-containers CI/CD,OVIRT-1371,29200,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,Fixed,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,10/May/17 1:55 AM,02/Sep/18 10:50 AM,18/Feb/21 3:54 AM,10/Jun/18 12:15 PM,,OVIRT-INFRA-JUN-AUG-2018,oVirt CI,,,,,,0,containers,standard-ci,,,"As [discussed on Tuesday, May 10th, 2017|https://docs.google.com/a/redhat.com/document/d/1zJGuWJpZEcH6Q2QiY6gVs9O4tqLwEir4eNI2iQugKpY/edit?usp=sharing]. Some new features are needed to support the ovirt-containers project in the oVirt CI infrastructure.

Tickets about supporting containers have already been opened and discussed in the past, but in order to understand which of them to implement, when and how, we need to write down, discuss and decide upon the design of the whole CI/CD process for a project like ovirt-contianers.",,,,,,,,,,,,,,,,,,,,OVIRT-848,OVIRT-890,,Awaiting comments,,,{},OVIRT-400,,,,,,,,,,,,,,,,0|i006rx:,,,,,,,,,,,,2018-06-10 15:39:57.678,,,"10/May/17 1:59 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;[~accountid:557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2] I'm taking this on currently but I might pass it to you if I don't get to this by tomorrow.

[~accountid:557058:eb7f406a-2711-4ed8-a22c-d0a71a68ec09], [~accountid:557058:b793d139-0dcf-495b-990a-682d2ecc03b0], [~accountid:557058:3a069952-633d-482c-90ab-2451cac6751a], [~accountid:557058:e6e30a59-ab67-47a3-9441-2e36f5540435], [~accountid:557058:af85350f-5bf7-4bf4-bcbc-d780e4ad31d5], [~accountid:557058:9f5d6263-ed18-4d4b-841c-7ba5738f1775]: FYI",11/May/17 3:00 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;Created the [design document|https://docs.google.com/a/redhat.com/document/d/1mEo3E0kRvlUWT9VaSPKDeG5rXBVXgSaHHQfvZ1la41E/edit?usp=sharing] on Google docs.,"15/May/17 6:21 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;Initial design document draft now complete, moving to blocked and awaiting for comments.",10/Jun/18 10:39 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;This ticket probably needs some grooming or updating since ovirt-containers project was dropped.,"10/Jun/18 12:15 PM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;The design document that was written for ovirt-containers was an ambitious one, apart from discussing various features that were needed for basic handling of containers inside STDCI, it also included a design that was targeted towards enabling better handling of projects that essentially generate images that are composed from the artifacts of other projects.

It is that aspect of the document that makes it remain interesting despite the ovirt-containers project having been shut down.

While the document itself had been completed, discussed and confirmed, I left this ticket open to track the conversion of various aspects of the work described in it into Jira tickets. Most have been converted but some did not.

The CI system had moved on since the document had been written however. We now have various capabilities that did not exist back when it was written, therefore we might decide these days to implement needed capabilities in other ways then those that have been described in the document.

Given all the above, I will now close this ticket. When issues that it described arise and we decide to handle them, we will come up with more up-to-date solution designs.",,,,,,,,,,,,,,Done
Use Lago import/export to investigate failures(Or success),OVIRT-2098,29003,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,Won't Do,Gal Ben Haim,557058:f57f4f3d-a7d2-40b5-8ef1-94b6bbbf8dc7,Nadav Goldin,557058:f5d44d82-cbdb-48a7-b10e-df32e73f5981,Nadav Goldin,557058:f5d44d82-cbdb-48a7-b10e-df32e73f5981,07/May/17 8:11 AM,29/Aug/19 9:12 AM,18/Feb/21 3:54 AM,15/Dec/18 9:12 AM,,ovirt-infra-aug-2019,OST,,,,,,0,Icebox,,,,"With Lago's snapshot capability, we could add another step to OST that will export the images in case of a failure. This could allow debugging failures that are not replicated easily. 
When the images will be part of the exported-artifacts, anyone could download them and investigate what caused the failure, by ""opening"" the environment locally.

On Lago's side we could make it as easy as possible to install those images, with https://github.com/lago-project/lago/pull/489 and some scripting work on the experimental job, that will reduce it to just 2 commands :(assuming XXXX is the failed build):
{code}
lago init \ 
  http://jenkins.ovirt.org/job/test-repo_ovirt_experimental_master/XXXX/LagoInitFile \
  --template-repo-path http://jenkins.ovirt.org/job/test-repo_ovirt_experimental_master/XXXX/repo.json \

lago start
{code}

The major barrier is the image sizes, as we probably couldn't store many of them(2-3GB each).

On the successful side, the latest experimental images could be pushed to resources, allowing anyone to check out the new bits easily.


",,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,0|i008pj:,,,,,,,,,,,,2017-06-20 07:46:57.567,,,20/Jun/17 2:46 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;What do we need to do to add to existing jobs so on failure they will export the env to archive artifacts?,"20/Jun/17 3:36 AM;557058:f5d44d82-cbdb-48a7-b10e-df32e73f5981;Technically it should be possible in v0.40. Few things to consider:
1. What would be the trigger for exporting, few options:
* If the suite failed
* If a file failed(i.e. 002, 003, etc)
* If a specific test failed(which we will mark with some sort of a decorator, indicating it should be exported)

And moreover, when a test fails should we 'freeze' immediately + export and exit, or keep running other tests.

2. On infra side, how would we manage disk consumption, the images take around 2GB iirc, so if master becomes broken for more than a day, it can explore pretty quickly(experimental runs *~ 2GB)
","15/Dec/18 9:12 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;Exporting an env that failed in OST is problematic, doesn't seem to work the effort in investing, since each error might leave the VMs in a random state.",,,,,,,,,,,,,,,,Done
Add fc26 mirrors,OVIRT-1326,28703,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,Fixed,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Sandro Bonazzola,557058:3a069952-633d-482c-90ab-2451cac6751a,Sandro Bonazzola,557058:3a069952-633d-482c-90ab-2451cac6751a,21/Apr/17 8:37 AM,01/Jun/17 6:32 AM,18/Feb/21 3:54 AM,03/May/17 3:09 AM,,OVIRT-INFRA-MAY-2017,,,,,,,0,,,,,"In order to start supporting fc26 jenkins jobs, we should start mirroring fc26 repositories.",,,,,,,,,,,,,,,,,,,,OVIRT-1331,,,,,,{},OVIRT-400,,,,,,,,,,,,,,,,0|i006rq:i,,,,,,,,,,,,2017-04-24 06:35:23.46,,,24/Apr/17 1:35 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;Created a [patch|https://gerrit.ovirt.org/#/c/75813/] to add mirrors. Jobs generated. Now blocking on review.,24/Apr/17 2:22 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;The 'fc26 updates' mirror was not created in this ticket because the fc26 updates repo does not exist yet. OVIRT-1331 is a ticket for making the 'fc26 updates' mirror once fc26 is released.,03/May/17 3:09 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;Patch merged.,,,,,,,,,,,,,,,,Done
fc26 testing job,OVIRT-1325,28702,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,Fixed,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Sandro Bonazzola,557058:3a069952-633d-482c-90ab-2451cac6751a,Sandro Bonazzola,557058:3a069952-633d-482c-90ab-2451cac6751a,21/Apr/17 8:36 AM,25/May/17 6:31 AM,18/Feb/21 3:54 AM,24/Apr/17 1:54 AM,,OVIRT-INFRA-APRIL-2017,oVirt CI,,,,,,0,,,,,"While reviewing https://gerrit.ovirt.org/75529 [~accountid:557058:5fc78873-359e-47c9-aa0b-4845b0da8143] commented:

""we should probably add an fc26 job to test it on the slaves via Jenkins, that would make the +v much more meaningful. Can you please add a ticket for that if you can't handle it yourself?""

So, here's the ticket, I can't handle it in a short loop.",,,,,,,,,,,,,,,,,,,,OVIRT-1326,,,code review,,,{},OVIRT-400,,,,,,,,,,,,,,,,0|i008fr:,,,,,,,,,,,,2017-04-23 07:32:07.768,,,23/Apr/17 2:32 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;[patch|https://gerrit.ovirt.org/#/c/75529] by [~accountid:557058:3a069952-633d-482c-90ab-2451cac6751a] already does what can and needs to be done for now.,23/Apr/17 2:34 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;Blocking on patch code review,24/Apr/17 1:54 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;Patch merged.,,,,,,,,,,,,,,,,Done
Please provide a koji (and if possible bodhi) instance for ovirt repositories,OVIRT-1299,28301,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,Won't Do,,,Sandro Bonazzola,557058:3a069952-633d-482c-90ab-2451cac6751a,Sandro Bonazzola,557058:3a069952-633d-482c-90ab-2451cac6751a,05/Apr/17 4:53 AM,29/Aug/19 9:12 AM,18/Feb/21 3:54 AM,15/Dec/18 9:09 AM,,ovirt-infra-aug-2019,Repositories Mgmt,,,,,,1,,,,,"Some of the maintainers of oVirt project wants to have control on the builds going into the release repositories without 3rd party intervention on it.
They would like to have a dist-git + koji like developer experience.
A bodhi instance would help reviewing the package before it lands on repositories.
",,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,0|i0089r:,,,,,,,,,,,,2017-04-05 09:59:30.076,,,"05/Apr/17 4:59 AM;557058:87f29505-5728-4c14-bbb3-a40ff0d4ec7c;Do not make this more complex than it has to be. A simple text or ini file (in ovirt specific repository, not in the project itself!) where the maintainer can say which build (a link to jenkins, copr, koji, github, ...) should go to which release is enough. The same for source tarball. Just let us provide a link (git hash url, gitweb export or github for example).

All your tooling like publishers or CI or anything else can then consume this configuration without forcing us to use a fixed tag or branch structure. The maintainer should be in control of the releases or platform, not the automation.

oVirt is a distribution of pieces and some pieces have slightly different development model. Even some core oVirt project use GitHub as the primary source now.

This has been discussed couple of times already, for example here http://lists.ovirt.org/pipermail/devel/2017-February/029439.html and here http://lists.ovirt.org/pipermail/devel/2017-January/029161.html
","05/Apr/17 8:31 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;I'm not sure I understand the process, and how it differs from what we have now.

 A ""build-artifacts"" job can build in any way the developer chooses, including invoking remote build services. As long as it eventually leaves RPMs in exported-artifacts, they will be taken, system-tested and published. Every 'build-artifacts' job is also a package repository so you even get publishing ""for free"" without passing OST.

If you want to separate the build/release process from source that is also easy to do, you just create a separate repo, place build scripts in it, and make them clone the ""source"" repo. This is essentially what the UX team did for various 3rd party dependencies.

We will probably not further automate the use of specific build systems, nor is it probable that we will deploy any new build system.

WRT GitHub - using it does not imply using a different process, we've been running a very oVirt-like process on GitHub for Lago for quite a long while now. And we've recently started doing this for other projects as well. ","05/Apr/17 8:46 AM;557058:87f29505-5728-4c14-bbb3-a40ff0d4ec7c;The difference is that you depend on gerrit and on specific branch name to know  which build-artifact script to execute. My requests does not require that, I will provide the git url and tarball url (or a dir with those) instead.

Something very similar to what I want is the releng tools repository Sandro uses. An example: https://gerrit.ovirt.org/gitweb?p=releng-tools.git;a=blob;f=releases/ovirt-4.1.1.conf;h=f20c23f5f7d88225e2e729ebab552e5d69544c41;hb=0988bf1bd9d5f91f35733031571f1e8407e28647

The only issue we have with this is that it is not properly documented (inheritance rules, ...), does not support source tarballs and CI is probably not using it at all.


","05/Apr/17 9:38 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;{quote}
The difference is that you depend on gerrit and on specific branch name to know which build-artifact script to execute. My requests does not require that, I will provide the git url and tarball url (or a dir with those) instead.
{quote}

It does not have to be in Gerrit, nor is there a need for specific branches ATM. The discussion about branches was trying to come up with a scheme to auto-detect things that are currently specified in the project YAML in the Jenkins repo. Since we did not implement that yet, you can use any branch names you'd like and map them to oVirt releases in the YAML file.

The one thing we do strongly depend on, is that every change starts with a commit somewhere so that we can track it, and use the hash as a reliable unique identifier for the change. I think this is important. Without it you cannot track changes.

{quote}
Something very similar to what I want is the releng tools repository Sandro uses. An example: https://gerrit.ovirt.org/gitweb?p=releng-tools.git;a=blob;f=releases/ovirt-4.1.1.conf;h=f20c23f5f7d88225e2e729ebab552e5d69544c41;hb=0988bf1bd9d5f91f35733031571f1e8407e28647

The only issue we have with this is that it is not properly documented (inheritance rules, ...), does not support source tarballs and CI is probably not using it at all.
{quote}

That is a repoman configuration file. All it does is collect files together. This is not a reliable source of information, not is it located in the right place, because AFAIK deciding which package builds go to which oVirt releases is the responsibility of the individual package maintainers, not the integration team.

But still, I'm not sure I understand where you are trying to go. Let me try to describe the process you are tying to get to as I understand it:
# You merge a new commit to mom
# You go and launch a build in copr manually.
# When the build is done you go to some file in some repo, specify the url to the build in it and submit a new commit.
# Once the new commit is merged the CY system downloads the new build and publishes it in the oVirt repos.
",05/Apr/17 10:07 AM;557058:87f29505-5728-4c14-bbb3-a40ff0d4ec7c;Exactly what I would like to achieve. With one improvement in step 3. I usually release in the same copr repo so in the ideal world I would just provide the repo url once and every time you do a compose (or nightly) the tooling would check for updates.,"05/Apr/17 10:32 AM;557058:09f61156-7277-4b0a-b675-09e8e086f46a;+1 for ovirt-web-ui, we're going to use the same flow","25/Apr/17 10:56 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;Ok. Here is how we get this with the existing tooling, and with very little work:
# We create a new repo that will serve as the ""link"" between oVirt and mom
# We place an '{{automation/build-artifacts.sh}}' file in the new repo that will '{{wget}}' or '{{curl}}' a specific build of mom and place it in '{{exported-artifacts}}' (You can even use '{{repoman}}' to do it and get the same file format that you've seen in '{{releng-tools}}')
# When a new mom is released, a patch to the repo with the url of the new build needs to be submitted.
# The ""link"" repo can be branched like oVirt versions to indicate which version of mom goes into which oVirt release (You can choose any branch names you'd like as the mapping to oVirt versions happens in the project yaml file, you can also have the same branch go into multiple oVirt versions).

WRT automating step 3 - we want builds to be reproducible. e.g. given a specific set of git hashes you`re supposed to get an equivalent release no matter when you build it. If we just take the latest mom every time we compose, we will just end up with a different composition depending on when we do it. This is why we need the ""link"" repo - to point to the exact mom build that goes into a certain oVirt version.

We are working on a new feature that may allow semi-automating step 3 in the future - It will allow the upstream repo to be queried periodically, and when a new release is found, a patch to the ""link"" repo will be created. The maintainer would still need to review and merge it.

WRT ovirt-web-ui I don't see how this kind of process makes any sense for such a core component. Quite frankly I'm having a hard time understanding why prefer this to ""I submit a patch and the CI system does the rest"".","26/Apr/17 1:51 AM;557058:09f61156-7277-4b0a-b675-09e8e086f46a;not sure I understand ""3"". Yes, when you do a compose next day you have different ""latest"" packages. That's typically what you want.
That new feature you mention seems ok, I do not see a point of ""review and merge it"" though. Why?

","26/Apr/17 2:45 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;{quote}
not sure I understand ""3"". Yes, when you do a compose next day you have different ""latest"" packages. That's typically what you want.
{quote}

No its not. You don't want the outcome of the compose process to be dependant on the time in which you run it, just on the sources of the packages that were included in it (As represented by a set of git hashes). Otherwise you cannot do any effective system testing or CI because the compose the CI system would make and test on day X may end up being different from the compose you release on day Y.

{quote}
I do not see a point of ""review and merge it"" though. Why?
{quote}

A few reasons:
# We want a git hash that represents the point in which a new package version was introduced to oVirt from the reasons stated above
# We want the action of introducing a change to oVirt to be explicit, so it is clear who is responsible for it
# Doing it through a review system would provide a natural place where to provide feedback about a certain change causing issues
# Doing it through a system like Gerrit would allow for easy rolling back of changes.
# If some cases peer feedback may be useful - for example the integration team might prefer not to have changes introduced near new release.

We might me meaning different things when we say ""review and merge"". I just mean that it need to end up in Gerrit (or possibly Github), and someone needs to go and explicitly click ""submit"". I do not mean that one has to wait for peers to come by and vote it. You will be the owner of the ""link"" repo, so you get to set the rules about what a review means there.

BTW it might be even possible to fully automate step 3 when we reach the point where the CI system can take unmerged patches (or PRs), run system tests on them (essentially simulate the merge) and merge if successful. This is what we refer to as ""Patch Gating"" in other places. I`m afraid this is still ways off.","26/Apr/17 9:26 AM;557058:09f61156-7277-4b0a-b675-09e8e086f46a;It may be just a mismatch on terminology indeed. What I mean is that tagging is IMHO a good enough system to achieve that. For an equivalent of -candidate tag I don't really need anyone else to review that, it's good enough for nightlies and non-release usage. Sure, you need to record what you have at the exact time and you need to be able to reproduce it, so set of hashes, NVR or whatever make sense, but only as a tracking record.
And for oVirt compose, as long as project is generally accepted as ""part of oVirt"" I think it should be sole responsibility of the sub-project maintainer to include/tag whatever he/she sees fit. 
I do not think gerrit is a good fit, I think Fedora tooling has all this sorted out in a better way. 
But it's not a big deal, the ""gerrit"" way just looks a bit cumbersome, but it might be the most easy thing to do right now.","15/Dec/18 9:09 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;Sorry, we don't have the available infra nor people to add a koji or bodhi instances to oVirt infra.
Anyone who is interested in using those services can use the Fedora or CentOS instances.",,,,,,,,Done
_manual flavor for ovirt_master_hc-system-tests,OVIRT-1297,28202,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,Fixed,infra,557058:11f1b41b-2c35-4fdf-b282-1510ce705d4d,danken,557058:e3a43fc0-2392-4c23-9d8a-97ac500e22d4,danken,557058:e3a43fc0-2392-4c23-9d8a-97ac500e22d4,04/Apr/17 11:56 AM,25/May/17 6:31 AM,18/Feb/21 3:54 AM,04/Apr/17 10:56 PM,,OVIRT-INFRA-APRIL-2017,oVirt CI,,,,,,0,,,,,"recently we broke ovirt_master_hc-system-tests.
we would like to verify whether https://gerrit.ovirt.org/#/c/75134/ fixes it.
having ovirt_master_hc-system-tests_manual could have helped a lot.",,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,0|i0089b:,,,,,,,,,,,,,,,04/Apr/17 10:56 PM;557058:e3a43fc0-2392-4c23-9d8a-97ac500e22d4;I was not aware of SUITE_TYPE,,,,,,,,,,,,,,,,,,Done
create status.ovirt.org,OVIRT-1251,27201,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,Fixed,Marc Dequènes (Duck),557058:06620dac-7815-415e-9b2a-b834ef470861,Eyal Edri,557058:2dee8503-051b-4630-8a75-2c544524dce8,Eyal Edri,557058:2dee8503-051b-4630-8a75-2c544524dce8,12/Mar/17 6:49 AM,28/May/17 8:33 PM,18/Feb/21 3:54 AM,12/Apr/17 11:22 PM,,OVIRT-INFRA-APRIL-2017,,,,,,,0,,,,,"Similar to other projects:
https://status.newrelic.com/
https://status.centos.org/

It should run probably using local storage so it won't get affected by a storage outage.",,,,,,,,,,,,,,,,,OVIRT-1318,,,,,,,,,{},,,,,,,,,,,,,,,,,0|i007yf:,,,,,,,,,,,,2017-03-15 17:17:55.015,,,12/Mar/17 6:53 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;https://cachethq.io/ looks like a cool OSS project we can use for it.,"15/Mar/17 12:17 PM;557058:caa507e4-2696-4f45-8da5-d2585a4bb794;Looks nice and can be integrated with nagios:
https://github.com/mpellegrin/nagios-eventhandler-cachet/blob/master/cachet_notify

We need to host this somewhere outside PHX (use alterway for now?) and identify what service statuses we'd like to expose.

Main user facing services I find important:
* Website
* Repo (aka resources)
* Lists
* Glance
* Gerrit
* Jenkins
",05/Apr/17 11:11 AM;557058:06620dac-7815-415e-9b2a-b834ef470861;That's for me to setup the server part on Openshift.,"11/Apr/17 12:40 AM;557058:06620dac-7815-415e-9b2a-b834ef470861;So, http://status.ovirt.org/ has been created.

In order to update/upgrade the application, you need to clone the OpenShift repo with:
  rhc git-clone -n ovirtweb status

The app upgrade will need to be done by cloning and checkouting the proper version separately and create an upgrade commit in the OpenShift repo.

Pushing in the OpenShift repo ensure the app is properly redeployed (DB upgrades, cache flush…).

The credentials for this application have been shared in the usual way.

It is not possible to use letsencrypt on OpenShift, so a Digicert cert has been requested and will soon be installed.

The OpenShift repo should be backed-up, as we can rebuild the host very fast with it. The database also needs to be saved.
","11/Apr/17 6:59 AM;557058:caa507e4-2696-4f45-8da5-d2585a4bb794;Great, thanks for setting this up - I created some components to start integrating them with Nagios.","12/Apr/17 12:46 AM;557058:06620dac-7815-415e-9b2a-b834ef470861;HTTPS is now working. I don't see any way to redirect HTTP to HTTPS though in openShift, so you'll have to be careful which URL you use.
","12/Apr/17 2:10 AM;557058:caa507e4-2696-4f45-8da5-d2585a4bb794;It should be possible by adding an .htaccess file to the webroot:
https://developers.openshift.com/faq/troubleshooting.html#_how_do_i_redirect_traffic_to_https","12/Apr/17 3:56 AM;557058:06620dac-7815-415e-9b2a-b834ef470861;Thanks [~accountid:557058:caa507e4-2696-4f45-8da5-d2585a4bb794]. I found many non-working things, and missed this one. I did not know about X-Forwarded-Proto, very nice. I need to adapt it to nginx, because this gear with a recent PHP version was not available with Apache. Hold on.
","12/Apr/17 4:07 AM;557058:06620dac-7815-415e-9b2a-b834ef470861;Ok, done.","12/Apr/17 10:21 AM;557058:caa507e4-2696-4f45-8da5-d2585a4bb794;Thanks Marc, I think we can close this ticket as the service is up and status messages can be configured both manually and automatically.",12/Apr/17 11:22 PM;557058:06620dac-7815-415e-9b2a-b834ef470861;all fine,"19/Apr/17 5:53 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;Guys, thanks for making this happen so fast!
I think it is a significant boost for our way to communicate the availability of oVirt services and increase the visibility of on-going outages to reduce uncertainty. 

Can we send an official announcement on the service to the users and devel lists? ","23/Apr/17 1:18 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;BTW, should the Friday network outage have been reported in status.ovirt.org? 
I saw lots of alerts from icigna but IIRC the status page was showing all operational and also no incidents on Friday 21st.","26/Apr/17 8:41 AM;557058:caa507e4-2696-4f45-8da5-d2585a4bb794;Indeed, there were no automatic status updates made by Icinga.

I linked the following services to send data to status.ovirt.org:

resources.ovirt.org - HTTP
lists.ovirt.org - HTTP
gerrit.ovirt.org - gerrit service
www.ovirt.org - HTTP

Gerrit and the website were not affected by the outage, yet lists and resources did not send any alerts even though they were enabled. I'll need to review those to ensure everything works and then we can announce the service to the community.",28/May/17 8:33 PM;557058:06620dac-7815-415e-9b2a-b834ef470861;[~accountid:557058:caa507e4-2696-4f45-8da5-d2585a4bb794] could you make a PR for mail.ovirt.org as well to deploy whatever is necessary to get this status update (so that when we switch on day…) please?,,,,Done
Security: do we need HSTS for oVirt services?,OVIRT-1231,26915,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,Fixed,infra,557058:11f1b41b-2c35-4fdf-b282-1510ce705d4d,Eyal Edri,557058:2dee8503-051b-4630-8a75-2c544524dce8,Eyal Edri,557058:2dee8503-051b-4630-8a75-2c544524dce8,06/Mar/17 9:47 AM,02/Sep/18 10:51 AM,18/Feb/21 3:54 AM,12/Jun/18 8:29 AM,,OVIRT-INFRA-JUN-AUG-2018,,,,,,,0,,,,,"https://en.wikipedia.org/wiki/HTTP_Strict_Transport_Security

Most of the browsers already supports it and some websites started to enforce it.

cc [~accountid:557058:0951b575-8723-462d-a38f-40f366131f4b]",,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,0|i007tr:,,,,,,,,,,,,2017-06-28 14:52:07.698,,,28/Jun/17 9:52 AM;557058:caa507e4-2696-4f45-8da5-d2585a4bb794;[~accountid:557058:06620dac-7815-415e-9b2a-b834ef470861] are we already using this?,"29/Jun/17 12:59 AM;557058:06620dac-7815-415e-9b2a-b834ef470861;So, the only place using it is the new ML3 server, which is on production only for redirects. We're currently using the 'httpd' Ansible role to deploy the configuration, which activates it. The role also activates 'includeSubDomains'; this is a desired setting but only when all the vhosts on the domain are able to do HTTPS. This is not the case on all oVirt infra yet so it was deactivated manually at some point IIRC.

So, this solution is not perfect but avoiding protocol downgrade is already a very important protection and we should use it. We should also use 'includeSubDomains' too when all our vhosts are ready. And we must not create new vhosts without HTTPS support even for testing. Here are my recommendations.
",12/Jun/18 8:29 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;HSTS already enabled for oVirt services,,,,,,,,,,,,,,,,Done
Ensure /dev/shm/ost is always cleared after a run ended,OVIRT-2107,26508,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,Fixed,Eyal Edri,557058:2dee8503-051b-4630-8a75-2c544524dce8,Nadav Goldin,557058:f5d44d82-cbdb-48a7-b10e-df32e73f5981,Nadav Goldin,557058:f5d44d82-cbdb-48a7-b10e-df32e73f5981,27/Feb/17 9:50 AM,29/Aug/19 9:12 AM,18/Feb/21 3:54 AM,12/Dec/18 6:38 AM,,ovirt-infra-aug-2019,OST,,,,,,0,,,,,"I've seen at least 2 bare metal slaves where '/dev/shm/ost' was not cleared after the job ended(probably unexpectedly by either timing out or aborted).  
This means '/dev/shm' can be full, especially if the internal repo created during OST run is huge. 
This is probably not noticed if another OST job will run, as it will clear '/dev/shm/ost' in the beginning. However, if a different job(such as Lago) will run on the bare-metal slaves, it could fail if in any of its stages it will try to use '/dev/shm'. 

Possible solutions:
1. Address this clean-up in standard-ci post-build step. 
2. Check if OST 'trap' really works when a job is aborted.",,,,,,,,,,,,,,,,,,,,,,,,,,{},OVIRT-2239,,,,,,,,,,,,,,,,0|i007jk:i,,,,,,,,,,,,2018-12-12 12:38:45.819,,,12/Dec/18 6:38 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;This one was fixed AFAIK,,,,,,,,,,,,,,,,,,Done
Allow defining global filters,OVIRT-2084,26503,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,Won't Fix,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,Nadav Goldin,557058:f5d44d82-cbdb-48a7-b10e-df32e73f5981,Nadav Goldin,557058:f5d44d82-cbdb-48a7-b10e-df32e73f5981,26/Feb/17 9:35 AM,29/Aug/19 9:12 AM,18/Feb/21 3:54 AM,15/Feb/19 8:27 AM,,ovirt-infra-aug-2019,repoman,,,,,,0,repoman,,,,"It would be extremely useful to define 'global' filters in repoman.conf. Those will be applied to all sources used.
This would allow to easily solve  https://ovirt-jira.atlassian.net/browse/OST-49. The current solution is to append to each and every 'source' the filter, which is error-prone and hard to maintain.
 
",,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,0|i007lr:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
add on request 'ci help' command via Gerrit,OVIRT-1193,26316,New Feature,To Do,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,,,,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,23/Feb/17 7:19 AM,24/Jun/18 3:34 AM,18/Feb/21 3:54 AM,,,,Documentation,Gerrit/git,Standard CI (Pipelines),,,,0,first_time_task,,,,"On 23 February 2017 at 15:10, Martin Sivak <msivak@redhat.com> wrote:
> Hi,
>
> do you think it would make sense to send a copy-and-paste ready
> message with help to every new gerrit change?
>
> It could provide all the system test (lago) links, mention the Rerun
> hooks syntax and so on. Just so we do not have to search for it all
> the time?

This is doable, but I think experienced users may find this annoying
it ifs too long.

I'm thinking it may be better to have such a message just suggesting
to type something like '@ci help' to get the full help.

It may even be possible to make it clickable with some trickery rather
then just copy-and-paster ready (I will need to check if its possible
to inject links into Gerrit comments).

Apart from that, Roy offered to write a Gerrit plugin that will add
buttons with the various CI commands.

Adding infra-support to get a Jira ticket opened.

-- 
Barak Korren
bkorren@redhat.com
RHCE, RHCi, RHV-DevOps Team
https://ifireball.wordpress.com/",,,,,,,,,,,,,,,,,,,,OVIRT-1165,OVIRT-1154,,,,,{},,,,,,,,,,,,,,,,,0|i004n7:,,,,,,,,,,,,2017-02-23 13:25:05.254,,,"23/Feb/17 7:25 AM;557058:87f29505-5728-4c14-bbb3-a40ff0d4ec7c;> This is doable, but I think experienced users may find this annoying
> it ifs too long.
>
> I'm thinking it may be better to have such a message just suggesting
> to type something like '@ci help' to get the full help.

It does not have to be long, just a summary of all the links once when
the change is posted (so the links can contain the proper change id
and jenkins links).

I am actually more annoyed by the fact that I have to look for the information.

> It may even be possible to make it clickable with some trickery rather
> then just copy-and-paster ready (I will need to check if its possible
> to inject links into Gerrit comments).

That would be even better

> Apart from that, Roy offered to write a Gerrit plugin that will add
> buttons with the various CI commands.

That might work too, but I feel a bot sending a message is faster and
easier to do.

Martin

On Thu, Feb 23, 2017 at 2:18 PM, Barak Korren <bkorren@redhat.com> wrote:
> On 23 February 2017 at 15:10, Martin Sivak <msivak@redhat.com> wrote:
>> Hi,
>>
>> do you think it would make sense to send a copy-and-paste ready
>> message with help to every new gerrit change?
>>
>> It could provide all the system test (lago) links, mention the Rerun
>> hooks syntax and so on. Just so we do not have to search for it all
>> the time?
>
> This is doable, but I think experienced users may find this annoying
> it ifs too long.
>
> I'm thinking it may be better to have such a message just suggesting
> to type something like '@ci help' to get the full help.
>
> It may even be possible to make it clickable with some trickery rather
> then just copy-and-paster ready (I will need to check if its possible
> to inject links into Gerrit comments).
>
> Apart from that, Roy offered to write a Gerrit plugin that will add
> buttons with the various CI commands.
>
> Adding infra-support to get a Jira ticket opened.
>
> --
> Barak Korren
> bkorren@redhat.com
> RHCE, RHCi, RHV-DevOps Team
> https://ifireball.wordpress.com/","26/Feb/17 7:50 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;Not sure about the change of topic - this is not necessarily ""on request"" - perhaps we want the CI system to ""introduce"" itself on each new patch.","26/Feb/17 10:19 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;I think people will be annoyed by that, it willl spam the comments in all patches.
I think it makes sense to developers to know one command - 'ci please help' e.g., and we need to add it to the signatures of emails from infra to devel, to the Jenkins UI and ovirt site.
So people will only need to remember one command, and once they type it, it will give them info on what is available. ","26/Feb/17 10:35 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;The thing is - if last week's events taught us anything is that people are not willing to remember anything - not even one command.

I thing that a short enough message, that will appear once and only once when a patch (patch! not patchset!) is created, is unobtrusive enough to not be annoying. The huge benefit of this is that now no one can say he never heard that there is a CI system and it has commands.

This will also be a good place to warn new contributors about not being in the whitelist and tell them what to do.","26/Feb/17 10:45 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;Another option is to add it to the top of the Gerrit as part of the layout.
But anyhow, I think its best to do a short survey on the devel list before implementing this.","26/Feb/17 10:55 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;I think top of gerrit or the 1st comment in gerrit are visually equivalent, with the difference that the 1st comment is easier to implement atm...

WRT to developer survey - remember that the suggestion for this came from the developers...","26/Feb/17 11:02 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;I still think its worth asking the developers again, proposing the relevant options, after all it was their request as you say.
Also, one or two developers might have different ideas then the majority, so we'll need an agreement on one suggestion from the majority.","27/Feb/17 3:59 AM;557058:87f29505-5728-4c14-bbb3-a40ff0d4ec7c;Eyal, it was my request inspired by Kubernetes. One message per changeset (first comment) is hardly obtrusive and it can provide customized links for the patchset (real links with proper IDs instead of just a generic help message).

Please realize that we want to have as low barrier of entry as possible, so everything has to be immediately obvious from the first message (either a direct link or copy/paste command). There are also people who do not really use the UI too much (we get all the comments using email too) so UI improvement does not solve it for those cases.

But feel free to do a survey.",12/Jul/17 7:04 AM;557058:87f29505-5728-4c14-bbb3-a40ff0d4ec7c;Any update? Was there any survey yet? Almost half a year is plenty of time already.,12/Jul/17 7:20 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;[~accountid:557058:87f29505-5728-4c14-bbb3-a40ff0d4ec7c] this is mostly starved for manpower... We did manage to implement some of the infrastructure we would need to put this in place as part of the CQ work.,,,,,,,,,To Do
Provide an option to have repoman timestamp files to the time of addition to the repo,OVIRT-2083,26206,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,Won't Fix,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,21/Feb/17 10:16 AM,29/Aug/19 9:12 AM,18/Feb/21 3:54 AM,15/Feb/19 8:23 AM,,ovirt-infra-aug-2019,repoman,,,,,,0,repoman,,,,"When repoman copies files locally, it tries to hard link them, and if that is not possible, it copies them in a way that preserves all properties including time stamps.

This is probably the right default behaviour, but sometimes it is desirable that files will be time stamped to the time of addition to the repo. An example of such a case is when the repo is managed with a cleanup script that deleted based on file timestamp.

This feature should probably imply that repoman will copy all the packages instead of hard-linking them. We may also need an option to disable hard-linking.

A real world case where this capability would have helped is OVIRT-1167",,,,,,,,,,,,,,,,,OVIRT-1167,,,,,,,,,{},,,,,,,,,,,,,,,,,0|i007fz:,,,,,,,,,,,,2019-02-15 14:23:35.626,,,15/Feb/19 8:23 AM;557058:5ca52a09-2675-4285-a044-12ad20f6166a;Linked ticket is resolved,,,,,,,,,,,,,,,,,,Done
Allow skipping the creation of yum metadata in target repos,OVIRT-2082,26204,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,Won't Fix,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,21/Feb/17 9:54 AM,29/Aug/19 9:12 AM,18/Feb/21 3:54 AM,15/Feb/19 8:23 AM,,ovirt-infra-aug-2019,repoman,,,,,,0,repoman,,,,"Right now, repoman always creates YUM metadata in the repos it creates.

Sometimes we just want to use repoman`s collection and filtering capabilities to gather RPMs in a directory without turning it into a full yum reository.

Always creating a yum reository can cause issues for other scripts and systems down the line, as can be seen for example in OVIRT-1161.

Creating YUM metadata takes time - we should be able to not do it if we don't need to. For example, the 'deploy-to-ovirt-experimental' job creates YUM metadata for each and every package it uploads because it uploads each one to an individual directory. But metadata is not needed in those directories, only in the 'latest' directory. Not creating it will save time and resources.",,,,,,,,,,,,,,,,,OVIRT-1161,,,,,,,,,{},,,,,,,,,,,,,,,,,0|i007fj:,,,,,,,,,,,,2019-02-15 14:23:07.66,,,15/Feb/19 8:23 AM;557058:5ca52a09-2675-4285-a044-12ad20f6166a;Linked ticket is resolved,,,,,,,,,,,,,,,,,,Done
Please use git shallow clone as jobs default,OVIRT-1173,26202,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Low,Won't Fix,infra,557058:11f1b41b-2c35-4fdf-b282-1510ce705d4d,Roy Golan,557058:9dad5d71-a0ff-41ba-8b8d-be4412f4f3fb,Roy Golan,557058:9dad5d71-a0ff-41ba-8b8d-be4412f4f3fb,21/Feb/17 6:33 AM,28/Dec/17 3:30 AM,18/Feb/21 3:54 AM,25/Dec/17 10:16 AM,,OVIRT-INFRA-DEC-2017,,,,,,,0,standard-ci,,,,"Most if not all the git clone of the jobs don't need history at all.

For ovirt-engine I see it downloading *11Mb* using --depth 1 vs.  *157Mb*
for regular clone.

R",,,,,,,,,,,,,,,,,,,,,,,,,,{},OVIRT-400,,,,,,,,,,,,,,,,0|i007f3:,,,,,,,,,,,,2017-02-21 12:53:11.768,,,"21/Feb/17 6:53 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;Since we're typically cloning into a workspace that already contains a clone from a previous builds, I don't think the real-life benefit of using a shallow clone will be that grate. Worth checking though.

Also, wouldn't this prevent us from doing interesting things with {{git log}}, {{git show}} or {{git describe}} from inside the automation scripts?","25/Dec/17 10:16 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;We didn't see any issues with clone on Jenkins due to the current policy, and due to the caching we already have, this won't bring any significant performance improvement and might introduce new errors.",,,,,,,,,,,,,,,,,Done
add option to disable networking (or have it off by default),OVIRT-1170,26114,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,Done,infra,557058:11f1b41b-2c35-4fdf-b282-1510ce705d4d,Greg Sheremeta,557058:c52cfc3f-f573-4f4e-a5a3-01e2a1d51eb4,Greg Sheremeta,557058:c52cfc3f-f573-4f4e-a5a3-01e2a1d51eb4,20/Feb/17 4:49 PM,01/Oct/17 5:57 AM,18/Feb/21 3:54 AM,28/Sep/17 2:58 AM,,OVIRT-INFRA-SEP-2017,,,,,,,0,,,,,"Add option to disable networking (or have it off by default). Basically, we want to prevent a job from accessing the internet if we want repeatable builds and/or are doing a downstream build somewhere else. Other/downstream build environments often have networking off. Copr has an option: (See: https://lists.fedorahosted.org/archives/list/copr-devel@lists.fedorahosted.org/thread/LZZPJ534ZDRD7YYFDC3BXDUVVPF5B735/ )

In particular, the ovirt-engine-nodejs-modules build-artifacts job *tries* to stay offline, but an evil node module called 'phantomjs' connects to the internet in a post-offline-install hook. I'd like the option to disallow that and have the build fail.",,,,,,,,,,,,,,,,,,,,,,,waiting for user feedback,,,{},OVIRT-400,,,,,,,,,,,,,,,,0|i007ef:,,,,,,,,,,,,2017-02-21 08:41:14.853,,,"21/Feb/17 2:41 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;[~accountid:557058:c52cfc3f-f573-4f4e-a5a3-01e2a1d51eb4] Could this be resolved at the automation script level with something like:

{code}
cat 127.0.0.1 host_evil_module_is.connecting.to > /etc/hosts
{code}

Or

{code}
rm /etc/hosts
{code}

?

Hermetically shutting off the connection is not easily achievable at this point because we need the connection to talk back to Jenkins, and the automation scripts are not running in their own network namespace (Until we get around to implementing OVIRT-873)","21/Feb/17 11:47 AM;557058:c52cfc3f-f573-4f4e-a5a3-01e2a1d51eb4;I'm not familiar with what removing /etc/hosts would do (I would have guessed nothing helpful)

Shutting off access to known problematic domains is helpful, but won't catch when we pull in new dependencies that access domains we don't know about. So I'm afraid this won't really help anything.
","21/Feb/17 11:57 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;Oh sorry that should have been:
{code}
rm /etc/resolv.conf
{code}
Or perhaps more safely:
{code}
truncate /etc/resolv.conf
{code}

This should be safe enough, and will block anything that does not use direct IP addresses to access outside resources.","21/Feb/17 12:26 PM;557058:c52cfc3f-f573-4f4e-a5a3-01e2a1d51eb4;Nod, I'll test it.","20/Mar/17 9:43 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;Do we still need it? 
If it didn't work out in check-patch, another option is to add an OST test for it.","20/Mar/17 10:05 AM;557058:c52cfc3f-f573-4f4e-a5a3-01e2a1d51eb4;Yes, still need this. I just haven't gotten back to it yet. I'll test soon.",08/Aug/17 9:20 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;ping,"28/Sep/17 2:58 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;No reply on this ticket, if it will be needed in the future, please reopen it with relevant info.",,,,,,,,,,,Done
Please install Jenkins Pipeline-Milestone-Step-Plugin,OVIRT-1166,26110,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,High,Done,Evgheni Dereveanchin,557058:caa507e4-2696-4f45-8da5-d2585a4bb794,Nadav Goldin,557058:f5d44d82-cbdb-48a7-b10e-df32e73f5981,Nadav Goldin,557058:f5d44d82-cbdb-48a7-b10e-df32e73f5981,20/Feb/17 11:44 AM,28/Feb/17 8:33 AM,18/Feb/21 3:54 AM,23/Feb/17 5:38 PM,,OVIRT-INFRA-FEB-2017,,,,,,,0,,,,,"The 'concurrency' parameter in the 'stage' step in the pipeline-plugin was deprecated, and is replaced by a combination of two new keywords 'lock' and 'milestone', however, the 'milestone' is included in a different plugin.
This is required in order to allow gating, for now, in github projects.

https://wiki.jenkins-ci.org/display/JENKINS/Pipeline+Milestone+Step+Plugin
https://jenkins.io/blog/2016/10/16/stage-lock-milestone/
",,,,,,,,,,,,,,,,,,,,,,,,,,{},OVIRT-403,,,,,,,,,,,,,,,,0|i007dj:,,,,,,,,,,,,2017-02-21 10:47:50.424,,,21/Feb/17 4:47 AM;557058:caa507e4-2696-4f45-8da5-d2585a4bb794;All dependencies for this plugin are already in place so I'll schedule adding this plugin during the upcoming patching this week.,23/Feb/17 12:39 PM;557058:caa507e4-2696-4f45-8da5-d2585a4bb794;patch submitted for review,23/Feb/17 5:38 PM;557058:caa507e4-2696-4f45-8da5-d2585a4bb794;Plugin installed,"26/Feb/17 4:58 AM;557058:f5d44d82-cbdb-48a7-b10e-df32e73f5981;[~accountid:557058:caa507e4-2696-4f45-8da5-d2585a4bb794] - thanks, it is working as expected.
",,,,,,,,,,,,,,,Done
Please enable https on resources.ovirt.org,OVIRT-1155,25902,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Highest,Duplicate,Evgheni Dereveanchin,557058:caa507e4-2696-4f45-8da5-d2585a4bb794,Sandro Bonazzola,557058:3a069952-633d-482c-90ab-2451cac6751a,Sandro Bonazzola,557058:3a069952-633d-482c-90ab-2451cac6751a,16/Feb/17 4:38 AM,04/Jun/18 1:29 AM,18/Feb/21 3:54 AM,31/May/18 7:07 AM,,OVIRT-INFRA-MAY-2018,Repositories Mgmt,,,,,,0,,,,,"If no technical issue is preventing us to enable https, please enable it
for resources.ovirt.org.

-- 
Sandro Bonazzola
Better technology. Faster innovation. Powered by community collaboration.
See how it works at redhat.com",,,,,,,,,,,,,,,,,,,,,,,,,,{},OVIRT-403,,,,,,,,,,,,,,,,0|i0079z:,,,,,,,,,,,,2018-05-09 12:18:05.851,,,"09/May/18 7:18 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;Let's finish this sooner, to get rid of the HTST issues and new security concenrs",21/May/18 3:29 AM;557058:caa507e4-2696-4f45-8da5-d2585a4bb794;We shall proceed the same way as in OVIRT-1471 by quickly adding a new vhost with SSL to the existing puppet manifest.,"30/May/18 11:34 PM;557058:06620dac-7815-415e-9b2a-b834ef470861;Same as OVIRT-1471 we need the HTTP->HTTPS redirect and HTSH settings too.
",30/May/18 11:36 PM;557058:06620dac-7815-415e-9b2a-b834ef470861;X-Frame-Options and X-Content-Type-Options too,,,,,,,,,,,,,,,Done
Sync the 'tested' repo into the 'snapshot' repo,OVIRT-1152,25804,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,High,Fixed,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,15/Feb/17 3:34 AM,28/Feb/17 8:33 AM,18/Feb/21 3:54 AM,16/Feb/17 5:46 AM,,OVIRT-INFRA-FEB-2017,Repositories Mgmt,,,,,,0,,,,,"As part of the efforts to deprecate the nightly publisher job, and also increase the reliability of published oVirt repos, we've created the 'tested' repo (OVIRT-1045), and started asking developers to use it as a source for package dependencies, and as the main target fur publishing builds.

This situation now is that some packages , that have recently joined the ""Standard-CI"" effort, do not get published in the 'snapshot' repo. This causes projects that have been relying on the 'snapshot' repo as the exclusive source of dependencies to fail CI.

We want to try to make the move to using OST as the source of published packages (As opposed to the 'nightly publisher' job) transparent to developers and users. For that end we will make the 'nightly publisher' jib cause packages to also be collected from the `tested` repo. Over time we can remove code from the publisher job that collects packages directly.",,,,,,,,,,,,,,,,,OVIRT-1161,,,OVIRT-1045,,,https://gerrit.ovirt.org/#/c/72352,,,{},OVIRT-411,,,,,,,,,,,,,,,,0|i0079b:,,,,,,,,,,,,,,,15/Feb/17 6:33 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;Patch created: https://gerrit.ovirt.org/#/c/72352,15/Feb/17 7:24 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;Patch pending review,16/Feb/17 5:46 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;Patch merged.,,,,,,,,,,,,,,,,Done
Standard CI V2 ,OVIRT-1143,25714,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,Fixed,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Eyal Edri,557058:2dee8503-051b-4630-8a75-2c544524dce8,Eyal Edri,557058:2dee8503-051b-4630-8a75-2c544524dce8,13/Feb/17 5:52 AM,02/Sep/18 10:51 AM,18/Feb/21 3:54 AM,10/Jun/18 10:26 AM,,OVIRT-INFRA-JUN-AUG-2018,Standard CI (Pipelines),,,,,,0,standard-ci,,,,"There are a few things we need to consider for oVirt Standard CI V2, 
This ticket will be a parent ticket for all of them and will serve as main RFE.",,,,,,,,,,,,,,,,,,,,OVIRT-1892,,,,,,{},OVIRT-400,,,,,,,,,,,,,,,,0|i00773:,,,,,,,,,,,,2018-06-10 15:26:48.735,,,13/May/18 5:56 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;[~accountid:557058:5fc78873-359e-47c9-aa0b-4845b0da8143] I think its best to put the main ticket in TODO ( hopefully Next column soon once its ready ) and keep the actual sub-tickets that being worked on in progress. otherwise its hard to track,"10/Jun/18 10:26 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;All blockers for this ticket have been resolved, removed or otherwise closed.

No further feature work is planned under the STDCI V2 banner, therefore closing this ticket.",,,,,,,,,,,,,,,,,Done
One manual job for all ost,OVIRT-1136,25707,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,Fixed,Daniel Belenky,557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2,Daniel Belenky,557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2,Daniel Belenky,557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2,12/Feb/17 3:49 AM,28/Feb/17 8:33 AM,18/Feb/21 3:54 AM,19/Feb/17 9:48 AM,,OVIRT-INFRA-FEB-2017,,,,,,,0,,,,,"*Create one manual job that will run ost on demands with a given patch.*
Today we have a separated set of jobs to run ost manually. If a developer want to test his new patch, we need to search Jenkins for the relevant job. As we have new suites in ost, we should create one job with simple interface to allow developers test their patches.

[Job's code|https://gerrit.ovirt.org/#/c/71706/]
[Docs patch|https://gerrit.ovirt.org/#/c/71780/]
",,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,0|i0075j:,,,,,,,,,,,,2017-02-19 15:48:47.347,,,19/Feb/17 9:48 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;code merged and announcement email sent to devel.,,,,,,,,,,,,,,,,,,Done
Add Jenkins job for testing,OVIRT-1128,25606,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,Fixed,infra,557058:11f1b41b-2c35-4fdf-b282-1510ce705d4d,Pavel Zhukov,557058:3f771b77-fd23-47bf-882c-827a797526df,Pavel Zhukov,557058:3f771b77-fd23-47bf-882c-827a797526df,09/Feb/17 7:49 AM,01/Nov/17 5:03 AM,18/Feb/21 3:54 AM,24/Oct/17 1:03 PM,,OVIRT-INFRA-OCT-2017,,,,,,,0,staging,,,,"it'd be good to have jenkins job to test and regenerate jenkins jobs :)
which uses ""good"" jjb configuration and available for infra team from
any machine.
Currently local JJB instances and configs are used which is not perfect
because configs can be different as well as jjb versions, not rebased
repos can be used for testing  Besides of that it requires copying of
configs between machines and so on.

--
Pavel",,,,,,,,,,,,,,,,,,,,,,,,,,{},OVIRT-400,,,,,,,,,,,,,,,,0|i0073r:,,,,,,,,,,,,2017-02-26 12:52:12.028,,,26/Feb/17 6:52 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;can be part of improved jenkins staging with gerrit staging,24/Oct/17 1:03 PM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;We have full CI flows running in the staging system now,,,,,,,,,,,,,,,,,Done
Automate project Gerrit repo creation,OVIRT-1113,25502,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Low,Won't Do,infra,557058:11f1b41b-2c35-4fdf-b282-1510ce705d4d,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,07/Feb/17 5:22 AM,29/Aug/19 9:12 AM,18/Feb/21 3:54 AM,15/Dec/18 9:02 AM,,ovirt-infra-aug-2019,Gerrit/git,,,,,,0,first_time_task,Icebox,,,"Because the doc is annoying to follow manually, and its easy to automate Gerrit, the API is basically 'ssh'.

Long term if the automation is good we could make this ""self service"".",,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,0|i00707:,,,,,,,,,,,,2017-02-13 07:44:24.234,,,13/Feb/17 1:44 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;Using https://github.com/Netflix/hubcommander might be useful for automating the sync to oVirt org on GitHub,21/Mar/17 8:00 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;This job should also enable default Gerrit hooks on the project or allow the person who runs the job to choose which suites he would like to add.,28/Mar/17 1:27 AM;557058:28e1a2c2-c3ca-4486-b8f4-af1e16c81962;Can you please add the link to the documentation too?,"28/Mar/17 1:32 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;Here is the existing doc about creating repos:

http://ovirt-infra-docs.readthedocs.io/en/latest/General/Creating_Gerrit_Projects/index.html

[~accountid:557058:73255e4a-293f-4236-adb2-ffd031901067], [~accountid:557058:caa507e4-2696-4f45-8da5-d2585a4bb794] is that doc up to date?","28/Mar/17 5:59 AM;557058:73255e4a-293f-4236-adb2-ffd031901067;[~accountid:557058:5fc78873-359e-47c9-aa0b-4845b0da8143] No, the doc isn't up to date.
* From a small brief reading, the permission and the hook sections require an update.
* There is a task to update the docs","15/Dec/18 9:02 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;Just isn't worth the effort, the amount of new projects of Gerrit is very low and new projects also being created on GitHub. ",,,,,,,,,,,,,Done
Gradually remove jobs from master publisher,OVIRT-1073,24915,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,Fixed,Eyal Edri,557058:2dee8503-051b-4630-8a75-2c544524dce8,Eyal Edri,557058:2dee8503-051b-4630-8a75-2c544524dce8,Eyal Edri,557058:2dee8503-051b-4630-8a75-2c544524dce8,24/Jan/17 2:54 AM,01/Jun/17 6:32 AM,18/Feb/21 3:54 AM,01/May/17 3:36 AM,,OVIRT-INFRA-MAY-2017,,,,,,,0,,,,,"We saw how destructive using the current publishers can be during 4.1 cycle, 
Problems we encountered:

1. It hides missing RPMs from experimental flows 
2. It hides projects that needs to branch or using previous version released
3. It creates confusion of which RPMs are really tested in OST and give different results than experimental instead of having a single source of RPMs for oVirt.

We should aim to drop it for 4.2 and use only experimental deployment.
However, since we have errors on deploy to experimental flow, we can't progress with this until they will be solved.
",,,,,,,,,,,,,,,,,,,,,,,https://ovirt-jira.atlassian.net/browse/OVIRT-899,,,{},OVIRT-400,,,,,,,,,,,,,,,,0|i006qf:,,,,,,,,,,,,,,,24/Jan/17 2:56 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;Waiting for deploy to experimental to stop failing ,"27/Feb/17 9:10 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;We won't drop the nightly publishers.
Instead we'll just stop publishing RPMs from it and it will only be used to sync tested RPMs each night to the snapshot repos, that way we'll have static nightly updated oVirt repos.

The code to support it for master is already merged and part of the master publisher.

We need to remove all the YAML code from the publisher job gradually until all is left is the code that sync the test repo.

fyi [~accountid:557058:4b59dae4-f33c-46b5-97d7-249175c63194]",,,,,,,,,,,,,,,,,Done
Make OST check-patch use CI mirrors,OVIRT-2100,24910,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,Fixed,Daniel Belenky,557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,23/Jan/17 3:39 AM,02/Sep/18 10:50 AM,18/Feb/21 3:54 AM,02/Aug/18 7:07 AM,,OVIRT-INFRA-JUN-AUG-2018,OST,,,,,,0,,,,,"Most flows that run OST in CI now use the CI mirrors to get packages. The '{{check-patch.sh}}' script however, does not use mirrros ATM.

To make this happen we probably need to implement OVIRT-1069 first.",,,,,,,,,,OVIRT-2062,,,,,,,,,,,,,code-review,,,{},OVIRT-2239,,,,,,,,,,,,,,,,0|i006pb:,,,,,,,,,,,,2017-01-24 08:38:42.976,,,24/Jan/17 2:38 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;[~accountid:557058:5fc78873-359e-47c9-aa0b-4845b0da8143] are you handling it or [~accountid:557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2]?,"24/Jan/17 2:41 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;[~accountid:557058:2dee8503-051b-4630-8a75-2c544524dce8] Not sure, this is not critical ATM and can wait a while until the rest of the mirrors work gets merged tried and tested.

Note the blocking ticket - we need some new mock_runner (Or docker_runner) features to implement this.","02/Apr/17 6:29 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;Some explanations about the link to OVIRT-1069:

There are two ways we can do mirror injection:
# Have Jenkins do it (This is like we do in in 'experimental' from the Groovy, or like we do it from YAML in the OST jobs)
# Do it directly from the '{{check-patch.sh}}' script.

OVIRT-1069 is needed to implement option #2 because it needs to know if it is running in CI or not in order to decide if to try mirror injection. Actually doing mirror injection is also a challenge because '{{check-patch.sh}}' does not typically have a direct access to the '{{jenkins}}' repo where the mirror injection script resides.

To implement option #1 instead, we will need to decide on a standard by which '{{\*.repo}}' files could be found automatically and injected into. And we don't want to do things like just inject to every '{{\*.repo}}' file in the project source because that is bound to break stuff...","21/May/17 8:54 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;When OVIRT-1391 will be implemented, we'll have the set of tools needed to fix this issue.",01/Oct/17 6:57 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;Didn't we add support for std-ci jobs already for using mirrors?,"01/Oct/17 8:35 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;[~accountid:557058:2dee8503-051b-4630-8a75-2c544524dce8] Yes, with the '{{*.yumrepo}}'  file feature, (OVIRT-1556), but we need to change OST to use it.",30/May/18 10:11 AM;557058:f57f4f3d-a7d2-40b5-8ef1-94b6bbbf8dc7;[~accountid:557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2] Was fixed with stdci v2 right?,"31/May/18 12:30 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;{quote}
Was fixed with stdci v2 right?
{quote}

No. Fixing this require patching OST to use the 'yumrepos' feature.

Removing OVIRT-1391 as a blocker for this, because it isn't really.","08/Jul/18 5:56 AM;557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2;Instead of having a specific code that treats OST only, we should utilize the generic way of STDCI to inject mirrors to yum configs.","15/Jul/18 1:56 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;[~accountid:557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2] given that the patch was merged AFAIK (not linked here so can't easily verify), we can move this to 'done' no?",02/Aug/18 7:07 AM;557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2;Fixed for suites that are running in CQ,,,,,,,,Done
Make CI information available to scripts in standard CI,OVIRT-1069,24909,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,Fixed,Daniel Belenky,557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,23/Jan/17 3:33 AM,03/Aug/17 10:02 AM,18/Feb/21 3:54 AM,01/Aug/17 7:35 AM,,OVIRT-INFRA-JUL-2017,oVirt CI,,,,,,0,mock_runner.sh,standard-ci,,,"Right now scripts running in standard-CI have no information about the environment they are running in. This is by design, because the scripts are supposed to behave the same if they are running locally or on a Jenkins slave.

But there are cases where letting the script know it is running in CI is useful. For example - to make it use the package mirrors in the CI system instead of getting packages over the internet.

It seems that essentially all the information that is passed to '{{mock_runner.sh}}' on the command line should be made available to the automation script as environment variables. Additionally, information from Gerrit would probably also be useful.",,,,,,,,,,OVIRT-1556,OVIRT-1391,OVIRT-2100,,,,,,,,OVIRT-1042,,,Code,,,{},OVIRT-400,,,,,,,,,,,,,,,,0|i005lp:t,,,,,,,,,,,,,,,"21/May/17 8:39 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;The feature described in OVIRT-1391 required the functionality described in this ticket.

More specifically it defines a requirement for the following information provided as environment variables:

# {{STD_CI_STAGE}}: Will contain the name of the Standard-CI stage, e.g. “{{build-artifacts}}”.
# {{STD_CI_DISTRO}}: Will contain the distribution version identifier (e.g “el7” or “fc25”) of the Standard-CI runtime.
# {{STD_CI_YUMREPOS}}: Will point to an existing “{{*.yumrepos}}” file that most closely matches the current running stage and distribution",,,,,,,,,,,,,,,,,,Done
Enable ovirt-system-tests for ppc64le,OVIRT-2108,24801,New Feature,To Do,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,,infra,557058:11f1b41b-2c35-4fdf-b282-1510ce705d4d,Sandro Bonazzola,557058:3a069952-633d-482c-90ab-2451cac6751a,Sandro Bonazzola,557058:3a069952-633d-482c-90ab-2451cac6751a,20/Jan/17 10:05 AM,24/Jun/18 12:32 PM,18/Feb/21 3:54 AM,,,,OST,,,,,,0,Icebox,,,,"We're using ppc64le hosts in oVirt CI infrastructure under oVirt management.
It's our own production system so I think it would be valuable to have system tests running also with ppc64le hosts, not only x86_64.
",,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,0|i006mv:,,,,,,,,,,,,2017-01-20 17:09:34.522,,,"20/Jan/17 11:09 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;Unless we're going to either allow running x86_64 VMs on PPC hosts or build engine for PPC, our current infrastructure cannot run OST on PPC.

A PPC Lago port would be needed, and if no PPC build of engine will be done, I guess we will need to add multi-arch capabilities to Lago (Can PPC qemu/kvm emulate x86_64 machines?).

Another option to consider is creating some kind of ""Lago swarm"" where Lago would be able to run an engine VM on an x86_64 host and a host VM on a PPC host, and have them talk to each other. Perhaps we could use oVirt itself as the substrate to do this once oVirt gains a simple an reliable overlay networking support.

Bottom line - several new Lago and possibly oVirt features would be required to accomplish this. ","20/Jan/17 11:16 AM;557058:3a069952-633d-482c-90ab-2451cac6751a;Let's track them one by one and block this issue.
We need to end up with a full arch coverage CI at some point and we need to start somewhere.",21/Jan/17 7:00 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;What about starting with a functional test that only installs hosts like VDSM check-merged is doing? ,"21/Jan/17 1:08 PM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;{quote}
What about starting with a functional test that only installs hosts like VDSM check-merged is doing?
{quote}
I guess that will be the same as simply running VDSM's check-merged on PPC64LE. That would indeed be easier then running the full OST, but we will still need to start building Lago for PPC64LE.","04/Jun/18 7:39 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;[~accountid:557058:f57f4f3d-a7d2-40b5-8ef1-94b6bbbf8dc7] I remember this wasn't possible due to missing pkgs on power, but I don't remember any details.

Is it possible given the time and resources?","04/Jun/18 8:22 AM;557058:f57f4f3d-a7d2-40b5-8ef1-94b6bbbf8dc7;As stated, it will require building lago for ppc64.
It's difficult to evaluate the amount of time that is needed for this task,
but for sure it's not something immediate.",,,,,,,,,,,,,To Do
Allow to run OST with Lago unstable,OVIRT-1052,24703,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,Fixed,Daniel Belenky,557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2,Gal Ben Haim,557058:f57f4f3d-a7d2-40b5-8ef1-94b6bbbf8dc7,Gal Ben Haim,557058:f57f4f3d-a7d2-40b5-8ef1-94b6bbbf8dc7,19/Jan/17 4:13 AM,30/Jan/17 3:25 AM,18/Feb/21 3:54 AM,24/Jan/17 2:40 AM,,OVIRT-INFRA-JAN-2017,,,,,,,0,,,,,"We want to run OST with Lago unstable in order to verify our chnages.

Lago unstable repo: http://resources.ovirt.org/repos/lago/unstable/0.0/latest/rpm/

",,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,0|i006l3:,,,,,,,,,,,,2017-01-19 11:59:27.683,,,19/Jan/17 4:14 AM;557058:f57f4f3d-a7d2-40b5-8ef1-94b6bbbf8dc7;[~accountid:557058:f5d44d82-cbdb-48a7-b10e-df32e73f5981],19/Jan/17 5:59 AM;557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2;please review [https://gerrit.ovirt.org/#/c/70819/|https://gerrit.ovirt.org/#/c/70819/],,,,,,,,,,,,,,,,,Done
Support for testing ovirt on OpenShift in OST,OVIRT-2105,24602,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Highest,Won't Do,Gal Ben Haim,557058:f57f4f3d-a7d2-40b5-8ef1-94b6bbbf8dc7,Fabian Deutsch,557058:b793d139-0dcf-495b-990a-682d2ecc03b0,Fabian Deutsch,557058:b793d139-0dcf-495b-990a-682d2ecc03b0,18/Jan/17 1:42 PM,02/Sep/18 10:50 AM,18/Feb/21 3:54 AM,10/Jun/18 10:35 AM,,OVIRT-INFRA-JUN-AUG-2018,OST,,,,,,0,kubevirt,,,,"Hey,

Yaniv Bronheim is building containers for vdsm and engine.

Lago should become capable of running OST against this setup.

The basic flow is:
1. Normal CentOS
2. Install kubernetes
3. Deploy engine and vdsm pods

The pod definitions are here:
https://gerrit.ovirt.org/gitweb?p=ovirt-container-engine.git;a=tree
https://gerrit.ovirt.org/gitweb?p=ovirt-container-node.git;a=tree

A similar script can be found here:
https://github.com/kubevirt/demo/blob/master/data/bootstrap-kubevirt.sh
But this script is deploying kubevirt, instead of the engine + vdsm container.",,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,0|i007jk:9,,,,,,,,,,,,2017-01-26 15:07:54.65,,,"26/Jan/17 9:07 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;Since this will require a whole new suite with different deploy scripts ( but still using the same tests ),
I wonder if we should add support to use Ansible scripts instead of bash scripts and utilize existing Ansible playbooks to install Kubernetes [1].
We will still add a new suite, but at least we'll use existing code and not write new bash scripts for it.

Also, Shouldn't we use CentOS Atomic images rather than base CentOS? 

[~accountid:557058:5fc78873-359e-47c9-aa0b-4845b0da8143][~accountid:557058:75f9bb6c-1b9f-4049-bdd4-dbb844d24119][~accountid:557058:f57f4f3d-a7d2-40b5-8ef1-94b6bbbf8dc7][~accountid:557058:f5d44d82-cbdb-48a7-b10e-df32e73f5981] - WDYT?

[1] https://galaxy.ansible.com/grycap/kubernetes/","26/Jan/17 2:33 PM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;I think the way to go is with Atomic, it seems to have [quite good support|http://www.projectatomic.io/docs/gettingstarted/] for getting Kubernetes running on top of it. I'm hoping we can reach the point where we boot up an atomic image with some cloud-init settings that make it boot Kubernetes.

But there is a question if people are supposed to boot Atomic on bare-metal. If not we need to find out what the process for running Kubernetes (Openshift?) on bare metal is going to be and imitate that.","28/Jan/17 10:06 AM;557058:75f9bb6c-1b9f-4049-bdd4-dbb844d24119;[~accountid:557058:2dee8503-051b-4630-8a75-2c544524dce8] - I strongly agree. I think lago has just gained good support for providing the Ansible hosts list (via https://github.com/lago-project/lago/pull/428 ).
The provides the basic infrastructure needed from the host (L0) to do things via Ansible.
I'd argue though that we need to use Ansible from L1, not from L0. So I rather we copy the relevant Ansible, scripts, what not, and execute it from L1.

I'm not sure I'd use Atomic right away, though I agree it's a goal.",29/Jan/17 2:52 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;We need support for Ansible Playbooks before we start implementing this suite.,"29/Jan/17 9:56 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;[~accountid:557058:b793d139-0dcf-495b-990a-682d2ecc03b0] Just to emphasis the scope and requirements, let me re-iterate on what we agreed on the email:

A new OST suite will be created which will run the same tests run today in basic suite, the difference will be:

1. Replace deploy scripts for engine + storage with Ansible playbook which will install Kubernetes 
2. The Ansible playbook will also need to deploy engine + vdsm as containers in PODS once Kubernetes will be running
3. Not sure how 'add host' should work - will VDSM come ready in a container and already connect to the engine or we'll still need to run 'add host' command to add it? or an alternative 'add host' command.
4. Kubernetes will be running on VMs created by Lago 
5. We will consider to use Atomic as OS for the VMs, but CentOS should work as well as starting point.


Please confirm I'm not talking nonsense and we can continue to move towards this goal :) ","29/Jan/17 11:19 AM;557058:75f9bb6c-1b9f-4049-bdd4-dbb844d24119;[~accountid:557058:2dee8503-051b-4630-8a75-2c544524dce8] - too many items there, I think. We should probably document it in KubeVirt's trello and not here.
0. Do we use Lago as is, or vagrant? Unclear to me, and I do see a nice advantage for the community using vagrant.
1. Ansible installing K8S - makes sense to me. This is quite integrated into vagrant and is easy to do (though requires Ansible on Host L0) in Lago. Do we have Ansible to install Engine? Quite possibly from QCI - we should utilize that - but it's not within a Container - Engine is not yet containerized (production-ready, at least)
3. Good point about Add Host. Donno yet...
4. ACK
5. ACK.
","29/Jan/17 12:32 PM;557058:2dee8503-051b-4630-8a75-2c544524dce8;This is the tool we're using for tracking issues for OST, so its the right place, if needed we can have a trello card pointing to this ticket.

0. Lago. I don't think that the fact Vagrant was used for POC KubeVirt alone is a major advantage to re-do all the work we've done to make OST run with Lago, 
Moving to Vagrant will mean investing a lot of efforts and resources ( which we don't have, looking at the Lago+OST headcount ATM ) into making something we already have working for little value IMO and will delay significantly the work to support KubeVirt. 
We can consider it once we'll have a full time maintainer for Lago/OST. 

1. Once we support Ansible as deploy scripts in OST, which shouldn't be hard after the recent merges to Lago, we can just use the existing Kubenetes playbooks, not sure how using Vagrant makes it simpler. 

Ansible for engine - not sure how/what we'll need, but [~accountid:557058:b793d139-0dcf-495b-990a-682d2ecc03b0] provided us with POD definitions, I'm guessing once you have Kubenetes its just a matter of running / deploying the engine container?  ( so according to the request we should have available engine & vdsm in containers, otherwise I didn't understand the request )","29/Jan/17 3:55 PM;557058:75f9bb6c-1b9f-4049-bdd4-dbb844d24119;0. I think it's time to understand if we want to use Lago for Kubevirt or not. I prefer vagrant - it's more common, works out of the box on both Ubuntu and possibly other operating systems (does it have nested virt on Mac or Windows?). I would like to believe that moving to vagrant is actually a good opportunity to start afresh. Lago is not killed by it, and will remain relevant for OST.
1. Ansible is supported today in vagrant. I believe a fair start of support exists in Lago as well - but as Barak pointed out, probably need a bit of Cloud-Init work too perhaps - not sure.

Engine is not containerized for real yet. Once it does, we'll probably deploy it via standard Pod deployment options (saw today ansible-containers, for example - sounds neat). 
","12/Mar/17 4:16 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;still trying to move it to blocked status, please ignore for now.","20/Jun/17 2:53 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;This will probably require installing OpenShift via Ansible, and since we already support Ansible in Lago, we need to choose the right playbook from Galaxy.

proposed role: https://github.com/openshift/openshift-ansible/tree/master/playbooks/byo

we should run config.yml","04/Jul/17 9:55 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;[~accountid:557058:b793d139-0dcf-495b-990a-682d2ecc03b0] can we close this ticket following our last conversation, or update it with new requirements?","18/Jul/17 3:50 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;The best way to find the right ansible playbook is to look in origin docs:
https://github.com/openshift/origin","10/Jun/18 10:35 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;ovirt-containers initiative was dropped, so it doesn't make sense to develop a suite to run oVirt on OpenShift in OST.
There are other initiatives like running OpenShift on oVirt which are tracked in other tickets.",,,,,,Done
Build and check KubeVirt Demo image,OVIRT-1047,24601,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,High,Won't Do,Daniel Belenky,557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2,Fabian Deutsch,557058:b793d139-0dcf-495b-990a-682d2ecc03b0,Fabian Deutsch,557058:b793d139-0dcf-495b-990a-682d2ecc03b0,18/Jan/17 1:39 PM,31/Aug/17 8:02 AM,18/Feb/21 3:54 AM,23/Aug/17 2:56 AM,,OVIRT-INFRA-AUG-2017,oVirt CI,,,,,,0,kubevirt,,,,"Hey,

a job is needed which will build the following image:
https://github.com/kubevirt/demo

$ make clean build check

should do the job. virt-builder and guestfish are used.",,,,,,,,,,,,,,,,,,,,,,,https://ovirt-jira.atlassian.net/browse/OVIRT-970,,,{},,,,,,,,,,,,,,,,,0|i006jz:,,,,,,,,,,,,2017-01-19 08:00:47.889,,,"19/Jan/17 2:00 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;We are currently working on adding support for GitHub project to be used in standard CI.

The first project is ovirt-web-ui.

Once we'll have the templates ready and merged, adding a new project like KubeVirt should be simple.","19/Jan/17 2:01 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;Once we'll have the support in yaml, the maintianer should be able to add build artifacts under automation and build the image.",26/Jan/17 4:02 AM;557058:b793d139-0dcf-495b-990a-682d2ecc03b0;Btw - This issue would allow us to provide robust support for a demo which can be run on Ubuntu.,"07/Feb/17 5:54 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;[~accountid:557058:b793d139-0dcf-495b-990a-682d2ecc03b0] can you please add the 'automation' dir to the demo repo with at least build-artifacts.* files so we can test a build in CI? 
You can add the needed pkg to the .packages file ( guestfish + virtbuilder ? )","07/Feb/17 5:55 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;Moving back to queue since we can test it against the open patch [1] to support github projects.


[1] https://gerrit.ovirt.org/#/c/71151/16","07/Feb/17 7:12 AM;557058:b793d139-0dcf-495b-990a-682d2ecc03b0;I hesitate to add the automation dir to upstream KubeVirt, as it is such a generic term which does not fit there.

My suggestion would be to add support for an {code}.ovirtci{code} file to generate the necessary automation/ dir.","07/Feb/17 7:20 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;I'm not sure we can support it or add it, right now the whole standard CI is based on the automation dir,
starting to support something new means we need to think how/if we can support such flow and will surly delay the implementation.

I'm not sure I understand the explanation why can't you add the automation dir..., what do you mean by generic term? what do you think will happen if you'll add it?","12/Feb/17 7:47 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;[~accountid:557058:5fc78873-359e-47c9-aa0b-4845b0da8143] any thoughts ? 
Will the support for self service jobs we're thinking in adding in https://ovirt-jira.atlassian.net/browse/OVIRT-1013 provide what [~accountid:557058:b793d139-0dcf-495b-990a-682d2ecc03b0] is requesting?","12/Feb/17 7:49 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;[~accountid:557058:b793d139-0dcf-495b-990a-682d2ecc03b0] can you elaborate what will the .ovirtci file contain? 'automation' dir isn't all that is needed, its mostly its scripts inside it that are supported like 'build-artifacts.sh' or 'check-patch.sh' .","12/Feb/17 8:15 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;This had come down to argument about names. I think this is silly. there is nothing wrong with calling it {{auotmation}} IMO, because nothing there is necessarily oVirt-specific. You could easily make Travis run the scripts there, and perhaps you should.

OVIRT-1013 includes no plan to rename {{automation}} to something else. Nor do I think it should.","13/Feb/17 5:28 AM;557058:b793d139-0dcf-495b-990a-682d2ecc03b0;You know - I don't disagree - if I was reading the ticket (as a 3rd person), then I'd say it's silly as well - to just discuss names.

But to be a good citizen, I'd say an ovirtci file would make sense.

[~accountid:557058:2dee8503-051b-4630-8a75-2c544524dce8] the .ovirtci file could -in the easiest case - effectively have the same structure as the dir, it would just be fields in the yaml file.
{code}
toYaml() {
  for F in automation/*; do
    echo $F: |"" ; sed ""s/^/    /"" < $F ; echo -e ""\n---""
  done
  echo
}

$ toYaml > .ovirtci
{code}

and back

{code}
fromYaml() {
  sed -e ""s/^automation/cat <<EOF > automation/ ; s/---/EOF/ ; s/: |// ; s/^    //""
}

$ fromYaml < .ovirtci
{code}

And from there it could be gracefully improved - if wanted.","13/Feb/17 5:42 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;[~accountid:557058:b793d139-0dcf-495b-990a-682d2ecc03b0] OK, so you can also understand that changing existing framework that we've been using in the past years has a certain toll in terms of time & resources,
So I would like to know what is the main blocker or issue from your perspective from not using existing tools and for the need to develop a new standard which will require time, time that is taken from other projects, just to satisfy a single project.

Putting aside (silly) names, I think we deserve to know the reason why 'automation' dir can't be used and then we can discuss if/how we can support anything different.","13/Feb/17 8:35 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;[~accountid:557058:b793d139-0dcf-495b-990a-682d2ecc03b0] I wouldn't really want to shove everything into a monolithic YAML file. Personally I find the ""hook script"" concept much more convenient to use over time.

Maybe we can find a middle ground. How about we make things so that we fall back to the '{{.ovirtci}}' directory when '{{automation}}' is not there?

There is also the issue of the dot (.) in ""{{.ovirtci}}"". I don't really think that information should be ""hidden"". Consider that its '{{Makefile}}' and not '{{.makefile}}', '{{Dockerfile}}' and not '{{.dockerfile}}'. I think '{{.travis}}' is a design error.","13/Feb/17 8:58 AM;557058:b793d139-0dcf-495b-990a-682d2ecc03b0;.ovirtci as a directory would also work.

To me it is a benefit to have the ""namespaced"" / ""branded"" ci files, as it gives the files a context, an dthe reader a hint of where they are getting executed.

I also do favor the fact that it's hidden, because after all, the CI is crucial, but it's not a part of the code - it is there to smoke test the code.","14/Feb/17 3:35 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;Well, there is a big conceptual difference between '{{.travisci}}' and '{{automation}}'. While '{{.travisci}}' was designed as just the signalling interface for the Travis system. '{{automation}}' was designed to generalize the interface of build systems, so that a generic, isolating, dependency-resolving build system could be created. It was always a goal to also allow running the build/test process locally. In that sense '{{automation}}' is considered as inseparable from the code as its '{{Makefile}}'.",22/May/17 1:55 AM;557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2;Is this task still relevant? [~accountid:557058:2dee8503-051b-4630-8a75-2c544524dce8],"22/May/17 2:47 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;[~accountid:557058:b793d139-0dcf-495b-990a-682d2ecc03b0] we now support GitHub projects in standard CI and we can also build docker images, so if its still relevant, 
we can help with it, there are already example of how to add new GitHub projects here [1]


[1] http://ovirt-infra-docs.readthedocs.io/en/latest/CI/Github_Integration/index.html","23/Aug/17 2:56 AM;557058:b793d139-0dcf-495b-990a-682d2ecc03b0;This ticket can be closed, as we move to minikube which does not require an image build anymore.",Done
avoid repetition in automation/*packages,OVIRT-1014,24101,New Feature,To Do,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,,,,danken,557058:e3a43fc0-2392-4c23-9d8a-97ac500e22d4,danken,557058:e3a43fc0-2392-4c23-9d8a-97ac500e22d4,10/Jan/17 6:50 AM,24/Jun/18 3:38 AM,18/Feb/21 3:54 AM,,,,mock_runner,STDCI DSL,,,,,0,standard-ci,,,,"Currently we have many automation/*packages* files, mostly repeating each other.

Most of the information there is then repeated in vdsm.spec as well.

It would be nice to have a hierarchical way to define packages. E.g. having most packages in automation/build-artifacts-manual.packages, and adding el7-specific dependencies in avoid repetition in automation/build-artifacts-manual.packages.el7.

It would be even better to have a single palce (yaml file?) to declare each required package and its version, for each platform/architecture. We can then use it to generate the spec file.",,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,0|i006c7:,,,,,,,,,,,,2017-01-10 13:14:39.986,,,"10/Jan/17 7:14 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;This had been asked for before.

If the files are exact replicas  symlinks can be used.
WRT hierarchical files, the problem with that is that then it becomes impossible to make certain packages NOT be installed on certain platforms...

WRT having a structured file , this maybe possible - e.g. to keep the existing files as they are and have a new format specified alongside them. But we need to specify this very carefully, and I'm also weary of having too much logic in the CI infrastructure.

Another backwards-compatible possibility to consider - Add an ""#include"" directive to the packages file.","10/Jan/17 8:09 AM;557058:e3a43fc0-2392-4c23-9d8a-97ac500e22d4;We are using symlinks when possible.


 #include ""./check-patch.packages""

could work for me. But I would like to be able to specify the version of package, in order to be able to generate spec file Requires: and BuildRequires: directives.","10/Jan/17 8:22 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;{quote}
could work for me. But I would like to be able to specify the version of package, in order to be able to generate spec file Requires: and BuildRequires: directives.
{quote}

The thing with this is that the '{{*.packages}}' file need to be translated to a single '{{yum install foo bar baz...}}' line. So there is not much versioning logic I can do. You can use exact versions though.

I suppose we could implement more complex logic, but that will be equivalent to running '{{yum-builddep}' from inside the automation script (Which means, the results will not be cached, and the installation will be done every single time the job runs). 

We might be able to do more complex stuff when we get around to OVIRT-873.","10/Jan/17 8:35 AM;557058:e3a43fc0-2392-4c23-9d8a-97ac500e22d4;the translation of *.pacakges to yum command may include more than `cat`. each line may look like

python-pthreading >= 0.1.3-3","10/Jan/17 8:39 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;{quote}
the translation of *.pacakges to yum command may include more than `cat`. each line may look like

python-pthreading >= 0.1.3-3
{quote}

I don`t think yum supports something like '{{yum install python-pthreading >= 0.1.3-3}}'. So I can't really do anything useful with such a syntax ATM. I could try to just ignore the version specification when setting up mock, but that may lead to unexpected results.","03/Jul/17 9:25 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;[~accountid:557058:e3a43fc0-2392-4c23-9d8a-97ac500e22d4] does this requirement is still needed?  
[~accountid:557058:5fc78873-359e-47c9-aa0b-4845b0da8143] if its still relevant, maybe worth attaching it to the main ticket for V2 std-ci.",03/Jul/17 10:30 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;[~accountid:557058:2dee8503-051b-4630-8a75-2c544524dce8] linking.,03/Jul/17 10:32 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;[~accountid:557058:eb7f406a-2711-4ed8-a22c-d0a71a68ec09] actually it seems I linked to the wrong one. Which ticket are we using to track V2 again?,05/Jul/17 4:10 AM;557058:e3a43fc0-2392-4c23-9d8a-97ac500e22d4;this ticket is still requested.,24/Oct/17 12:59 PM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;Adding OVIRT-1629 as a blocker. The new '{{automation.yaml}}' format will allow using the usual YAML tricks to reduce duplication between package lists.,"03/Jun/18 8:20 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;since \#OVIRT‌-1629 is done, is this ticket still an issue?",03/Jun/18 10:39 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;Yes. Since mock_runner is still using the '{{*.packages}}' files and not the STDCI V2 YAML. We'd need to either so a serious re-factor of '{{mock_runner.sh}}' or write a whole new backend.,,,,,,,To Do
Support oVirt Ansible OST suite in CI,OVIRT-922,22903,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,Fixed,Evgheni Dereveanchin,557058:caa507e4-2696-4f45-8da5-d2585a4bb794,Ondra Machacek,557058:106d0e72-c573-4e10-bb61-eae8f6c34cd7,Ondra Machacek,557058:106d0e72-c573-4e10-bb61-eae8f6c34cd7,08/Dec/16 4:59 AM,25/May/17 6:31 AM,18/Feb/21 3:54 AM,09/Mar/17 6:58 AM,,OVIRT-INFRA-MAR-2017,oVirt CI,,,,,,0,,,,,"I would like to request a jenkins machine for Ansible modules tests.
Those tests needs host with nested virtualization as it will create a few virtual machines for tests.

Actually, what I would need is similar machine which OST are using, but with preinstalled vagrant and ansible.

Then I would need some possibility to run this job from a hook from github, when new commit is pushed.

The tests are described here for an idea:
 https://github.com/machacekondra/ovirt-tests

Would that be possible?",,,,,,,,,,,,,,,,,,,,,,,OVIRT-874,,,{},OVIRT-400,,,,,,,,,,,,,,,,0|i005r3:,,,,,,,,,,,,2016-12-08 11:10:46.603,,,08/Dec/16 4:59 AM;557058:106d0e72-c573-4e10-bb61-eae8f6c34cd7;CC [~accountid:557058:88ea4985-53e7-4296-9fac-9801e90fabf3] [~accountid:557058:0374cc91-14b8-49f0-bbe4-5544eee9908a],"08/Dec/16 5:10 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;We don't maintain 'special' machines or mange them with any CM tools like we did in the past,
instead we use mock to give an isolated environment for any testing you'd like to run and you have full control over what is running there.

You will need to make your project part of the 'standard ci' flow and add automation dir under the root folder. ( see other projects for e.g, like ovirt-engine ).
see [1] for detailed info.

But, as an example, you said you need vagrant and ansible installed, then you'll just need to add them to the .packages file in the automation dir under check-patch or check-merge depends on when you want it tested.

We don't support yet GitHub as a standard CI project, there is another ticket to add support for it ( as part of adding ovirt-web-ui project ), so it might take bit more time.
(for projects in Gerrit is straightforward now)


[1] http://infra-docs.readthedocs.io/en/latest/CI/Build_and_test_standards.html","08/Dec/16 5:17 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;Also, can you rename the repo to something with more context?

ovirt-tests is very generic name ( we have system tests / functional tests/ unit tests ).

If its ansbile, maybe worth calling it ovirt-ansible-tests or something else with ansible )",29/Jan/17 3:49 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;[~accountid:557058:106d0e72-c573-4e10-bb61-eae8f6c34cd7] ping?,"31/Jan/17 1:12 PM;557058:106d0e72-c573-4e10-bb61-eae8f6c34cd7;A bit change. I will be executing the lago suite: https://gerrit.ovirt.org/#/c/70591/
Once it will be ready I will update.","01/Feb/17 5:34 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;I'm not sure what do you mean by trigger Lago suite, we have a very specific way we run today OST suites,
If you are planning to run a specific suite after a specific project, we need to know what you mean and check if it will be supported. 

We don't have similar flows TODAY so we'll need to see what will be the best approach for it and how it fits into the current standard CI design.","01/Feb/17 5:54 AM;557058:106d0e72-c573-4e10-bb61-eae8f6c34cd7;I would need to comunicate also with Ansible community to approve that. But I would like to achieve, that once some patch changes specific files(ovirt) in https://github.com/ansible/ansible I would like to trigger oVirt jenkins which executes OST 'ansible-master-suite'.","14/Feb/17 7:14 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;Won't it make sense to start with moving https://github.com/machacekondra/ovirt-tests under the oVirt organization in GitHub?
If you would want to trigger jobs from GitHub then its mandatory, as we don't support triggering from private repos.

Also, you might want to try out our staging jenkins if you want to try/test it before deploying to production.
[~accountid:557058:caa507e4-2696-4f45-8da5-d2585a4bb794] can help with accessing it.","02/Mar/17 7:15 AM;557058:106d0e72-c573-4e10-bb61-eae8f6c34cd7;Now that the new Ansible suite looks like a working:

 https://gerrit.ovirt.org/#/c/70591/

You said it's not possible to use private repos to invoke the jenkins suite? How does lago do it then? I would like to add some webhook to ansible repo 'github.com/ansible' so when someone change the ovirt modules, we will run our job.
Would that be possible?","02/Mar/17 7:23 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;Lago isn't using standard CI and isn't considered to be an ""oVirt project"". 
Lago has its own release flow and gating flow which works differently, even from other supported GitHub projects like 'ovirt-web-ui'. 
Also, Lago isn't ""private"" repo, its a project and not owned by a personal user. 

And we're not running any OST suites on Lago code, Lago releases a new release to its own repo and we install it with yum using mock runner on the slaves. 
So we're not testing Lago with OST as you want to do with Ansible suite. 

[~accountid:557058:3f771b77-fd23-47bf-882c-827a797526df] is working on adding generic support for web hooks to trigger GitHub projects, but its not ready yet. and once it will be ready we will probably define the hooks
on the oVirt organization with any whitelist needed. 

Also, we don't have enough resources to run the suite on EACH patch yet, so it makes sense to start with nightly run on the suite until we have enough resources and also once we introduce the oVirt Gating.","02/Mar/17 7:26 AM;557058:106d0e72-c573-4e10-bb61-eae8f6c34cd7;> Also, we don't have enough resources to run the suite on EACH patch yet, so it makes sense to start with nightly run on the suite until we have enough resources and also once we introduce the oVirt Gating.

I agree, thanks.",02/Mar/17 7:27 AM;557058:7013bb8c-48b2-4b9b-898e-eccf5fb61fad;We want to run Ansible test suite in OST on each patch changing ovirt modules in Ansible github repo. We are talking about cca max 5 patches per week ...,"02/Mar/17 7:29 AM;557058:106d0e72-c573-4e10-bb61-eae8f6c34cd7;Martin, I think that for now, we can run the job once per week. It would be OK for now.","02/Mar/17 7:32 AM;557058:7013bb8c-48b2-4b9b-898e-eccf5fb61fad;Sure, np. It's important to start to execute that regularly asap, at the moment it's not important if it's per patch or once a week ...",03/Mar/17 9:09 AM;557058:caa507e4-2696-4f45-8da5-d2585a4bb794;[~accountid:557058:2dee8503-051b-4630-8a75-2c544524dce8] [~accountid:557058:3f771b77-fd23-47bf-882c-827a797526df] what can I do from my side to move this forward? Are we blocked on GitHub support for our CI?,"03/Mar/17 9:23 AM;557058:3f771b77-fd23-47bf-882c-827a797526df;[~accountid:557058:caa507e4-2696-4f45-8da5-d2585a4bb794] We're blocked on https://gerrit.ovirt.org/#/c/71461/ (almost done) and OVIRT-1142
 because of jenkins polling limitation. 
It works for ovirt-web-ui now but uses lago-bot credentials for oVirt project which is transparent until jenkins (GH PR builder) tries to put GH comments.","09/Mar/17 6:58 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;We merged the suite and running it nightly for now.
If we'll want to change it to run on a different trigger at some point we'll open a new ticket to track it.",,Done
Add support of secrets and credentials in Standard-CI,OVIRT-894,22506,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,Fixed,Daniel Belenky,557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,01/Dec/16 4:00 AM,01/Nov/17 5:03 AM,18/Feb/21 3:54 AM,08/Oct/17 5:02 AM,,OVIRT-INFRA-OCT-2017,General,,,,,,0,standard-ci,,,,"Some task we'd like to carry out in Standard-CI require credentials. Examples for such tasks include:
# Publishing artifacts to repositories (E.g containers to Dokcerhub, puppet code to Puppetmaster)
# Launching remote processes (Check code with remote services)

While Jenkins supports storing and managing secret data, we did not enable a way to use this capability from Standard-CI so far.",,,,,,,,,,OVIRT-1465,,,,,,,,,,OVIRT-1689,,,Code review,,,{},OVIRT-400,,,,,,,,,,,,,,,,0|i005lp:ri,,,,,,,,,,,,2017-05-03 15:21:20.894,,,"03/May/17 10:21 AM;557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2;[(WIP) patch|https://gerrit.ovirt.org/#/c/76030/4]
* This patch will be split into few patches. Currently, I'm using Gerrit to backup the code.
* The work on the library itself is almost complete. Need to add support for regex comparison in the secretKeyRef provider, and write tests to check edge cases.
* The design of this library makes it simple (later) to make other data available as environmental variables in std ci. [OVIRT-1069|https://ovirt-jira.atlassian.net/browse/OVIRT-1069]",12/Jul/17 4:37 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;[~accountid:557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2] is this really in progress? latest patch is from 9 weeks ago,"12/Jul/17 5:58 AM;557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2;[~accountid:557058:2dee8503-051b-4630-8a75-2c544524dce8] yes, we just have more urgent tasks right now.",13/Jul/17 8:04 AM;557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2;Moving back to To Do and reducing priority as it seems that I don't get to resume the work on this ticket for now.,"08/Oct/17 3:38 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;Please update this ticket to indicate current status, as main patch has been merged.

Added [a patch|https://gerrit.ovirt.org/82601] with an example configuration file.

Error messages in code written for this ticket need to be improved:
* All references to things like 'xdg-home' need to be replaces with specifications of actual paths, as users are not expected to know what XDG is.
* Accurate indication of what is missing from which file and what can be done to fix it need to be given in all error messages.
* When variable/key names are given in error messages, they need to be quoted for clarity.
* Edge cases like for example an existing but empty secrets file and a missing 'secrets_data' key need to be handled better, with clear error messages.",08/Oct/17 4:25 AM;557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2;I'll close this ticket as the core feature is working. I'll open a new ticket to track your comments here,,,,,,,,,,,,,Done
Add support to publish containers in standard CI,OVIRT-890,22502,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,High,Fixed,Daniel Belenky,557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2,Eyal Edri,557058:2dee8503-051b-4630-8a75-2c544524dce8,Eyal Edri,557058:2dee8503-051b-4630-8a75-2c544524dce8,01/Dec/16 2:54 AM,29/Aug/19 9:43 AM,18/Feb/21 3:54 AM,29/Aug/19 9:43 AM,,,Change Queue,Standard CI (Pipelines),,,,,0,containers,docker,standard-ci,,"As an oVirt developers I want to be able to release certain oVirt components as containers.

h3. Acceptance Criteria
# It is possible to have containers ""released"" by the CI system just like packages can be ""released"". This includes:
## Having a way to know which container images are ""tested"".
## Having a way to know which container images are in a nightly snapshot
## Having a way to know which container images are included in a certain oVirt release.",,,,,,,,,,OVIRT-848,,,,,,,,,,OVIRT-894,,,pending decision on the formal process,,,{},,,,,,,,,,,,,,,,,0|i005kv:,,,,,,,,,,,,2016-12-01 10:00:40.942,,,"01/Dec/16 4:00 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;It shouldn't really matter _where_ we publish.

As I see it there are two main option to publish _anything_ from standard CI:
# Have build_artifacts.sh put it in ""exported_artifacts"" and then have ""the system"" publish it to where it needs to go - this is what the experimental flow is doing for example for RPMs.
# Publish directly from build_artifacts.sh

It should be obvious that solution #2 is more flexible and will require less maintenance from us in the long run, but it has a couple of issues:
# For publishing typically some credentials are needed
# The decision where to publish ends up being made at the discretion of the developer, as opposed to on an environment level.

I don't think #2 is really an issue. WRT #1, this is something we've encountered before, and perhaps we should solve it by adding support for credentials and secrets in Standard CI (OVIRT-894).",13/Mar/17 7:48 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;We need to decide where we publish the images and how will other jobs like OST will consume it.,"14/Mar/17 8:14 AM;557058:af85350f-5bf7-4bf4-bcbc-d780e4ad31d5;Another option is to configure docker hub for automatic rebuilding from our github mirror on every merge.
https://docs.docker.com/docker-hub/github/

In this way we avoid pushing a lot of gigabytes to github but maybe we can loose a bit of control over the tagging process.","14/Mar/17 8:22 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;[~accountid:557058:af85350f-5bf7-4bf4-bcbc-d780e4ad31d5] That will limit us to post-merge builds only. I'd rather be able to publish pre-merge builds as well.

I think it also limits our choice of of container build tooling. (Only docker and Dockerfiles. But s2i and Ansible container are interesting no?)

","14/Mar/17 9:18 AM;557058:af85350f-5bf7-4bf4-bcbc-d780e4ad31d5;Publishing to public docker registry requires authentication and authorization so, if we don't want to store our organization password for docker hub in a plain text file in the automation folder, we need to handle the OAuth2 token for it.
Probably it would be better to use a ready to use plugin for that such as https://github.com/jenkinsci/docker-build-publish-plugin","14/Mar/17 10:36 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;We can have Jenkins handle the credentials, then we need to decide if either:
# We come up with a way for ""{{build-artifacts.sh}}"" to ask Jenkins to publish the containers on its behalf (Probably either by tagging them in a certain way, or leaving some files in exported-artifacts). This is aligned with the way that Jenkins also publishes RPMs to resources.ovirt.org on the project`s behalf.
# We make the credentials accessible to ""{{build-artifacts.sh}}"" somehow to let it publish on its own.

I also described this in my 1st comment above.","20/Mar/17 9:07 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;[~accountid:557058:b793d139-0dcf-495b-990a-682d2ecc03b0] as we discussed on last meeting, we can't continue with supporting publishing containers in standard CI.

We are waiting for feedback from the developers on how/when we can proceed with the design.",18/Apr/17 8:58 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;cc [~accountid:557058:9f5d6263-ed18-4d4b-841c-7ba5738f1775] ,"04/May/17 3:25 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;Ticket still blocked on developer request/decision.

MTG on Tue, May 9th, 2017","14/May/17 2:49 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;We considering the process for publishing containers, especially official ones, we also need to consider how to provide meta data like version information and usage instructions. [Here is a standard for this|https://github.com/projectatomic/ContainerApplicationGenericLabels] that originates from the Atomic project.","24/Jul/17 2:17 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;[~accountid:557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2]  what else is blocking this ticket currently? what is the next step required for supporting containers publishing that wasn't implemented in 
https://ovirt-jira.atlassian.net/browse/OVIRT-1390? ","24/Jul/17 2:33 AM;557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2;[~accountid:557058:2dee8503-051b-4630-8a75-2c544524dce8] There is one change that should be made to the patch: It should generate HTML output during the export process instead of parsing the containers details via Groovy.
I'll work on it today and hopefully, I'll be able to finish it today as well (it's not a big change)",10/Jun/18 10:46 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;[~accountid:557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2] solved? ,"10/Jun/18 11:52 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;[~accountid:557058:2dee8503-051b-4630-8a75-2c544524dce8] not solved. We do not have support for official ""releasing"" of containers, only for uploading intermediate builds.

I will update the user story to make things clearer.",15/Dec/18 8:57 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;close? all issues attached are solved.,"15/Dec/18 11:08 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;We don't have container publishing yet. And we may actually need that soon

בתאריך שבת, 15 בדצמ׳ 2018, 16:57, מאת Eyal Edri (oVirt JIRA) <

",29/Aug/19 9:43 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;According to [~accountid:557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2] this is already supported.,,Done
prepare for bugizlla 5 upgrade - api changes,OVIRT-881,22303,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,High,Fixed,Shlomo Ben David,557058:73255e4a-293f-4236-adb2-ffd031901067,Eyal Edri,557058:2dee8503-051b-4630-8a75-2c544524dce8,Eyal Edri,557058:2dee8503-051b-4630-8a75-2c544524dce8,29/Nov/16 8:22 AM,02/Apr/17 7:51 AM,18/Feb/21 3:54 AM,05/Mar/17 8:10 AM,,OVIRT-INFRA-MAR-2017,,,,,,,0,,,,,"oVirt Bugzilla will be upgraded to Bugzilla 5.0 in the following months,
We should make sure all our automation still works with the new API and verify mostly Gerrit Hooks still works.

Also, the new version will include RESTAPI as oppose to XMLRPC which was used until now.
Worth looking for existing tools / SDKs which exists that we might be able to use.

cc [~accountid:557058:5ca52a09-2675-4285-a044-12ad20f6166a] [~accountid:557058:73255e4a-293f-4236-adb2-ffd031901067] [~accountid:557058:caa507e4-2696-4f45-8da5-d2585a4bb794] ",,,,,,,,,,,,,,,,,,,,,,,,,,{},OVIRT-411,,,,,,,,,,,,,,,,0|i005iv:,,,,,,,,,,,,2017-03-05 14:09:56.176,,,05/Mar/17 6:48 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;[~accountid:557058:73255e4a-293f-4236-adb2-ffd031901067] please update and close if no action is needed.,"05/Mar/17 8:09 AM;557058:73255e4a-293f-4236-adb2-ffd031901067;Hi,

Currently, there are no changes that reflect on our tools.

BR,
Shlomi Ben-David ",,,,,,,,,,,,,,,,,Done
check if we can analayze oVirt RPM with whitesource,OVIRT-879,22301,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,Done,infra,557058:11f1b41b-2c35-4fdf-b282-1510ce705d4d,Eyal Edri,557058:2dee8503-051b-4630-8a75-2c544524dce8,Eyal Edri,557058:2dee8503-051b-4630-8a75-2c544524dce8,29/Nov/16 7:57 AM,30/Jan/17 3:25 AM,18/Feb/21 3:54 AM,19/Jan/17 6:51 AM,,OVIRT-INFRA-JAN-2017,,,,,,,0,,,,,"following ticket: https://whitesource.freshdesk.com/support/tickets/12091#

It might be possible to analyze licenses via the File system Agent:

Example:

We can support this use case by using the File System Agent (FSA) to unarchive all of the RPM files and then importing all specified file extensions (e.g. *.js, *.py, *.tgz, etc) that are contained within each RPM.  These settings are specified in the configuration file for the File System Agent.  It will probably be easier to explain if we schedule a call by phone, but here is an example of the FSA config file with archive extraction:

#############################################################################################
# Includes/Excludes Glob patterns - PLEASE USE ONLY ONE EXCLUDE LINE AND ONE INCLUDE LINE
#############################################################################################
includes=**/*.c **/*.cc **/*.cp**/*.cpp **/*.tgz **/*.c++ **/*.h **/*.py **/*.js
excludes=**/*sources.jar **/*javadoc.jar
case.sensitive.glob=false
followSymbolicLink=true
 
#################
# Archive Properties
#################
archiveExtractionDepth=5
archiveIncludes=**/*.rpm **/*.zip

#############################################################################################
",,,,,,,,,,,,,,,,,,,,,,,,,,{},OVIRT-400,,,,,,,,,,,,,,,,0|i005if:,,,,,,,,,,,,,,,"19/Jan/17 6:51 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;It can't unfortunately, we'll keep is for tracking vulnerabilities or outdated JARs for now.",,,,,,,,,,,,,,,,,,Done
Modify check_merged jobs to run as merge gates instead of post merge,OVIRT-841,21516,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,Won't Fix,,,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,14/Nov/16 9:39 AM,29/Aug/19 9:12 AM,18/Feb/21 3:54 AM,15/Dec/18 8:56 AM,,ovirt-infra-aug-2019,Change Queue,Standard CI (Pipelines),,,,,0,,,,,"This can be done with Zuul - as tracked by OVIRT-734, but can also be done with just Jenkins in the short term.

This ticket is to track short-term gate implementation without Zuul, it is separate from the Zuul ticket, because if we do end up deploying Zuul, we will probably have to let it do this too.

We need to also communicate with the developers to ask what will the prefer as the way to signal Jenkins to run the gate, there are two options we can consider:
# Use code-review+2
# Use some new ""approve"" flag (Like OpenStack)
",,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,0|i004zv:,,,,,,,,,,,,2018-12-15 14:56:50.656,,,"20/Nov/16 3:12 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;Re thinking this ticket - the main issue here is what happens we multiple dependent patches are pushed to Gerrit for example:

master <- P1 <- P2 <- P3

Were '<-' indicates dependency.

The question is what happens when a developer sets the flag to merge on P2 (Without setting in on P1 first).
This raises a few issues:
# Will Gerrit let you hit 'sumbit' on something like P2? (We need to check). If not, when by moving to use a flag instead of the ""submit"" button we lose some of Gerrit`s functionality.
# Whet do we need to do to the code  we need to test before merge? Do we checkout P2 or try to cherry-pick it? The process to do this might end up being complex.
# If Gerrit will  not let you merge P2, you might end up with bad UX where the user sets the merge flag, the job runs, succeeds and them the code is not merged.

Zuul might solve some of these issues with its smart patch queueing and its [merger service|http://docs.openstack.org/infra/zuul/merger.html].

*Bottom line - we need to decide if to continue with this ticket or ""go back to the drawing board"" and try out Zuul.*","20/Nov/16 3:59 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;Ok after checking this a little:

When you have a change of changes like this:
master <- P1 <- P2 <- P3

If your project is configured to ""_Fast Forwared Only_"" or ""_Rebase If Necessary_"" and you try to submit P2, Gerrit will not submit it. Instead it will put it in ""_Submitted, Merge Pending_"" state.

If P1 will be submitted then both will get merged - This means that the job checking P2 will just need to check it out, because it will never get cherry-picked on merge.

Need to check what happens then if a new patch set is pushed to P1 (Already tried to check, but was using ""git-review"" which also submitted a new patch set for P2 - This caused it to go back to being reviewed and zeroed the flags).","20/Nov/16 4:15 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;Ok after checking some more - if P2 is submitted and them a new patch-set is pushed to P1 and submitted to be merged, P2 will not be merged, instead Gerrit will show a message like this:

{quote}
Change cannot be merged due to unsatisfiable dependencies.

The following dependency errors were found:

    Depends on patch set 2 of Ifebfb074, however the current patch set is 3.

Please rebase the change and upload a replacement commit.
{quote}

When the user rebases P2 (either manually  or with Gerrit's ""rebase"" button) then it will go back to being reviewed and the flags will be zeroed.

*Bottom line - As long as projects are configure to use ""_Fast Forwared Only_"" or ""_Rebase If Necessary_"", Gerrit makes handling sets of patches very safe (Nothing is ever cherry-picked) so its safe to gate using only Jenkins and let the jobs checkout the patches.*","20/Nov/16 6:27 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;One issue that [~accountid:557058:7a63d510-79fe-46b1-abcf-f80963d52223] brought to my attention - What happens when patches are created in parallel by multiple programmers.

Suppose the following scenario:
master <- PP1
master <- PP2

Lets assume PP1 gets sent to the gate job and gets merged.

If PP2 not gets sent to the gate job it may succeed and try to merge it. If the repo is configured to ""_Rebase If Necessary_"" Gerrit will automatically try to rebase PP2 on top of PP1 and merge it if that succeeds.
The code we will end up with is this:

master <- PP1 <- PP2

But this is different then what the gate job tested which was:

master <- PP2

The way to solve this is to configure the repos to ""_Fast Forwared Only_"". In that case merging PP2 will fail and Gerrit will force the devs to rebase PP2 and re-send it to the gate.

*But please note - changing the repos to be ""_Fast Forwared Only_"" would probably also fix all cases where check_patch did not run on the right code. This may reduce the motivation for gate jobs.*","23/Nov/16 3:27 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;This issue had been raised for discussion in the oVirt devel ML:

[Merge gating in Gerrit|http://lists.ovirt.org/pipermail/devel/2016-November/014192.html]
[Gerrit parallel patch handling and CI (Or, why did my code fail post-merge)|http://lists.ovirt.org/pipermail/devel/2016-November/014206.html]

So far the responses seem to indicate that automated rebasing is important (And developers are not keen on doing it themselves). So we probably have to use Zuul (Re focus on OVIRT-734).","23/Nov/16 3:53 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;Some developer interest in gating:

[Project ovirt-engine-api-model_4.0_build-artifacts-fc24-x86_64 is failing|http://lists.ovirt.org/pipermail/devel/2016-November/014267.html]","15/Dec/18 8:56 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;Most likely isn't needed since we moved to V2, people can use check-patch if they want merge gating.",,,,,,,,,,,,Done
Install a Zuul server and integrate with oVirt infra,OVIRT-835,21510,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Highest,Won't Fix,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,13/Nov/16 9:26 AM,25/May/17 6:30 AM,18/Feb/21 3:54 AM,19/Jan/17 1:20 AM,,OVIRT-INFRA-JAN-2017,oVirt CI,,,,,,0,,,,,"Setup zool.phx.ovirt.org
Install Zool and all zervices needed to run it
Integrate Zool with oVirt Gerrit and Jenkins",,,,,,,,,,OVIRT-734,,,,,,,,,,,,,,,,{},OVIRT-400,,,,,,,,,,,,,,,,0|i00044:,,,,,,,,,,,,,,,"05/Dec/16 5:59 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;After successfully setting up a Zuul lab (OVIRT-882), now its time to start preparing it for production use.

Seeting up a production OpenShift instance is a dependency of this: OVIRT-887

CentOS project keeps a collection of Docker images that might be more suitable as base images from what I've used so far:
https://github.com/CentOS/CentOS-Dockerfiles

","08/Dec/16 4:08 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;Among other things we need to handle here:
* Make container configuration come from parameters instead of manually written configuration files
* Handle secrets in a proper way
* Find a way to package the whole application as a single unit to run on OpenShift. One option for that: [docker-compose|https://docs.docker.com/compose/overview/] + [kompose|https://github.com/kubernetes-incubator/kompose]
","11/Jan/17 10:02 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;I'm working on preparing the Zuul containers for production and I just noticed a very important fact - Gearman and Zuul do not support Jenkins Pipeline jobs!

We have several options here:
# Wait for next version of Zuul or the Gearman plugin and hope it supports pipeline
# Replace all Pipeline jobs with non-pipeline jobs and let Zuul manage the pipe-lining. It not certain that Zuul is flexible enough to do everything we need. And it would also mean we can't use newer Jenkins stuff like Blue Ocean. 
# Make non-Pipeline jobs that will invoke the Pipeline jobs. This would be cumbersome, and probably will not work well, because Zuul will not have the right picture of resources in Jenkins.
# Try to improve the Gearman plugin ourselves, or write out own executor plugin for Zuul.",19/Jan/17 1:20 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;We've decided Zuul does not fit out purpose.,,,,,,,,,,,,,,,Done
checkout keen dashboard for oVirt services,OVIRT-834,21509,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,Won't Fix,Evgheni Dereveanchin,557058:caa507e4-2696-4f45-8da5-d2585a4bb794,Eyal Edri,557058:2dee8503-051b-4630-8a75-2c544524dce8,Eyal Edri,557058:2dee8503-051b-4630-8a75-2c544524dce8,13/Nov/16 7:29 AM,29/Aug/19 9:12 AM,18/Feb/21 3:54 AM,15/Feb/19 8:14 AM,,ovirt-infra-aug-2019,,,,,,,0,,,,,https://github.com/keen/dashboards,,,,,,,,,,,,,,,,,,,,,,,,,,{},OVIRT-403,,,,,,,,,,,,,,,,0|i004lj:,,,,,,,,,,,,2019-02-15 14:14:37.502,,,"28/Dec/16 9:46 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;A suggestion raised to add one useful dashboard view is on uptime on oVirt version stability taken from the OST experimental job,
So the dashboard will contain block per version with the following info:

 oVirt master is stable for [ X hours+min ] ( link to last successful job + name of authors from commits who triggered the job ]

if not stable:

 oVirt master is broken for [ X hours+min ] ( link to job with the failure, link to patch(es) suspected of failure, list of authors of patches )

One option is to use [1], but its not an official dashboard, so we might want to wait for Jenkins 2.0 upgrade or Blue Ocean\

[1] https://jenkins.io/blog/2016/01/10/beautiful-jenkins-dashboard/
 ",15/Feb/19 8:14 AM;557058:5ca52a09-2675-4285-a044-12ad20f6166a;We are using blueocean already,,,,,,,,,,,,,,,,,Done
consistent failure in check-merged or build artifactrs should be mailed to vdsm-*-maintainers ,OVIRT-833,21508,New Feature,To Do,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,,,,danken,557058:e3a43fc0-2392-4c23-9d8a-97ac500e22d4,danken,557058:e3a43fc0-2392-4c23-9d8a-97ac500e22d4,13/Nov/16 7:20 AM,24/Jun/18 3:53 AM,18/Feb/21 3:54 AM,,,,CI client projects,,,,,,0,standard-ci,vdsm,,,"On top of patch senders, maintainers should be emailed if a job such as

http://jenkins.ovirt.org/job/vdsm_master_build-artifacts-fc24-x86_64/

fails 5 straight times.",,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,0|i0059b:,,,,,,,,,,,,2016-11-13 13:35:16.654,,,"13/Nov/16 7:35 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;[~accountid:557058:5fc78873-359e-47c9-aa0b-4845b0da8143][~accountid:557058:7a63d510-79fe-46b1-abcf-f80963d52223] do we have support to emailing to list of recipients on check-merged.sh scripts?
Can we add it per job on the yaml file?

Worth considering adding .emails or .alerts to std ci so project owners can subscribe to emails alerts from CI on failures.","13/Nov/16 8:38 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;I don't think this kind of thing should be specified in the repo itself - because std-ci is supposed to be portable and agnostic to the environment it runs in.

Instead, we might consider setting up such a notification across the board to project maintainers.",13/Nov/16 8:38 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;And we need to be able to figure out the maintainers automatically from Gerrit,"13/Nov/16 8:44 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;How will we do that? doesn't it mean it needs a dynamic configuration to update the job configuration? 
It will need to find the maintainers on each job run, it will add significant load issues to Gerrit just to get a static info. ","13/Nov/16 9:08 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;It can be done with some API calls to check who is in which group.
I don`t think it will load Gerrit that much - every job run already does a git clone - and it a much heavier operation then a simple API call.",03/Jul/17 8:36 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;[~accountid:557058:c4a3432b-f1c1-4620-b53b-c398d6d3a5c2] you recently enabled email plugin to other jobs no? let's drop the idea of getting the list of maintainers from Gerrit for now cause it seems to be more complex and probably overkill. can you help with sending a patch to specific people? ( we can fetch the list of maintainers from the Gerrit for starts ),"03/Jul/17 9:50 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;[~accountid:557058:2dee8503-051b-4630-8a75-2c544524dce8] these are std-ci jobs, I'd rather not go down the path of making this configurable from YAML.","03/Jul/17 9:52 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;I don't see a reason why not, if its in the project file ( or in the automation/*.emails after we get rid of the yaml files ).","03/Jul/17 10:12 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;[~accountid:557058:2dee8503-051b-4630-8a75-2c544524dce8] because long-term we want to get rid of the project files, so I'd rather not add features to them.","03/Jul/17 10:14 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;[~accountid:557058:2dee8503-051b-4630-8a75-2c544524dce8] and if we're gonna add the scripting needed to read this from the 'automation' dir, then might as well read from Gerrit. it is not considerably harder.

[~accountid:557058:2dee8503-051b-4630-8a75-2c544524dce8] another alternative - automatically add maintainers as reviewers on merge. This will make them get all messages added after merge.",,,,,,,,,To Do
Upload ManageIQ appliance image to oVirt Glance,OVIRT-821,21400,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,Fixed,Evgheni Dereveanchin,557058:caa507e4-2696-4f45-8da5-d2585a4bb794,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,10/Nov/16 2:48 AM,04/Jun/18 1:29 AM,18/Feb/21 3:54 AM,03/Jun/18 8:08 AM,,OVIRT-INFRA-MAY-2018,Repositories Mgmt,,,,,,0,,,,,Make ManageIQ appliance easily installable on oVirt my making it available via oVirt Glance.,,,,,,,,,,,,,,,,,,,,OVIRT-1803,,,,,,{},OVIRT-403,,,,,,,,,,,,,,,,0|i002ff:,,,,,,,,,,,,2017-10-24 07:19:22.758,,,"24/Oct/17 2:19 AM;557058:caa507e4-2696-4f45-8da5-d2585a4bb794;The qcow image is available for download here:
http://manageiq.org/download/",14/Dec/17 3:18 AM;557058:3a069952-633d-482c-90ab-2451cac6751a;Any chance this can be done with oVirt 4.2 GA?,"14/Dec/17 4:57 AM;557058:caa507e4-2696-4f45-8da5-d2585a4bb794;I can definitely import the latest release Fine-4 to Glance manually as automation code is yet to be created.

There's two types of qcow images on the download site:
|OpenStack|manageiq-openstack-fine-4.qc2|
|Red Hat Virtualization (4.0 and newer)|manageiq-ovirt-fine-4.qc2|

I know for sure that the openstack flavour uses cloud-init to define credentials and assume oVirt to do the same but will test before we can inform users about this image is available on oVirt glance. If it doesn't work with cloud-init we should use the openstack qcow instead and log a bug with ManageIQ to sort this out or provide more docs.","14/Dec/17 6:44 AM;557058:caa507e4-2696-4f45-8da5-d2585a4bb794;Checked the ovirt image and it works fine - it uses a pre-set root password to perform initial configuration:
http://manageiq.org/docs/reference/latest/doc-Installing_on_Red_Hat_Virtualization/miq/#accessing-appliance-console

The image is available on Glance, keeping the ticket open to properly automate image updating.","06/Feb/18 6:41 AM;557058:caa507e4-2696-4f45-8da5-d2585a4bb794;Gaprindashvili-1 is out, added it to glance to proceed with OVIRT-1803",,,,,,,,,,,,,,Done
User friendly front-end for glance.ovirt.org,OVIRT-819,21305,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Lowest,Won't Do,,,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,09/Nov/16 3:53 AM,29/Aug/19 9:12 AM,18/Feb/21 3:54 AM,15/Dec/18 10:17 AM,,ovirt-infra-aug-2019,oVirt image repository (Glance),,,,,,0,gla,,,,"glance.ovirt.org is currently only visible from an installed oVirt instance.

It is desirable to have a web frond-end for it so users can:
# Check which images are available without installing oVirt
# Check when an image was uploaded
# Download images manually for use with other tools (libvirt, Lago, Vagrant)
# Read more information about the image and where it came from

A web front end could also make the images accessible for tools that do not speak the Glance protocol such as Lago and virt-builder. ",,,,,,,,,,,,,,,,,,,,,,,,,,{},OVIRT-403,,,,,,,,,,,,,,,,0|i00567:,,,,,,,,,,,,2018-12-15 16:17:44.908,,,"09/Nov/16 4:03 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;Front-end could be written using Flask:
http://flask.pocoo.org/docs/0.11/

UI (if needed) could be done with Toga (saw some talk about it also supporting web and not just mobile/desktop)
https://toga.readthedocs.io/en/latest/philosophy.html","15/Dec/18 10:17 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;Doesn't seem like something asked by community or has a real need.
We don't have capasity to implement 'nice to have' features at this point, so closing and will revisit if a future need will arise.",,,,,,,,,,,,,,,,,Done
Install notification plugin for jenkins.ovirt.org,OVIRT-817,21303,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,Fixed,Evgheni Dereveanchin,557058:caa507e4-2696-4f45-8da5-d2585a4bb794,Eyal Edri,557058:2dee8503-051b-4630-8a75-2c544524dce8,Eyal Edri,557058:2dee8503-051b-4630-8a75-2c544524dce8,08/Nov/16 7:23 AM,03/Jan/17 1:33 AM,18/Feb/21 3:54 AM,21/Dec/16 6:14 AM,,OVIRT-INFRA-DEC-2016,,,,,,,0,,,,,please follow https://ovirt-jenkins.getbadges.io/manager/project/2924/app/5820/show ,,,,,,,,,,,,,,,,,,,,,,,,,,{},OVIRT-400,,,,,,,,,,,,,,,,0|i0055r:,,,,,,,,,,,,2016-12-20 09:32:41.116,,,20/Dec/16 3:32 AM;557058:caa507e4-2696-4f45-8da5-d2585a4bb794;Module installed on jenkins-staging and works as expected. Will prepare a patch and install on Prod in the evening.,20/Dec/16 2:11 PM;557058:caa507e4-2696-4f45-8da5-d2585a4bb794;Notifications plugin installed. [~accountid:557058:2dee8503-051b-4630-8a75-2c544524dce8] could you please confirm if it works so that we can close this?,"21/Dec/16 5:58 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;testing it on the jenkins project check-patch job.


",21/Dec/16 6:14 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;verified it works,,,,,,,,,,,,,,,Done
Automate updateing of ovirt glance,OVIRT-795,21003,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,Fixed,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,30/Oct/16 9:43 AM,30/Jan/17 3:25 AM,18/Feb/21 3:54 AM,12/Jan/17 5:57 AM,,OVIRT-INFRA-JAN-2017,Repositories Mgmt,,,,,,0,,,,,"The ovirt Glance repo is only being update manually at this time.
This causes it to quickly go out of data and look unmaintained.
The image updating process should be automated",,,,,,,,,,,,,,,,,,,,,,,,,,{},OVIRT-403,,,,,,,,,,,,,,,,0|i004zr:,,,,,,,,,,,,2016-11-29 11:56:14.997,,,"30/Oct/16 9:48 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;Working on this, code is written as fabric tasks, patches can be seen here:
https://gerrit.ovirt.org/#/q/status:open+project:fabric-ovirt+branch:master+topic:glance-tasks","09/Nov/16 4:05 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;Images are currently only half-verified - Image checksums are checked but checksum file signatures are not verified.

This could be used to verify file signatures:
https://pythonhosted.org/python-gnupg/
","29/Nov/16 5:56 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;do you want to continue tracking the verification process in this ticket or close this one since the automated process is working?

btw, where is the flow running now ? ","30/Nov/16 1:30 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;{quote}
do you want to continue tracking the verification process in this ticket or close this one since the automated process is working?
{quote}
Patches are not merged yet, so no point in closing.
{quote}
btw, where is the flow running now ? 
{quote}
Its not running automatically yet, I'm just running it manually from my laptop. I still need to write some YAML to run this from Jenkins.",09/Jan/17 3:50 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;Blocking on code review,12/Jan/17 5:57 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;patches merged.,,,,,,,,,,,,,Done
[OST][rfe] Ability to run subset of tests,OVIRT-2101,20512,New Feature,To Do,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,,Gal Ben Haim,557058:f57f4f3d-a7d2-40b5-8ef1-94b6bbbf8dc7,Piotr Kliczewski,557058:200ed3d7-7a49-4dd4-b3f4-7359590e646f,Piotr Kliczewski,557058:200ed3d7-7a49-4dd4-b3f4-7359590e646f,10/Oct/16 5:46 AM,24/Jun/18 12:31 PM,18/Feb/21 3:54 AM,,,,OST,,,,,,0,,,,,"I would like to request a feature in lago. I am missing ability to limit
number of tests being run. At the moment there is no way to define which
test should be run. It takes too long to run all of them and it would be
great to shorten the cycle.

CI should be responsible to run all the tests.

Thanks,
Piotr",,,,,,,,,,,,,,,,,,,,,,,,,,{},OVIRT-2238,,,,,,,,,,,,,,,,0|i004s7:,,,,,,,,,,,,2016-10-10 11:05:04.765,,,"10/Oct/16 6:05 AM;557058:f5d44d82-cbdb-48a7-b10e-df32e73f5981;lago-ovirt has 'lago ovirt runtest' which runs a specific test file. However, the 'run_suite.sh' in OST assumes all tests are available in ../test-sceneraios/*.py. So what can be done is to add another parameter to 'run_suite.sh' which will allow passing a specific list of tests.


",20/Jun/17 2:43 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;Would be possible once we move to PyTest,"24/Jun/18 12:25 PM;557058:f57f4f3d-a7d2-40b5-8ef1-94b6bbbf8dc7;I suggest adding a new flag to {{run_suite.sh}} that will wrap {{lago ovirt runtest}}. It's needed because we assume the following:

# $SUITE contains the name of the suite that we want to run.
# $PYTHONPATH contains the path to the suite's {{test_utils}}.
# oVirt SDK V4 is installed.

For the UI tests, docker is running.  

The new flag will look like:

{{run_suite.sh \-\-run-test PATH_TO_TEST}}



I won't provide the functionality to run a single test from a module, but it's a good start.",,,,,,,,,,,,,,,,To Do
Clean reposync directory after n times of sync failure,OVIRT-713,19004,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,Cannot Reproduce,infra,557058:11f1b41b-2c35-4fdf-b282-1510ce705d4d,Gal Ben Haim,557058:f57f4f3d-a7d2-40b5-8ef1-94b6bbbf8dc7,Gal Ben Haim,557058:f57f4f3d-a7d2-40b5-8ef1-94b6bbbf8dc7,29/Aug/16 7:25 AM,03/Aug/17 10:02 AM,18/Feb/21 3:54 AM,04/Jul/17 2:04 AM,,OVIRT-INFRA-JUL-2017,,,,,,,0,,,,,"Sometimes reposync fail to sync rpms that already been synced. 
To resolve this issue, lago removes those rpms, and runs reposync again.
This resolution doesn't always work, and then we need to clean all the rpms that were synced.

We want lago to clear the cached rpms after n times of sync failure, and then try to sync again.",,,,,,,,,,,,,,,,,,,,,,,,,,{},OVIRT-400,,,,,,,,,,,,,,,,0|i004fr:,,,,,,,,,,,,2016-12-08 15:05:20.028,,,08/Dec/16 9:05 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;[~accountid:557058:f5d44d82-cbdb-48a7-b10e-df32e73f5981] anything you're doing now on reposync will solve this?,"08/Dec/16 10:44 AM;557058:f5d44d82-cbdb-48a7-b10e-df32e73f5981;{quote} To resolve this issue, lago removes those rpms, and runs reposync again.{quote}
The 'lago remove those rpms' part, didn't usually happen. Hopefully now on 'master' branch it should, so we'll have to wait and see if it resolves the issues, or we need to be more aggressive as [~accountid:557058:f57f4f3d-a7d2-40b5-8ef1-94b6bbbf8dc7] suggested and wipe out the entire cache.","03/Jul/17 8:58 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;[~accountid:557058:f57f4f3d-a7d2-40b5-8ef1-94b6bbbf8dc7][~accountid:557058:f5d44d82-cbdb-48a7-b10e-df32e73f5981] was there any progress on this? if we still suffer from reposync errors, might worth prioritizing.","03/Jul/17 4:52 PM;557058:f5d44d82-cbdb-48a7-b10e-df32e73f5981;I didn't see any failures with this at least in the past 2 months. We added some fixes to reposync flow, but that was a while ago.
",,,,,,,,,,,,,,,Done
Use repoman extra sources feature in VDSM check merge ,OVIRT-712,19003,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,Fixed,Nadav Goldin,557058:f5d44d82-cbdb-48a7-b10e-df32e73f5981,Gal Ben Haim,557058:f57f4f3d-a7d2-40b5-8ef1-94b6bbbf8dc7,Gal Ben Haim,557058:f57f4f3d-a7d2-40b5-8ef1-94b6bbbf8dc7,29/Aug/16 7:21 AM,01/Oct/17 5:57 AM,18/Feb/21 3:54 AM,31/Aug/17 9:39 AM,,OVIRT-INFRA-SEP-2017,,,,,,,0,,,,,"When running check merge, new rpms with the latest patch are being generated.
currently those repos are being copied by reposync to /var/lib/lago/reposync.

Those rpms shouldn't be saved to the cache, thus we need to use repoman to include those rpms in the internal repo. ",,,,,,,,,,,,,,,,,,,,,,,,,,{},OVIRT-400,,,,,,,,,,,,,,,,0|i004fj:,,,,,,,,,,,,2016-09-04 07:04:06.439,,,"04/Sep/16 2:04 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;[~accountid:557058:f57f4f3d-a7d2-40b5-8ef1-94b6bbbf8dc7] I'm not sure I fully understand the need here, can you give example of the job that uses it? is it vdsm check-merged job? sounds like a configuration issue.

[~accountid:557058:5ca52a09-2675-4285-a044-12ad20f6166a]","28/Nov/16 3:20 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;Nadav, I think this is what you're doing now on the check-merged job right?","28/Nov/16 3:31 AM;557058:f5d44d82-cbdb-48a7-b10e-df32e73f5981;Yep in progress.. (with some other issues)
",22/Aug/17 3:38 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;[~accountid:557058:f5d44d82-cbdb-48a7-b10e-df32e73f5981] can you update status?,"31/Aug/17 9:38 AM;557058:f5d44d82-cbdb-48a7-b10e-df32e73f5981;Was fixed a while ago, not sure if there was a ticket on that(we're talking about the functional tests).

https://github.com/oVirt/vdsm/blob/master/automation/check-merged.sh#L42
",,,,,,,,,,,,,,Done
create an 'infra-ansible' repo,OVIRT-696,18604,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,Fixed,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,17/Aug/16 6:58 AM,04/Sep/16 2:09 AM,18/Feb/21 3:54 AM,28/Aug/16 3:15 AM,,OVIRT-INFRA-AUG-2016,,,,,,,0,,,,,"Sine we are already using Ansible for some infra tasks, its a good idea to collect what we have in some shared repo.
",,,,,,,,,,,,,,,,,,,,,,,,,,{},OVIRT-403,,,,,,,,,,,,,,,,0|i0047j:,,,,,,,,,,,,,,,"28/Aug/16 3:15 AM;557058:5fc78873-359e-47c9-aa0b-4845b0da8143;Repo created.

Repo Gerrrit page:
https://gerrit.ovirt.org/#/admin/projects/infra-ansible

Repo gitweb:
https://gerrit.ovirt.org/gitweb?p=infra-ansible.git;a=summary

Repo GitHub mirror:
https://github.com/oVirt/infra-ansible

A few preliminary patches have also been submitted for review already",,,,,,,,,,,,,,,,,,Done
sort out jobs which didn't move to std ci,OVIRT-607,16602,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Medium,Fixed,snaftaly,557058:ceab59e1-1267-4955-98e4-53bc07183d84,Eyal Edri,557058:2dee8503-051b-4630-8a75-2c544524dce8,Eyal Edri,557058:2dee8503-051b-4630-8a75-2c544524dce8,23/Jun/16 3:09 AM,29/Sep/16 3:48 AM,18/Feb/21 3:54 AM,18/Sep/16 9:07 AM,,OVIRT-INFRA-SEP-2016,,,,,,,0,,,,,"http://pastebin.test.redhat.com/386625

The filtered list which doesn't include projects who doesn't need to move, which are using a 'rel-eng' kind of building..

http://pastebin.test.redhat.com/386628",,,,,,,,,,,,,,,,,,,,,,,,,,{},OVIRT-400,,,,,,,,,,,,,,,,0|i003nb:,,,,,,,,,,,,2016-08-24 10:54:46.297,,,"28/Jul/16 1:59 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;we need updated list of projects which are not in STD CI, so we'll encourage maintainers to move.","21/Aug/16 9:50 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;this might be duplicate, feel free to close.","24/Aug/16 5:54 AM;557058:ceab59e1-1267-4955-98e4-53bc07183d84;The following projects are still not in yaml:
- mom
- ovirt-engine-extension-aaa-ldap
- ovirt-engine-extension-aaa-misc
- ovirt-engine-extension-logger-log4j
- ovirt-vmconsole
- ovirt-reports (abandoned - no need to move to std-ci)

I've contacted the maintainers and sent them a link to the doc that explains how to add the projects to std-ci.

There are also other projects which are still using the old create-rpms jobs.","07/Sep/16 10:06 AM;557058:ceab59e1-1267-4955-98e4-53bc07183d84;Created a summary here:
https://docs.google.com/a/redhat.com/spreadsheets/d/12g2DOVFpVjpqOBKjDp5OfhrH1IHKj3ySJZ0Lz46mLl0/edit?usp=sharing","18/Sep/16 9:07 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;no action for now,
the projects which are NOT part of standard CI are:

ebay-cors-filter_master
jasperreports-server
nsis-simple-service-plugin
ovirt-engine-extension-aaa-jdbc
ovirt-engine-extension-aaa-ldap
ovirt-engine-extension-aaa-misc
ovirt-engine-extension-logger-log4j
ovirt-engine-nodejs
ovirt-engine-nodejs-modules
ovirt-engine-wildfly-overlay10
ovirt-engine-wildfly10
ovirt-wgt
py2exe-py2.7
python-windows
pywin32-py2.7
qemu
slf4j
unboundid-ldapsdk
vcredist-x86

Each maintainer might decide to move it to standard CI in the future, for now it doesn't block any CI flow or job.
",,,,,,,,,,,,,,Done
[gerrit hooks] Add new hook that adds warning on critical bug with severity/urgency,OVIRT-592,16201,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Low,Won't Fix,Shlomo Ben David,557058:73255e4a-293f-4236-adb2-ffd031901067,Eyal Edri,557058:2dee8503-051b-4630-8a75-2c544524dce8,Eyal Edri,557058:2dee8503-051b-4630-8a75-2c544524dce8,13/Jun/16 9:40 AM,04/Jun/18 1:29 AM,18/Feb/21 3:54 AM,03/Jun/18 7:48 AM,,OVIRT-INFRA-MAY-2018,,,,,,,0,,,,,"It seems like in some occasions there is a bug attached to a code review, but the review is delayed due to non critical/important issues, like syntax / coding style ,etc.... 

While any code review is important and needs handling, in a context of critical bug that is blocking a release the review criteria should be different and any non-blocking changes can be postpone to another less urgent bug.

We can help to identify these cases with a simple gerrit hook.
The hook should run on ovirt-engine & vdsm for starts and should just fetch the bug SEVERITY and URGENCY fields and to print a WARNING if any of them is eq to 'urgent' saying: ""Attention! This patch is fixing an urgent bug, please give high priority for reviews"".

In the future we can decide if to extend this to more fields, but for now it should suffice
",,,,,,,,,,,,,,,,,,,,,,,,,,{},OVIRT-411,,,,,,,,,,,,,,,,0|i003kf:,,,,,,,,,,,,,,,08/Dec/16 6:41 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;not a priority ,"03/Jun/18 7:48 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;This didn't seem to be a priority or real need that requires implementation for now.
Closing for now, if a need will rise for it in the future, we can re-evaluate.",,,,,,,,,,,,,,,,,Done
new git repo request: ovirt-setup-lib,OVIRT-344,11400,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Highest,Fixed,David Caro Estevez,557058:2340272a-264a-4662-9711-2e176c87c59a,Sandro Bonazzola,557058:3a069952-633d-482c-90ab-2451cac6751a,Sandro Bonazzola,557058:3a069952-633d-482c-90ab-2451cac6751a,13/Jul/15 3:02 AM,08/May/16 11:09 AM,18/Feb/21 3:54 AM,13/Jul/15 3:39 AM,Production,ovirt-infra-dec-2015,Gerrit/git,,,,,12/Jul/15 12:00 AM,0,,,,,"Please create a new repo ""ovirt-setup-lib"" which will contain code shared between ovirt-hosted-engine-setup and ovirt-engine setup.

http://lists.ovirt.org/pipermail/infra/2015-July/010168.html",,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,oVirt 3.6,,,,,,,High,0|i0023z:,,,,,,Normal,,,,,,2015-07-13 08:39:35.498,,,"13/Jul/15 3:39 AM;557058:2340272a-264a-4662-9711-2e176c87c59a;https://gerrit.ovirt.org/#/admin/projects/ovirt-setup-lib,access",,,,,,,,,,,,,,,,,,Done
Please update it to the latest available (1.2.8) which includes fixes for building F22 rpms.,OVIRT-324,10848,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,,Fixed,Sandro Bonazzola,557058:3a069952-633d-482c-90ab-2451cac6751a,sbonazzo,557058:f1439f31-2508-4358-819a-d141330188ca,Former user,5be961e858a7de0de4d0527c,08/May/15 1:25 AM,25/May/17 6:30 AM,18/Feb/21 3:54 AM,17/Nov/15 4:22 AM,Production,ovirt-infra-dec-2015,oVirt CI,,,,,,0,,,,,"I see that mock is not updated on all slaves:

08:00:40 INFO: mock.py version 1.2.7 starting (python version = 2.6.6)...

mock 1.2.8 is in stable repo for [Fedora 22|https://admin.fedoraproject.org/updates/FEDORA-2015-7184/mock-1.2.8-1.fc22], [Fedora 21|https://admin.fedoraproject.org/updates/FEDORA-2015-7199/mock-1.2.8-1.fc21] and is currently in testing repo for [Fedora 20|https://admin.fedoraproject.org/updates/FEDORA-2015-7241/mock-1.2.8-1.fc20], [EPEL 6|https://admin.fedoraproject.org/updates/FEDORA-EPEL-2015-6068/mock-1.2.8-1.el6] and [epel 7|https://admin.fedoraproject.org/updates/FEDORA-EPEL-2015-6057/mock-1.2.8-1.el7]",,,,,,,,,,,,,,,,,,,,,,,,,,{},,,325,,,,,,oVirt 3.6,,,,,,,Critical,0|i001zr:,,,,,,High,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Create freshness check for the oVirt mirrors,OVIRT-257,10781,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,,Fixed,Nadav Goldin,557058:f5d44d82-cbdb-48a7-b10e-df32e73f5981,David Caro Estevez,557058:2340272a-264a-4662-9711-2e176c87c59a,Former user,5be961e858a7de0de4d0527c,15/Sep/14 11:42 AM,25/May/17 6:29 AM,18/Feb/21 3:54 AM,30/Oct/16 9:31 AM,Production,OVIRT-INFRA-OCT-2016,oVirt Release Mgmt,,,,,,0,,,,,"Right now we are keeping the connection times under /var/log/mirrors/, use that info to create a freshnes check on nagios to alert when more than 24 hours passed without updating the mirror (maybe sync it on the wiki too or something so you can see which ones are fresh and which ones are not)",,,,,,,,,,,,,,,,,,,,,,,,,,{},OVIRT-403,,258,,,,,,oVirt 3.5,,,,,,,Medium,0|i001kv:,,,,,,Normal,,,,,,2016-08-28 16:40:04.064,,,"28/Aug/16 11:40 AM;557058:f5d44d82-cbdb-48a7-b10e-df32e73f5981;Project is currently at [https://github.com/nvgoldin/mirrorchecker]. I've been running it under test for the past month or so, fixing few bugs in the past days and load testing the WEB API using [siege|https://github.com/JoeDog/siege]. Next task is writing a puppet module to deploy the service and automatically build the mirror checking, monitoring and SSH key deploy from hiera, thus replacing some of the puppet code we have now.

","31/Aug/16 9:18 AM;557058:f5d44d82-cbdb-48a7-b10e-df32e73f5981;Working on deploying the app on our new OpenShift instance. 
1. Created a [testing repository|https://github.com/nvgoldin/ovirt-mirrorchecker-s2i] for deployment using OpenShift s2i. 
2. Made the app [pip ready|https://github.com/nvgoldin/mirrorchecker/commit/937d006dfd668901ee84f16524a2290f88dd8b06]. ATM, a bit hackish until my [PR|https://github.com/paramiko/paramiko/pull/811] to paramiko will be accepted.
Right now hitting [new bug in OpenShift|https://github.com/openshift/origin/issues/9834] caused by Docker change of scheme. Investigating workarounds..

","04/Sep/16 2:22 PM;557058:f5d44d82-cbdb-48a7-b10e-df32e73f5981;Updates:
1. As a side note: Had a very moderate learning curve with OpenShift. Eventually used plain Dockerfile and not source-2-image.
2. Regarding the [images bug|https://github.com/openshift/origin/issues/9834] - found some other images that worked.

Current status:
- mirrorchecker is deployed on: http://web-ovirt-mirrorchecker.apps.phx.ovirt.org/mirrors on our OpenShift instance.
Supported commands:
- http://web-ovirt-mirrorchecker.apps.phx.ovirt.org/mirrors - retrieve all mirror sites  synchronization status in human-readable format.
- http://webovirt-mirrorchecker.apps.phx.ovirt.org/mirrors/<url, without http and with '/' replaced with '_'> - retrieve a specific mirror site last synchronization time in seconds. I.E.
{code}
curl -i http://web-ovirt-mirrorchecker.apps.phx.ovirt.org/mirrors/ftp.nluug.nl_os_Linux_virtual_ovirt
HTTP/1.1 200 OK
CONTENT-LENGTH: 58
DATE: Sun, 04 Sep 2016 18:29:26 GMT
SERVER: Python/3.5 aiohttp/0.22.5
Set-Cookie: OPENSHIFT_ovirt-mirrorchecker_web_SERVERID=28060d49bca4fbdc9f347f844fb39665; path=/; HttpOnly
Cache-control: private

{
    ""http://ftp.nluug.nl/os/Linux/virtual/ovirt"": 1599
}
{code}
- http://web-ovirt-mirrorchecker.apps.phx.ovirt.org/mirrors/yum/mirrorlist-ovirt-{{ver}}-{{dst}} - returns list of mirror list for yum repository that were synchronized in the past 24 hours. This list is created dynamically per request.
{code}
curl http://web-ovirt-mirrorchecker.apps.phx.ovirt.org/mirrors/yum/mirrorlist-ovirt-3.6-el7
http://mirror.slu.cz/ovirt/ovirt-3.6/rpm/el7/
http://resources.ovirt.org/pub/ovirt-3.6/rpm/el7/
http://ftp.nluug.nl/os/Linux/virtual/ovirt/ovirt-3.6/rpm/el7/{code}
I set up an a rewrite rule on resources.ovirt.org for testing, using 'mirrorlist-ovirt2-*' syntax, this redirects to http://web-ovirt-mirrorchecker.apps.phx.ovirt.org/mirrors/yum/mirrorlist-ovirt-(.*):
{code}
curl -i http://resources.ovirt.org/pub/yum-repo/mirrorlist-ovirt2-3.6-el7
HTTP/1.1 200 OK
Date: Sun, 04 Sep 2016 18:38:44 GMT
Server: Python/3.5 aiohttp/0.22.5
CONTENT-LENGTH: 158
Cache-control: private
Set-Cookie: OPENSHIFT_ovirt-mirrorchecker_web_SERVERID=28060d49bca4fbdc9f347f844fb39665; path=/; HttpOnly
Via: 1.1 resources02.phx.ovirt.org
Connection: close

http://mirror.slu.cz/ovirt/ovirt-3.6/rpm/el7/
http://resources.ovirt.org/pub/ovirt-3.6/rpm/el7/
http://ftp.nluug.nl/os/Linux/virtual/ovirt/ovirt-3.6/rpm/el7/
{code}
The current rule is still there, so we are not serving anything using it yet, I want to test it for a while before removing the old rule.
- Docker file and configurations moved [here|https://github.com/nvgoldin/ovirt-mirrorchecker].
- [Icinga alerts|https://monitoring.ovirt.org/icinga/cgi-bin/status.cgi?host=web-ovirt-mirrorchecker.apps.phx.ovirt.org] are setup, once I see it is stable I'll turn notifications back on.

Some leftovers:
1. Document how to add a mirror site and rebuild the container.
2. Move things to gerrit(not sure how important this is right now) from GitHub.


Some 'follow-up tasks', which seems like I won't get into, at least now. I am writing them here in case an issue pops up or someone else wants to take them:
Automate mirror sites addition: my original plan was to deploy all of this by puppet, but as we shifted to OpenShift this sort of changed the rules.
Currently we have 3 components for our mirroring sites:
- Puppet code that setups ssh-keys for the mirror sites.
- ovirt-mirrorchecker repo which has a mirrors.yaml from which the monitoring checks are setup.
- Icinga alerts at /etc/icinga/conf.d which were created more or less manually.

The above 3 could be consolidated into a single source code. One solution is creating a user defined type in puppet, and populating the resources from hiera. The 'missing part' is how the heck we are going to make puppet deploy to OpenShift, this needs some deeper thought. 

2. There are some issues/bugs in the mirrorchecking tool, I'll try to work them out with time(mostly enhancements). ","05/Sep/16 1:54 AM;557058:f5d44d82-cbdb-48a7-b10e-df32e73f5981;1. Icinga alerts are working, will turn notifications on later today.
2. Did a 'redeployment' test -  OpenShift handled this nicely, re-routing the traffic to the new container with no noticeable downtime",18/Sep/16 9:44 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;[~accountid:557058:f5d44d82-cbdb-48a7-b10e-df32e73f5981] all is left is to add documentation to this process ? ,"18/Sep/16 11:17 AM;557058:f5d44d82-cbdb-48a7-b10e-df32e73f5981;Yes, basically two logistics left here:
1. Document
2. Move it to gerrit + test OpenShift integration with gerrit.
So I'll leave it open until I finish.

","30/Oct/16 9:31 AM;557058:f5d44d82-cbdb-48a7-b10e-df32e73f5981;Closing this, opened two separate tickets on the logistics parts: docs and moving to gerrit
https://ovirt-jira.atlassian.net/browse/OVIRT-793
https://ovirt-jira.atlassian.net/browse/OVIRT-794",,,,,,,,,,,,Done
otopi_master_create-rpms_merged fails on el7,OVIRT-255,10779,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,,Fixed,sbonazzo,557058:f1439f31-2508-4358-819a-d141330188ca,alonbl,557058:3d72328a-3f16-4ddf-b35d-5afc431a624a,Former user,5be961e858a7de0de4d0527c,08/Sep/14 2:22 AM,25/May/17 6:30 AM,18/Feb/21 3:54 AM,21/Dec/14 7:39 AM,Test,Release closed issues,oVirt CI,,,,,,0,,,,,"http://jenkins.ovirt.org/job/otopi_master_create-rpms_merged/label=centos7/653/console

I am confused... do we build using mock or not... but yum-depbuild should be executed.

Thanks\!

\--\-

{noformat}
08:17:00 + rpmbuild -D '_topdir /home/jenkins/workspace/otopi_master_create-rpms_merged/label/centos7/rpmbuild' -D 'release_suffix .20140908.git7c7d631' --rebuild rpmbuild/SRPMS/otopi-1.3.0-0.0.master.20140908.git7c7d631.el7.centos.src.rpm
08:17:00 error: Failed build dependencies:
08:17:00 	maven-compiler-plugin is needed by otopi-1.3.0-0.0.master.20140908.git7c7d631.el7.centos.noarch
08:17:00 	maven-enforcer-plugin is needed by otopi-1.3.0-0.0.master.20140908.git7c7d631.el7.centos.noarch
08:17:00 	maven-install-plugin is needed by otopi-1.3.0-0.0.master.20140908.git7c7d631.el7.centos.noarch
08:17:00 	maven-jar-plugin is needed by otopi-1.3.0-0.0.master.20140908.git7c7d631.el7.centos.noarch
08:17:00 	maven-javadoc-plugin is needed by otopi-1.3.0-0.0.master.20140908.git7c7d631.el7.centos.noarch
08:17:00 	maven-source-plugin is needed by otopi-1.3.0-0.0.master.20140908.git7c7d631.el7.centos.noarch
08:17:00 	maven-surefire-provider-junit4 is needed by otopi-1.3.0-0.0.master.20140908.git7c7d631.el7.centos.noarch
08:17:00 	maven-local is needed by otopi-1.3.0-0.0.master.20140908.git7c7d631.el7.centos.noarch
08:17:00 Installing rpmbuild/SRPMS/otopi-1.3.0-0.0.master.20140908.git7c7d631.el7.centos.src.rpm
{noformat}",,,,,,,,,,,,,,,,,,,,,,,,,,{},,,256,,,,,,oVirt 3.5,,,,,,,Medium,0|i001kf:,,,,,,Normal,,,,,,2014-09-11 06:57:10.86,,,"11/Sep/14 1:57 AM;557058:f1439f31-2508-4358-819a-d141330188ca;Temporary solution applied to the job, calling yum-builddep prior to trying to build the rpm.
A better solution is migrate the job to yaml and use mock for building it.
I guess that in such change, the only one that would require workaround is the cento6 one since maven is not available there, but at least Fedora and EPEL7 builds can be done inside mock.
","21/Dec/14 7:39 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;works:
http://jenkins.ovirt.org/job/otopi_master_create-rpms_merged/
",,,,,,,,,,,,,,,,,Done
chain ovirt-engine merge jobs,OVIRT-251,10775,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,,Done,infra,557058:11f1b41b-2c35-4fdf-b282-1510ce705d4d,sbonazzo,557058:f1439f31-2508-4358-819a-d141330188ca,Former user,5be961e858a7de0de4d0527c,27/Aug/14 6:40 AM,25/May/17 6:30 AM,18/Feb/21 3:54 AM,27/Apr/16 4:07 AM,Test,OVIRT-INFRA-APR-2016,oVirt CI,,,,,,0,,,,,"Currently a merge event triggers:
 \\- http://jenkins.ovirt.org/job/ovirt-engine_3.5_upgrade-from-3.4_merged
 \\- http://jenkins.ovirt.org/job/ovirt-engine_3.5_create-rpms_merged
 \\- http://jenkins.ovirt.org/job/ovirt-engine_3.5_find-bugs_merged

All of them performs builds at different stages.
I suggest to run first
 \\- http://jenkins.ovirt.org/job/ovirt-engine_3.5_find-bugs_merged
and if it finish with success, I suggest to use rpms built from
 \\- http://jenkins.ovirt.org/job/ovirt-engine_3.5_create-rpms_merged
for running:
 \\- http://jenkins.ovirt.org/job/ovirt-engine_3.5_upgrade-from-3.4_merged

otherwise abort the chain as soon as it fails.

This will reduce the times we rebuild the same code and the slaves load.",,,,,,,,,,,,,,,,,,,,,,,,,,{},OVIRT-400,,252,,,,,,oVirt 3.5,,,,,,,Medium,0|i001jj:,,,,,,Normal,,,,,,2016-03-15 08:06:36.007,,,15/Mar/16 3:06 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;[~accountid:557058:bb7d5e8a-f5f3-43c4-bad9-2f69f1c30a79] is this relevant also for 3.6 with standard ci?,"21/Mar/16 4:34 AM;557058:2340272a-264a-4662-9711-2e176c87c59a;What we have to do here is to merge them into the standard ci, and stop having multiple jobs out of it",21/Mar/16 4:57 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;How many jobs we still have that are not using standard ci? I guess a lot were dropped with 3.5.,"21/Mar/16 5:49 AM;557058:2340272a-264a-4662-9711-2e176c87c59a;ovirt-engine_3.6_style_gerrit
ovirt-engine_master_style_gerrit
ovirt-engine_3.5_find-bugs_merged
ovirt-engine_3.6_find-bugs_gerrit
ovirt-engine_3.6_find-bugs_merged
ovirt-engine_3.5_unit_tests_gerrit
ovirt-engine_3.6_unit-tests_gerrit
ovirt-engine_3.6_unit-tests_merged
ovirt-engine_master_find-bugs_gerrit
ovirt-engine_master_find-bugs_merged
ovirt-engine_master_unit-tests_gerrit
ovirt-engine_master_unit-tests_merged
ovirt-engine_3.5_dao-unit-tests_gerrit
ovirt-engine_3.6_dao-unit-tests_merged
ovirt-engine_3.6_dao-unit-tests_created
ovirt-engine_3.6_scan-open-tasks_merged
ovirt-engine_3.6_purge-maven-repo_merged
ovirt-engine_master_dao-unit-tests_merged
ovirt-engine_master_find-bugs_gerrit_juan
ovirt-engine_3.5_compile_checkstyle_gerrit
ovirt-engine_master_dao-unit-tests_created
ovirt-engine_master_scan-open-tasks_merged
ovirt-engine_3.6_upgrade-from-3.5_el6_merged
ovirt-engine_3.6_upgrade-from-3.6_el6_merged
ovirt-engine_master_coverity-analysis_merged
ovirt-engine_3.6_upgrade-db-from-3.5_el6_merged
ovirt-engine_3.6_upgrade-db-from-3.6_el6_merged
ovirt-engine_master_upgrade-from-3.6_el7_merged
ovirt-engine_3.6_upgrade-db-from-3.5_el6_created
ovirt-engine_3.6_upgrade-db-from-3.6_el6_created
ovirt-engine_3.6.4_upgrade-db-from-3.5_el6_merged
ovirt-engine_3.6.4_upgrade-db-from-3.6_el6_merged
ovirt-engine_3.6.4_upgrade-db-from-3.5_el6_created
ovirt-engine_3.6.4_upgrade-db-from-3.6_el6_created
ovirt-engine_master_upgrade-db-from-3.6_el7_merged
ovirt-engine_master_upgrade-from-master_el7_merged
ovirt-engine_master_upgrade-db-from-3.6_el7_created
ovirt-engine_master_upgrade-db-from-master_el7_merged
ovirt-engine_master_upgrade-db-from-master_el7_created
ovirt-engine_master_upgrade-from-3.6_el7_merged_test_puppet_ngoldin
",21/Mar/16 5:49 AM;557058:2340272a-264a-4662-9711-2e176c87c59a;That's 40,"13/Apr/16 1:55 PM;557058:2dee8503-051b-4630-8a75-2c544524dce8;Will this still be relevant in STD CI?
We don't have too much jobs left outside of it for ovirt-engine, and we're planning to remove/replace existing ones.","27/Apr/16 4:07 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;not relevant anymore with STD CI.
There is another ticket in general to create a pipeline of tests, this is in the hands of developers now, as all the code is in check-patch/check-merged and it can be modified to run as a chain if needed.",,,,,,,,,,,,Done
add list of pads to etherpad.ovirt.org,OVIRT-249,10773,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Highest,Won't Fix,infra,557058:11f1b41b-2c35-4fdf-b282-1510ce705d4d,sbonazzo,557058:f1439f31-2508-4358-819a-d141330188ca,Former user,5be961e858a7de0de4d0527c,22/Aug/14 6:40 AM,25/May/17 6:29 AM,18/Feb/21 3:54 AM,13/Apr/16 7:45 AM,Test,OVIRT-INFRA-APR-2016,oVirt Infra,,,,,,1,,,,,"Once an etherpad has been created it becomes difficult to search for it.

Please add a listing plugin like https://github.com/JohnMcLear/ep_list_pads.git allowing to index existing pads.",,,,,,,,,,,,,,,,,,,,,,,,,,{},OVIRT-403,,250,,,,,,oVirt 3.5,,,,,,,Medium,0|i001j3:,,,,,,Normal,,,,,,2015-12-31 09:54:42.014,,,31/Dec/15 3:54 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;i think we should stop using the etherpad and open a google account maybe for ovirt and use google docs instead.,"13/Apr/16 7:45 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;We don't use etherpad anymore to hold docs, moved to readthedocs instead.",,,,,,,,,,,,,,,,,Done
use openstack meetbot fork on #ovirt irc,OVIRT-248,10772,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,,Won't Fix,infra,557058:11f1b41b-2c35-4fdf-b282-1510ce705d4d,sbonazzo,557058:f1439f31-2508-4358-819a-d141330188ca,Former user,5be961e858a7de0de4d0527c,22/Aug/14 3:27 AM,25/May/17 6:39 AM,18/Feb/21 3:54 AM,03/Dec/15 7:57 AM,Test,ovirt-infra-dec-2015,oVirt Infra,,,,,,0,,,,,"It would be nice to have http://ci.openstack.org/meetbot.html#voting in #ovirt channel.

I think that we're missing the voting feature there.",,,,,,,,,,,,,,,,,,,,,,,,,,{},,,249,,,,,,oVirt 3.5,,,,,,,Medium,0|i001iv:,,,,,,Normal,,,,,,2015-12-03 13:57:21.715,,,"03/Dec/15 7:57 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;we are not using the channel anymore for meetings, so not relevant for now.
if the need will arrise, please reopen",,,,,,,,,,,,,,,,,,Done
Add RpmGrill and rpmlint validation to build-artifacts.sh or to check-merged.sh,OVIRT-244,10768,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Low,Won't Do,Sandro Bonazzola,557058:3a069952-633d-482c-90ab-2451cac6751a,sbonazzo,557058:f1439f31-2508-4358-819a-d141330188ca,Former user,5be961e858a7de0de4d0527c,06/Aug/14 2:42 AM,04/Jun/18 1:29 AM,18/Feb/21 3:54 AM,04/Jun/18 1:23 AM,Test,OVIRT-INFRA-MAY-2018,oVirt CI,,,,,,0,,,,,"I suggest to add rpmlint and RpmGrill (https://gist.github.com/kholia/5899572) validation to rpm build jobs.

It may help finding issues in rpm packaging earlier.",,,,,,,,,,,,,,,,,,,,,,,requester response,,,{},OVIRT-400,,245,,,,,,oVirt 3.6,,,,,,,Low,0|i001hz:,,,,,,Trivial,,,,,,2016-03-21 09:36:10.117,,,21/Mar/16 4:36 AM;557058:2340272a-264a-4662-9711-2e176c87c59a;That's up to each maintainer to add to their check-patch or check-merged scripts,"21/Aug/16 9:45 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;Please re-assign to relevant maintainer, or close if not going to be implemented.",28/Aug/16 6:09 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;Up to each maintainer to implement it as part of standard CI for their project,"03/Jun/18 7:46 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;[~accountid:557058:3a069952-633d-482c-90ab-2451cac6751a] [~accountid:557058:7013bb8c-48b2-4b9b-898e-eccf5fb61fad]  [~accountid:557058:963c273f-0ab7-4d6d-b75c-50328191d665] are engine maintainers still interested in implementing this in check-patch? 

It might be best to move it to a Bugzilla where it will have more visibility since this project isn't being tracked by maintainers.



If there is no objection, I'm going to close this ticket, which is open for a few years now.","04/Jun/18 12:51 AM;557058:3a069952-633d-482c-90ab-2451cac6751a;Since solution is let each maintainer take care of their check-patch, I think this issue on infra can be closed.
It would have made sense only if handled at global level.","04/Jun/18 1:23 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;If at any point someone will decide its worth investing in on check-patch and it will require installing a specific infra-wide system or Jenkins plugins, it goes without saying we'll help and install any required dependencies.",,,,,,,,,,,,,Done
Feature Request: Add MD5 sums to repo,OVIRT-238,10762,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,,Fixed,infra,557058:11f1b41b-2c35-4fdf-b282-1510ce705d4d,jakes,557058:98db5f00-99cd-4578-9130-50bb357c4c47,Former user,5be961e858a7de0de4d0527c,30/Jul/14 7:11 PM,25/May/17 6:29 AM,18/Feb/21 3:54 AM,03/Dec/15 7:38 AM,Test,ovirt-infra-dec-2015,oVirt Release Mgmt,,,,,,0,md5,,,,"I've been pulling ISO images from repo, but don't know if they're kosher. 
Can repo maintainers please add MD5 checksums to the repo to be able to verify/validate downloads before use",,,,,,,,,,,,,,,,,,,,,,,,,,{},,,239,,,,,,oVirt 3.6,,,,,,,Medium,0|i001gn:,,,,,,Trivial,,,,,,2014-12-21 13:55:58.87,,,"21/Dec/14 7:55 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;David, do we have support for MD5 in the new release script?
","08/Mar/15 7:01 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;sandro, do you know if we can easily add md5 to repoman?
","12/May/15 1:08 PM;557058:2340272a-264a-4662-9711-2e176c87c59a;Yes, md5 and signatures are built into repoman",,,,,,,,,,,,,,,,Done
Add new checks to ovirt-system-test to ensure no sensitive data leak in logs,OVIRT-226,10750,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,Lowest,Won't Do,infra,557058:11f1b41b-2c35-4fdf-b282-1510ce705d4d,sbonazzo,557058:f1439f31-2508-4358-819a-d141330188ca,Former user,5be961e858a7de0de4d0527c,22/Jul/14 3:21 AM,25/May/17 6:30 AM,18/Feb/21 3:54 AM,22/Dec/16 4:14 AM,,OVIRT-INFRA-DEC-2016,oVirt CI,,,,,,0,,,,,"Original request is on bugzilla: https://bugzilla.redhat.com/show_bug.cgi?id=1118354

Not sure how to implement the test using jenkins.",,,,,,,,,,,,,,,,,,,,,,,,,,{},OVIRT-400,,227,,,,,,oVirt 3.6,,,,,,,Medium,0|i001dz:,,,,,,Trivial,,,,,,2016-08-21 14:44:32.353,,,"21/Aug/16 9:44 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;any project that wants to add functionality can add it via the automation dir.
We stopped adding specific jobs per project outside of standard CI, this can cause issues in gerrit reviews and required more maintenance.

If this is something that can't be done via standard CI, then we need to think how to support it, but it sounds like simple regex on output. 

feel free to keep this open if you want to implement it for ovirt-engine or other projects, but please assign the relevant maintainer.  ",28/Aug/16 6:10 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;Up to each maintainer to implement it as part of standard CI for their project,29/Aug/16 12:57 AM;557058:3a069952-633d-482c-90ab-2451cac6751a;Moving to ovirt-system-tests checks. This is a functional test additional check; it requires engine to be deployed and running so looks like a lago related task.,29/Aug/16 12:58 AM;557058:3a069952-633d-482c-90ab-2451cac6751a;This is also really needed looking at recent history.,"18/Sep/16 9:03 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;[~accountid:557058:3a069952-633d-482c-90ab-2451cac6751a] please assign someone from ovirt-engine developers to the task, right now moving back to TODO list. ","19/Sep/16 1:43 AM;557058:3a069952-633d-482c-90ab-2451cac6751a;[~accountid:557058:2dee8503-051b-4630-8a75-2c544524dce8] this is handed by QE, see referenced bugzilla.","22/Dec/16 4:14 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;Already tracked by QE, see more info on the Bugzilla bug.",,,,,,,,,,,,Done
Builder job for WildFly 8,OVIRT-224,10748,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,,Fixed,sbonazzo,557058:f1439f31-2508-4358-819a-d141330188ca,sbonazzo,557058:f1439f31-2508-4358-819a-d141330188ca,Former user,5be961e858a7de0de4d0527c,21/Jul/14 2:51 AM,25/May/17 6:30 AM,18/Feb/21 3:54 AM,05/Mar/15 7:11 AM,Test,Release closed issues,oVirt CI,,,,,,0,,,,,"Please create builder job for WildFly 8 as we have for JBoss 7.
The spec file and the build script have been merged with patch http://gerrit.ovirt.org/30223, reference bug is https://bugzilla.redhat.com/show_bug.cgi?id=1121327.",,,,,,,,,,,,,,,,,,,,,,,,,,{},,,225,,,,,,oVirt 3.6,,,,,,,Low,0|i001dj:,,,,,,Normal,,,,,,,,,"05/Mar/15 6:57 AM;557058:f1439f31-2508-4358-819a-d141330188ca;Job pushed, under review: https://gerrit.ovirt.org/38410
","05/Mar/15 7:11 AM;557058:f1439f31-2508-4358-819a-d141330188ca;http://jenkins.ovirt.org/search/?q=ovirt-engine-wildfly
",,,,,,,,,,,,,,,,,Done
add vdsm basic sanity test job,OVIRT-222,10746,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,,Duplicate,danken,557058:e3a43fc0-2392-4c23-9d8a-97ac500e22d4,sbonazzo,557058:f1439f31-2508-4358-819a-d141330188ca,Former user,5be961e858a7de0de4d0527c,17/Jul/14 10:03 AM,25/May/17 6:30 AM,18/Feb/21 3:54 AM,03/Dec/15 7:36 AM,Test,ovirt-infra-dec-2015,oVirt CI,,,,,,0,,,,,"A new job for checking basic sanity of vdsm should be created.
The job should:
 1) ensure system is updated with ""yum update""
 2) install nightly vdsm
 3) service start vdsmd
 4) check vdsmd status
 5) fail if status is not ok
 6) stop vdsmd
 7) rollback the vdsm install restoring the previous state

this should warn us if some distribution upgrade is breaking vdsm like python on f19 breaking vdsm due to obsolete python-cpopen.",,,,,,,,,,,,,,,,,,,,,,,,,,{},,,223,,,,,,oVirt 3.5,,,,,,,Low,0|i001d3:,,,,,,Normal,,,,,,2015-03-21 17:59:06.392,,,"21/Mar/15 12:59 PM;557058:2dee8503-051b-4630-8a75-2c544524dce8;moving to danken \\- please assign an owner to this, or close if its covered already by other jobs.
","03/Dec/15 7:36 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;we are tracking this on lago bugzilla, https://bugzilla.redhat.com/show_bug.cgi?id=1285787",,,,,,,,,,,,,,,,,Done
Add squid proxies to the slaves,OVIRT-214,10738,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,,Fixed,David Caro Estevez,557058:2340272a-264a-4662-9711-2e176c87c59a,David Caro Estevez,557058:2340272a-264a-4662-9711-2e176c87c59a,Former user,5be961e858a7de0de4d0527c,11/Jul/14 9:41 AM,08/May/16 11:09 AM,18/Feb/21 3:54 AM,12/May/15 5:10 AM,Production,INFRA-OVIRT-MAY-2015,General,,,,,,0,,,,,"Fabian has done a setup on one of the minidells, and it's working great, we can try to apply the squid proxy to all the slaves (or at least one per network) to speed up considerably the jobs and envs setup.

1. Install squid                                                                                                            
2. Create caching dir on /home (most free space)                                                                                                           2.a mkdir /home/jenkins/squid-cache                                                                                                     2.b update context: chcon <ctx of /var/spool/squid>                                                                                                          2.c Bind mount /var/spool/squid to /home/jenkins/squid-cache                                                                                                     3. Setup squid as                                                                                                               3.a Generic proxy on port 3128                                                                                                             3.b Add special caching rules for rpms + isos                                                                                                             4. Point all yum instances to the generic proxy   


48This works fairly well. It's a bit suboptimal, because often mirrorlists are used. That menas many jobs are using many different mirrors, which reduces the cachability.                                                                    
49But at some point this should still lead to improvements, because the fastest-mirror plugin is often used, and this will kick in when a mirror is cached in the proxy.                                                                      

Another optimization I added is some special handling for download.fedoraproject.org.                                                                                     basically as                                                                                                               3.c Accelerator for download.fedoraproject.org on port 80                                                                                                               3.d Use /etc/hosts to let download.fedoraproject.org to the proxy",,,,,,,,,,,,,,,,,,,,,,,,,,{},,,215,,,,,,oVirt 3.5,,,,,,,High,0|i001bb:,,,,,,Trivial,,,,,,2014-09-14 14:23:08.3,,,"14/Sep/14 9:23 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;fabian, did you manage to get this done? you said something about ovirt-node jobs now working with squid, was this the relevant ticket?
","23/Jan/15 3:06 AM;557058:2340272a-264a-4662-9711-2e176c87c59a;I added a proxy vm to the phoenix lab (proxy.phx.ovirt.org) and started testing mock speed using that proxy. But I found a small issue, that if we are using mirrorlists and metalinks, the host used to fetch the packages changes from run to run and that avoids the packages from being properly cached.

Some solutions I'm working on are:
  * Quick 'n' dirty \-> use a fixed mirror from the mirrorlist on all the slaves
  * Long but nice \-> use proxy.phx.ovirt.org as intermediary, and write/find/script a small app that does the mirror selection after it (so all the requests from the hosts have the same hostname and url)
","23/Jan/15 3:52 AM;557058:b5576cdf-e727-476f-9d8f-e5ee435d6795;Using the yum-plugin-fastest-mirror on the slaves could help to reduce the number of mirrors which are used, and thus make the caching more efficient.
","23/Jan/15 4:19 AM;557058:2340272a-264a-4662-9711-2e176c87c59a;It doe snot seem to work behind a proxy:

http://wiki.centos.org/PackageManagement/Yum/FastestMirror

{noformat}
If you are using the default CentOS configuration, and if you are not behind a proxy server,
fastestmirror is highly recommended.
{noformat}
","08/Mar/15 6:50 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;@david, i know we added a proxy in phx (proxy.phx.ovirt.org), can we close this ticket?
","12/May/15 5:10 AM;557058:2340272a-264a-4662-9711-2e176c87c59a;It's not exactly the same, but I think that for now is enough",,,,,,,,,,,,,Done
ovirt-guest-agent build on merge jobs,OVIRT-213,10737,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,,Fixed,infra,557058:11f1b41b-2c35-4fdf-b282-1510ce705d4d,sbonazzo,557058:f1439f31-2508-4358-819a-d141330188ca,Former user,5be961e858a7de0de4d0527c,11/Jul/14 2:20 AM,25/May/17 6:30 AM,18/Feb/21 3:54 AM,03/Dec/15 8:47 AM,Test,ovirt-infra-dec-2015,oVirt CI,,,,,,0,,,,,"Jobs for building ovirt-guest-agent on merged patch should be created and added to nightly publishers.

Vinzenz, can you provide association between branches and targeted releases?",,,,,,,,,,,,,,,,,,,,,,,,,,{},,,214,,,,,,oVirt 3.5,,,,,,,Medium,0|i001b3:,,,,,,Normal,,,,,,2015-12-03 14:47:26.437,,,03/Dec/15 8:47 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;http://jenkins.ovirt.org/job/ovirt-guest-agent_master_build-artifacts-el7-x86_64/,,,,,,,,,,,,,,,,,,Done
ovirt-engine_master_create-rpms_merged should be splitted,OVIRT-199,10723,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,,Fixed,infra,557058:11f1b41b-2c35-4fdf-b282-1510ce705d4d,sbonazzo,557058:f1439f31-2508-4358-819a-d141330188ca,Former user,5be961e858a7de0de4d0527c,26/Jun/14 10:35 AM,25/May/17 6:30 AM,18/Feb/21 3:54 AM,21/Mar/15 12:49 PM,Test,Release closed issues,oVirt CI,,,,,,0,performance,,,,"Hi,
ovirt-engine_master_create-rpms_merged should create rpms as its name let suppose.
However, after rpms are built it also perform a ""make install"" build and archives the result in a tar.gz.
This second build should be performed by another job, reducing the time needed for having the rpms and should be faster since it can be done by a different slave.",,,,,,,,,,,,,,,,,,,,,,,,,,{},,,200,,,,,,oVirt 3.5,,,,,,,Medium,0|i0017z:,,,,,,Trivial,,,,,,2015-03-21 17:49:27.273,,,"21/Mar/15 12:49 PM;557058:2dee8503-051b-4630-8a75-2c544524dce8;not relevant anymore, as we moved to jjb and job names have been modified.
also job time was improved with moving to phx lab.
",,,,,,,,,,,,,,,,,,Done
[jenkins] provision slaves and update jobs for CentOS 7,OVIRT-185,10709,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,,Duplicate,infra,557058:11f1b41b-2c35-4fdf-b282-1510ce705d4d,sbonazzo,557058:f1439f31-2508-4358-819a-d141330188ca,Former user,5be961e858a7de0de4d0527c,20/Jun/14 9:19 AM,25/May/17 6:30 AM,18/Feb/21 3:54 AM,02/Jul/14 8:59 AM,Test,Release closed issues,oVirt CI,,,,,,0,,,,,At least one slave should be provisioned with  CentOS 7 and jobs should build for CentOS 7 too.,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,186,,,,,,oVirt 3.5,,,,,,,High,0|i0014v:,,,,,,Normal,,,,,,2014-07-02 13:59:25.418,,,"02/Jul/14 8:59 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;duplicate OVIRT-123
",,,,,,,,,,,,,,,,,,Done
[jenkins] provision slaves and update jobs for Fedora 21 / Rawhide,OVIRT-184,10708,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,,Fixed,Barak Korren,557058:5fc78873-359e-47c9-aa0b-4845b0da8143,sbonazzo,557058:f1439f31-2508-4358-819a-d141330188ca,Former user,5be961e858a7de0de4d0527c,20/Jun/14 9:18 AM,25/May/17 6:30 AM,18/Feb/21 3:54 AM,19/Oct/14 9:16 AM,Test,Release closed issues,oVirt CI,,,,,,0,,,,,At least one slave should be provisioned with Fedora 21 and jobs should build for  Fedora 21 / rawhide too.,,,,,,,,,,,,,,,,,,,,,,,phx2 lab deployment,,,{},,,185,,,,,,phx2 lab ready,,,,,,,Critical,0|i0014n:,,,,,,Normal,,,,,,2014-10-19 14:16:00.632,,,"19/Aug/14 3:41 PM;557058:f1439f31-2508-4358-819a-d141330188ca;Fedora 19 won't be supported by oVirt 3.6: Fedora 19 will go EOL before 3.6.0 release.
We need to start provisioning slaves with F21 and move master jobs from F19 to F20 or F21, just keeping enough F19 slaves for 3.5.z.
","19/Oct/14 9:16 AM;557058:f2dbd3df-9fb3-491d-94b6-415f9266b6fe;Since dcaro moved to provisioning using images, the issues we had with provisioning f21 via kickstart are no longer relevant.
We currently have 6 f21 slaves in phx.
",,,,,,,,,,,,,,,,,Done
[jenkins] ovirt-live jobs,OVIRT-183,10707,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,,Fixed,sbonazzo,557058:f1439f31-2508-4358-819a-d141330188ca,sbonazzo,557058:f1439f31-2508-4358-819a-d141330188ca,Former user,5be961e858a7de0de4d0527c,20/Jun/14 9:16 AM,25/May/17 6:30 AM,18/Feb/21 3:54 AM,03/Dec/15 8:49 AM,Test,ovirt-infra-dec-2015,oVirt CI,,,,,,0,,,,,"existing build job should be extended for allowing:

\\- Build from multiple branches
\\- Build from different OSs
\\- Automated build from release repositories
\\- Automated publishing of the ISOs built on different branches
\\- Automated publishing of official releases",,,,,,,,,,,,,,,,,,,,,,,migration of resources.ovirt.org to phx,,,{},,,184,,,,,,phx2 lab phase II,,,,,,,High,0|i0014f:,,,,,,Normal,,,,,,2014-09-07 12:21:35.72,,,"07/Sep/14 7:21 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;sandro \\- can any of the maintainers handle this, maybe as a yaml job?
infra team can help if needed.
","08/Sep/14 1:10 AM;557058:f1439f31-2508-4358-819a-d141330188ca;I'll take this for now.
","15/Feb/15 10:34 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;@sandro \\- looks like job is working: http://jenkins.ovirt.org/view/Stable%20branches%20per%20project/job/ovirt-live_3.5-create-iso/

can you update if anything is still missing?
","16/Feb/15 12:50 AM;557058:f1439f31-2508-4358-819a-d141330188ca;We're still missing:
* Build from different OSs
* Automated publishing of the ISOs built on different branches
* Automated publishing of official releases 
","08/Mar/15 6:47 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;ok, i suggest to pick this up after we migrate resources.ovirt.org to phx, since i'm anticipating a space issue if we'll start collecting nightly ovirt-live images.
","03/Dec/15 8:49 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;done: http://jenkins.ovirt.org/job/ovirt-live_master_build-artifacts-el7-x86_64/
also being published via the publishers.

we have more space now on resources.ovirt.org, so we you want to publish more versions its possible.",,,,,,,,,,,,,Done
[jenkins] create new job checking that websocket proxy can be installed without oVirt Engine,OVIRT-179,10703,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,,Won't Fix,infra,557058:11f1b41b-2c35-4fdf-b282-1510ce705d4d,sbonazzo,557058:f1439f31-2508-4358-819a-d141330188ca,Former user,5be961e858a7de0de4d0527c,20/Jun/14 9:08 AM,25/May/17 6:30 AM,18/Feb/21 3:54 AM,03/Dec/15 7:33 AM,Test,ovirt-infra-dec-2015,oVirt CI,,,,,,0,,,,,"Check that WebSocket Proxy can be installed without oVirt Engine.
A specular job (installing engine without configuring websocket proxy) may be useful too.",,,,,,,,,,,,,,,,,,,,,,,,,,{},,,180,,,,,,oVirt 3.5,,,,,,,Medium,0|i0013j:,,,,,,Normal,,,,,,2014-07-02 13:14:44.987,,,"02/Jul/14 8:14 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;sandro, i think this should be handled by websocket proxy power user/maintainer.
infra can assist with the setup and resources.
",03/Dec/15 7:33 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;closed due to in-activity,,,,,,,,,,,,,,,,,Done
[jenkins] create new job checking reports setup running on the same host running engine and dwh,OVIRT-178,10702,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,,Won't Fix,sradco,557058:01b8a9a7-77bd-4847-8db3-7cc9fce28f94,sbonazzo,557058:f1439f31-2508-4358-819a-d141330188ca,Former user,5be961e858a7de0de4d0527c,20/Jun/14 9:05 AM,25/May/17 6:30 AM,18/Feb/21 3:54 AM,27/Apr/16 12:50 PM,Test,OVIRT-INFRA-APR-2016,oVirt CI,,,,,,0,,,,,"We're missing a job that install ovirt-engine, ovirt-engine-dwh and ovirt-engine-reports and check that the setup works.
Job should be triggered at least on merge commit in ovirt-engine, ovirt-dwh and ovirt-reports projects including changes in file within packaging directory or spec changes.",,,,,,,,,,,,,,,,,,,,,,,,,,{},OVIRT-400,,179,,,,,,oVirt 3.5,,,,,,,Medium,0|i0013b:,,,,,,Normal,,,,,,2016-04-13 18:54:33.378,,,"20/Jun/14 9:06 AM;557058:f1439f31-2508-4358-819a-d141330188ca;Update from previous stable should be also provided.
",13/Apr/16 1:54 PM;557058:2dee8503-051b-4630-8a75-2c544524dce8;This is a task to add setup tests to dwh/reports - should probably be done using Lago.,27/Apr/16 4:06 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;[~accountid:557058:2340272a-264a-4662-9711-2e176c87c59a][~accountid:557058:75f9bb6c-1b9f-4049-bdd4-dbb844d24119] did we end up adding the dwh setup on ovirt-system-tests?,"27/Apr/16 4:14 AM;557058:2340272a-264a-4662-9711-2e176c87c59a;I did not try it yet, still trying to figure out the host install issue (working with mmucha right now as piotr is on a course this week)","27/Apr/16 12:49 PM;557058:75f9bb6c-1b9f-4049-bdd4-dbb844d24119;In 4.0, you are not supposed to - it's supposed to be part of the basic installation (for the dashboards to work).
In 3.6, we didn't - I would not bother with it right now.","27/Apr/16 12:50 PM;557058:75f9bb6c-1b9f-4049-bdd4-dbb844d24119;I'm closing as WONTFIX, because I don't think we should do it fo 3.6.x, and DWH installation is supposed to be part of the regular clean installation on 4.0.",,,,,,,,,,,,,Done
[jenkins] create new job checking dwh setup running on the same host running engine,OVIRT-177,10701,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,,Won't Fix,infra,557058:11f1b41b-2c35-4fdf-b282-1510ce705d4d,sbonazzo,557058:f1439f31-2508-4358-819a-d141330188ca,Former user,5be961e858a7de0de4d0527c,20/Jun/14 9:03 AM,25/May/17 6:30 AM,18/Feb/21 3:54 AM,03/Dec/15 4:08 AM,Test,ovirt-infra-dec-2015,oVirt CI,,,,,,0,,,,,"We're missing a job that install ovirt-engine and ovirt-engine-dwh and check that the setup works.
Job should be triggered at least on merge commit in ovirt-engine and ovirt-dwh projects including changes in file within packaging directory or spec changes",,,,,,,,,,,,,,,,,,,,,,,,,,{},,,178,,,,,,oVirt 3.5,,,,,,,Medium,0|i00133:,,,,,,Normal,,,,,,2014-07-02 13:16:59.105,,,"20/Jun/14 9:06 AM;557058:f1439f31-2508-4358-819a-d141330188ca;Update from previous stable should be also provided.
","02/Jul/14 8:16 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;this should be added by a dwh-setup maintainer, again \\- infra will help and assist with needed resources. otherwise this will have to wait until major/critical issues will be resolved 1st.
","03/Dec/15 4:08 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;closing due to inactivity and no plans from the maintianer to add it.
we might address this with a lago test",,,,,,,,,,,,,,,,Done
Jenkins and maven repos certs,OVIRT-175,10699,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,,Incomplete,infra,557058:11f1b41b-2c35-4fdf-b282-1510ce705d4d,stirabos,557058:285e87be-cd81-4ee0-9e32-4beab0a713d9,Former user,5be961e858a7de0de4d0527c,20/Jun/14 7:20 AM,25/May/17 6:30 AM,18/Feb/21 3:54 AM,07/Jul/14 10:55 AM,Test,Release closed issues,oVirt CI,,,,,,0,certs,"jenkins,","maven,",,"On a fedora19 VM ovirt-engine build is now failing to to the lack of trust for a CA used by one repo of maven dependencies.

This is the file that maven refuses to download:
https://oosnmp.net/dist/release/org/snmp4j/snmp4j/2.2.2/snmp4j-2.2.2.pom

Trying to manually download it with wget I'm getting the same error, to avoid it I need to manually add GeoTrust DV SSL CA into the list of trusted CA.

Jenkins instead is still building ovirt-engine without any problems cause it's probably using a local maven mirror and so it doesn't require that.
This generates a different behavior between Jenkins and another host.",,,,,,,,,,,,,,,,,,,,,,,,,,{},,,176,,,,,,oVirt 3.5,,,,,,,High,0|i0012n:,,,,,,Normal,,,,,,2014-07-02 12:44:26.108,,,"02/Jul/14 7:44 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;please provide link to failing job.
we have a local artifactory.ovirt.org proxy for the maven repos, so the job should use it,
","02/Jul/14 7:55 AM;557058:285e87be-cd81-4ee0-9e32-4beab0a713d9;The problem is different: that mvn repo is broken due to a cert problem and on my local setup it fails while Jenkins jobs run correctly. 

simply try 
wget https://oosnmp.net/dist/release/org/snmp4j/snmp4j/2.2.2/snmp4j-2.2.2.pom
on a fedora 19 machine
","07/Jul/14 10:55 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;seems to be fixed now.
",,,,,,,,,,,,,,,,Done
[gerrit] scale gerrit.ovirt.org to handle more requests,OVIRT-150,10674,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,,Won't Do,David Caro Estevez,557058:2340272a-264a-4662-9711-2e176c87c59a,Eyal Edri,557058:2dee8503-051b-4630-8a75-2c544524dce8,Former user,5be961e858a7de0de4d0527c,06/Jun/14 3:52 AM,08/May/16 11:09 AM,18/Feb/21 3:54 AM,18/Nov/15 7:52 AM,Test,ovirt-infra-dec-2015,Gerrit/git,,,,,,0,"gerrit,git,jenkins",,,,"lately the load on gerrit has increased, while serving more jenkins jobs and more users. 

use https://code.google.com/p/gerrit/wiki/Scaling as guideline and offload requests 
mostly from jenkins by mirroring to other servers.",,,,,,,,,,,,,,,,,,,,,,,,,,{},,,151,,,,,,oVirt 3.5,,,,,,,Low,0|i000x3:,,,,,,High,,,,,,2014-06-10 16:33:29.703,,,"10/Jun/14 11:33 AM;557058:9717902b-29aa-4529-9abc-72027f1d65ec;We should start soon with this, today a high load issue forced a restart of the services
","10/Jun/14 1:35 PM;557058:2dee8503-051b-4630-8a75-2c544524dce8;I agree, let me know if you need assistance, maybe we can setup mirrors on various places, like we did with the mirrors. 
","22/Jun/14 8:39 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;@david \\- after running git gc did we fixed the issue, or we still want to keep this to implement more scale options?

changing priority to lower, since the load issue was resolved with running period git GC.
http://jenkins.ovirt.org/view/System%20and%20Monitoring/job/system_gerrit-garbage-collect/
","18/Nov/15 7:51 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;we don't seem to need it anymore, one instance in enough for now.","18/Nov/15 7:52 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;no need to scale, we didn't encounter real perfomance issues, might have been a network
or service issue at that time.",,,,,,,,,,,,,,Done
[jenkins] create ovirt-engine setup+upgrade job from 3.4->3.5,OVIRT-145,10669,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,,Fixed,David Caro Estevez,557058:2340272a-264a-4662-9711-2e176c87c59a,Eyal Edri,557058:2dee8503-051b-4630-8a75-2c544524dce8,Former user,5be961e858a7de0de4d0527c,01/Jun/14 7:31 AM,25/May/17 6:30 AM,18/Feb/21 3:54 AM,27/Jun/14 12:40 PM,Test,Release closed issues,oVirt CI,,,,,,0,"jenkins,","ovirt-engine,upgrade",,,"we need to clone existing 3.3->3.4 upgrade job to run on 3.5.
job should use latest stable 3.4 rpms and upgrade to latest commit/patch of engine master.",,,,,,,,,,,,,,,,,,,,,,,,,,{},,,146,,,,,,oVirt 3.5,,,,,,,Blocker,0|i000vz:,,,,,,High,,,,,,2014-06-27 17:40:33.198,,,"22/Jun/14 8:42 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;changing priority to blocker, we need to push this towards 3.5.0 GA, coming fast.
","27/Jun/14 12:40 PM;557058:9717902b-29aa-4529-9abc-72027f1d65ec;Centos is failing on a known issue.
",,,,,,,,,,,,,,,,,Done
[nested][puppet] write puppet class to add support to run nested vms on bare-metal,OVIRT-142,10666,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,,Duplicate,obasan,557058:7d07db6e-dd47-425a-942a-5ad418218ab7,Eyal Edri,557058:2dee8503-051b-4630-8a75-2c544524dce8,Former user,5be961e858a7de0de4d0527c,29/May/14 6:30 AM,06/Jun/16 2:40 AM,18/Feb/21 3:54 AM,06/Jun/16 2:31 AM,Test,OVIRT-INFRA-MAY-2016,Puppet,,,,,,0,,,,,"nested vms can be run on bare metal servers running latest kernel (fedora19+).
in order to modify a server to be able to run them, some tweaks needs to be done.

write a puppet class that will enable a host to run nested vms.

http://www.ovirt.org/Vdsm_Developers#Running_Node_as_guest_-_Nested_KVM",,,,,,,,,,,,,,,,,,,,,,,phx2 lab deployment,,,{},OVIRT-403,,142,,,,,,phx2 lab ready,,,,,,,Medium,0|i000vb:,,,,,,Normal,,,,,,2014-05-31 23:00:01.364,,,"31/May/14 6:00 PM;557058:81815f9d-12b0-4bc1-baca-40e5d51e0b9a;According to the documentation, we need to change the grub configuration file. For a fedora 19 host, wouldn't it be simply dropping a file in /etc/modprobe.d/ , with the content :

{noformat}
options kvm-intel nested=1
{noformat}

In this case, the puppet class is trivial
{noformat}
class nested_kvm {
   file { ""/etc/modprobe.d/nested_kvm.conf"":
       content => ""options kvm-intel nested=1"",
   }
}
{noformat}
",06/Jun/16 2:31 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;already done .,,,,,,,,,,,,,,,,,Done
Add SSL support to artifactory.ovirt.org,OVIRT-138,10662,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,,Fixed,David Caro Estevez,557058:2340272a-264a-4662-9711-2e176c87c59a,jhernand,557058:9d782931-e3d6-4f4e-8064-326937670c71,Former user,5be961e858a7de0de4d0527c,19/May/14 8:04 AM,08/May/16 11:09 AM,18/Feb/21 3:54 AM,16/Dec/15 5:29 AM,Production,ovirt-infra-dec-2015,Repositories Mgmt,,,,,,0,,,,,Currently the access to artifactory.ovirt.org ins't protected with SSL. This means that login in poses the risk of passwords being stolen. Can we set up an Apache with SSL support?,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,138,,,,,,oVirt 4.0,,,,,,,Medium,0|i000uf:,,,,,,Normal,,,,,,2014-05-28 15:21:31.539,,,"28/May/14 10:21 AM;557058:9717902b-29aa-4529-9abc-72027f1d65ec;Do you mind taking care of this ticket? Let me know if you need anything (or if you can't).


Thanks\!
","28/May/14 5:21 PM;557058:81815f9d-12b0-4bc1-baca-40e5d51e0b9a;Sure, but I think I do not have access to the server ( ie, the root pass is not in the file ). I also think it is not in puppet, so maybe a first step would be to add it in puppet ?
","11/Aug/15 1:35 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;[~accountid:557058:cc1e0e66-9881-45e2-b0b7-ccaa3e60f26e] if you're installing new artifactory on phx, lets enable https there as well if we can..",04/Dec/15 9:32 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;[~accountid:557058:2340272a-264a-4662-9711-2e176c87c59a]where can we sign a certificate to get https enabled?,,,,,,,,,,,,,,,Done
[jenkins] Make build qualitative discriminate between infra issues and dev issues,OVIRT-125,10649,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,,Fixed,David Caro Estevez,557058:2340272a-264a-4662-9711-2e176c87c59a,David Caro Estevez,557058:2340272a-264a-4662-9711-2e176c87c59a,Former user,5be961e858a7de0de4d0527c,10/Mar/14 11:03 AM,08/May/16 11:09 AM,18/Feb/21 3:54 AM,07/Apr/14 9:46 AM,Production,Release closed issues,General,,,,,,0,,,,,"Find a way to separate infra issues from devel (logic) issues so we do not skip real problems thinking they were infra issues and the other way around, possible solutions:


 \\- Groovy scripts (fast, not scalable)
 \\- https://wiki.jenkins-ci.org/display/JENKINS/Build+Failure+Analyzer + groovy to set the result",,,,,,,,,,,,,,,,,,,,,,,,,,{},,,125,,,,,,oVirt 3.4,,,,,,,High,0|i000rj:,,,,,,Trivial,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Set default rpmbuild top dir to slave workspace,OVIRT-119,10643,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,,Fixed,David Caro Estevez,557058:2340272a-264a-4662-9711-2e176c87c59a,David Caro Estevez,557058:2340272a-264a-4662-9711-2e176c87c59a,Former user,5be961e858a7de0de4d0527c,26/Feb/14 6:49 AM,25/May/17 6:30 AM,18/Feb/21 3:54 AM,22/May/14 9:14 AM,Production,Release closed issues,oVirt CI,,,,,,0,,,,,"Modified the jobs that did create rpms out of their workspace since the ticket was opened, there might be more, but it's been a while without new issues.",,,,,,,,,,,,,,,,,,,,,,,,,,{},,,119,,,,,,oVirt 4.0,,,,,,,High,0|i000q7:,,,,,,Normal,,,,,,2014-04-13 14:46:11.602,,,"13/Apr/14 9:46 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;@david \\- was this resolved, or there are some jobs still pending the change?
",,,,,,,,,,,,,,,,,,Done
Make the gerrit hooks show output even when not failing,OVIRT-116,10640,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,,Fixed,David Caro Estevez,557058:2340272a-264a-4662-9711-2e176c87c59a,David Caro Estevez,557058:2340272a-264a-4662-9711-2e176c87c59a,Former user,5be961e858a7de0de4d0527c,12/Feb/14 9:46 AM,08/May/16 11:09 AM,18/Feb/21 3:54 AM,23/Feb/14 5:21 AM,Production,Release closed issues,General,,,,,,0,,,,,"Right now only when failing the hooks show the result, create a common framework to make them give feedback also when they do not fail.",,,,,,,,,,,,,,,,,,,,,,,,,,{},,,116,,,,,,oVirt 3.4,,,,,,,High,0|i000pj:,,,,,,Normal,,,,,,2014-02-23 11:21:57.123,,,"23/Feb/14 5:21 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;solved in latest hooks version: http://lists.ovirt.org/pipermail/infra/2014-February/005483.html
",,,,,,,,,,,,,,,,,,Done
improvements for our release process,OVIRT-99,10623,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,,Fixed,knesenko,557058:08c11604-afc0-463b-9ed2-11f32b35f029,danken,557058:e67d4b24-cc17-4c61-94b9-36410ce77005,Former user,5be961e858a7de0de4d0527c,03/Dec/13 5:43 AM,25/May/17 6:29 AM,18/Feb/21 3:54 AM,07/Apr/14 9:46 AM,Production,Release closed issues,oVirt Release Mgmt,,,,,,0,,,,,"Currently we release a version by putting its RPMs under http://resources.ovirt.org/releases. We should improve:

\\- publish tarballs and their sha1 hash, not only RPMs.
\\- build all RPMs in koji, not on a random development host.
\\- sign released RPMs and SRPMs.",,,,,,,,,,,,,,,,,,,,,,,,,,{},,,99,,,,,,oVirt 3.4,,,,,,,High,0|i000lr:,,,,,,Normal,,,,,,2013-12-03 14:11:34.62,,,"03/Dec/13 8:11 AM;557058:0d82fff2-7a2e-40b8-8055-23a414d51015;Need to add same support for dwh and reports as well.


Yaniv
","04/Dec/13 8:59 AM;557058:009e105b-6735-4d15-9363-edbfdc011b73;How is signing to be securely accomplished?  Is there an existing infrastructure for such?  Is there a counter-signed public key already up at the MIT keysevrer constellation for this usage

Also, of course, ** signed ** MD5SUM files for the shasums of the tarballs also makes sense
","13/Dec/13 3:17 AM;557058:6cab524a-424b-45c5-b07f-6a8a0d3697b8;Do we have a release checklist? I would like to ensure that we also have a checklist item for writing the release announcement email (notify Dave Neary and Brian Proffitt), and update web page with release announcement (front page, releases page, quick start page) \\- also regeneration of an oVirt Live image.
","23/Feb/14 5:31 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;kiril \\- can you update on latest progress on this issue, we added some significant new scripts for the build process.
","07/Apr/14 9:46 AM;557058:6f3682e1-272e-4e60-b698-bbbb5364a893;Done.

Please find all info http://www.ovirt.org/Download
",,,,,,,,,,,,,,Done
jenkins job for running vdsm functional tests,OVIRT-51,10575,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,,Fixed,Eyal Edri,557058:2dee8503-051b-4630-8a75-2c544524dce8,apuimedo,557058:697396f1-f20b-4335-9996-05607763d508,Former user,5be961e858a7de0de4d0527c,21/May/13 6:59 AM,25/May/17 6:30 AM,18/Feb/21 3:54 AM,13/Apr/14 9:50 AM,Test,Release closed issues,oVirt CI,,,,,,0,functional,jenkins,jobs,tests,"Vdsm currently has a growing set of functional tests that could use more usage by the developer base.

To increase the ease and frequency with which the functional tests are run, I would like to request the addition of jenkins jobs that run the separate functional tests modules. Having them as separate jobs would empower developers to trigger tests that are relevant to their patch sets so that on successful results, the confidence level of the maintainers would significantly increase, improving upon the meaning of the verified flag.",,,,,,,,,,,,,,,,,,,,,,,,,,{},,,51,,,,,,oVirt 3.3,,,,,,,High,0|i000b3:,,,,,,Normal,,,,,,2013-05-23 13:43:29.034,,,"23/May/13 8:43 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;which jenkins jobs are we talking about?
there are some power users in vdsm that has permissions to add jobs already.
","26/May/13 9:53 PM;557058:cc00e231-794c-415c-917f-4a0b1ace95fc;I sent mail to infra list to get an power user account to configure a job for functional tests. I got the account. Functional tests requires installing vdsm packages, starting/stopping vdsm service, and the code in the functional tests will add new NFS exports and iSCSI target to the system. All these need the root privilege for process running the functional tests, and the tests may mess up with the Jenkins slave (we are adding networking tests), so a conclusion is that we need a VM to run those tests. I just get a Jenkins account and need help on allocating a new VM.

Some suggestions are discussed in the mailing list on how to use VM to run the tests. The current solution in my lab is that boot a VM in snapshot mode when there is tests to run, if it's idle, shutdown it automatically. There is a Jenkins plugin (libvirt-slave) which can start/stop VM on demand.

Another suggestion is that in the job specification, start a VM and ssh to it, execute scripts to run functional tests then scp the results, at last shutdown the VM. I think this is a bit complicated, not as easy as using libvirt-slave plugin, because that plugin does exactly what we do in this solution to help managing VM and tests.

All the suggestions need ability to generate VM, now the infrastructure is on EC2 and linode (I guess), and we do not have this ability. I'd wait till we can generate VM and re-raise the discussion.
","29/May/13 7:48 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;we're nearing the point where we'll have more slaves to use for jenkins slaves.
so hopefully we'll be able to support it soon.
","06/Jun/13 5:07 AM;557058:cc00e231-794c-415c-917f-4a0b1ace95fc;Looks like http://fedoraproject.org/wiki/Features/SystemdLightweightContainers can be used to test VDSM.
","18/Jun/13 8:55 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;OK.

we're planning to upgrade our fedora 17 slave to f19, we can check it then.
","01/Sep/13 10:08 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;current job was added for networking functional tests:

http://jenkins.ovirt.org/job/vdsm_functional_tests/
","13/Apr/14 9:50 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;closing this ticket, since jobs are being manged and maintained by vdsm developers.
if there is any specific request on a job, please open a new ticket.
",,,,,,,,,,,,Done
www.ovirt.org doesn't have a monitoring to check if it's up/down,OVIRT-48,10572,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,,Fixed,David Caro Estevez,557058:2340272a-264a-4662-9711-2e176c87c59a,abonas,557058:81bba7b4-5d3a-4a1f-ba04-e7eb288626d4,Former user,5be961e858a7de0de4d0527c,12/May/13 8:47 AM,08/May/16 11:09 AM,18/Feb/21 3:54 AM,03/Dec/15 7:54 AM,Production,ovirt-infra-dec-2015,wiki (MediaWiki),,,,,,0,,,,,"www.ovirt.org  (oVirt wiki) doesn't have a monitoring to check if it's up/down.
Currently when the site is slow/down, the users are the one to discover it.
It's much better to have automatic monitoring to alert when there's a slowdown in response or the site is completely down and notify the responsible team.",,,,,,,,,,,,,,,,,,,,,,,,,,{},,,48,,,,,,oVirt 3.6,,,,,,,Medium,0|i000af:,,,,,,High,,,,,,2013-06-02 09:17:44.316,,,"02/Jun/13 4:17 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;can we add it to monitoring.ovirt.org? 
","02/Jun/13 4:43 AM;557058:c5c833a6-7b70-4bd8-88ac-ed15843d81f4;Need to puppetize all the machine first with nrpe and nagios plugins
","01/Jul/13 9:53 AM;557058:6cab524a-424b-45c5-b07f-6a8a0d3697b8;In general (changing topic & priority) we need to have monitoring of all ovirt.org services, with notifications and documentation on how to restart services that go down, where they're hosted, etc.

For example, there is a bot on resources.ovirt.org which notifies the IRC channel when there has been a wiki edit, and the service is down, causing error messages in the error log of the web server.

The services which require monitoring and ocumentation are: 
* Wiki on www.ovirt.org
* Wiki bot on resources.ovirt.org
* Gerrit on resources.ovirt.org
* resources.ovirt.org in general (file downloads/uploads \\- esp. disk space alert)
* Jenkins on alterway01
* Jenkins slaves
* Mailman on resources.ovirt.org
* Git server (same host as Gerrit?)
* Etherpad instance (hosted where?)
* Any other services?

For each service we need:
* Who is an admin for the service
* How to (re)start the service if it's down
* Where it's installed (hostname/path/service name/config file location)
* Where its log files are situated

All this should be documented ideally in the wiki.

","11/Nov/13 10:53 AM;557058:009e105b-6735-4d15-9363-edbfdc011b73;ticket filed to get into Fedora / EPEL

https://bugzilla.redhat.com/show_bug.cgi?id=1029087
","31/Mar/14 9:55 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;david, can you update which services are currently being monitored and what we are missing?
","23/Apr/14 8:08 AM;557058:6cab524a-424b-45c5-b07f-6a8a0d3697b8;I have been using UptimeRobot to check whether oVirt is up or down: http://uptimerobot.com/ \\- I will happily add anyone who wants to be notified of outages to the monitor.
","02/Jul/14 8:02 AM;557058:81815f9d-12b0-4bc1-baca-40e5d51e0b9a;I do not have access to icinga , but we have the list of services on http://etherpad.ovirt.org/p/service_list_ovirt

I can for sure match them, provided I can modify icinga :)

In a ideal world, puppet should declare them on nagios automatically, but not for now and not for openshift.
",03/Dec/15 7:54 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;we have monitoring via icinga. (monitoring.ovirt.org),,,,,,,,,,,Done
Source code syntax highlight support in ovirt.org MediaWiki,OVIRT-32,10556,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,,Won't Fix,infra,557058:11f1b41b-2c35-4fdf-b282-1510ce705d4d,vszocs,557058:331493f1-77a5-4b68-a998-bc7fa1cc8af9,Former user,5be961e858a7de0de4d0527c,18/Jan/13 8:35 AM,08/May/16 11:09 AM,18/Feb/21 3:54 AM,03/Dec/15 4:00 AM,,ovirt-infra-dec-2015,wiki (MediaWiki),,,,,,0,,,,,"It would be great if MediaWiki that powers ovirt.org supported source code syntax highlighting. This would improve readability of wiki pages that include source code snippets in various languages or formats.

The easiest way to do this is via MediaWiki extensions, e.g. http://www.mediawiki.org/wiki/Extension:SyntaxHighlight_GeSHi.",,,,,,,,,,,,,,,,,,,,,,,,,,{},,,32,,,,,,Handwavy Future,,,,,,,Low,0|i0006v:,,,,,,Trivial,,,,,,2013-07-29 14:45:26.166,,,"29/Jul/13 9:45 AM;557058:69367e78-8177-4337-adb4-f653e2926ba4;Since mediawiki 1.21 this is bundled: http://lists.wikimedia.org/pipermail/mediawiki-l/2013-May/041231.html.
","31/Jul/13 10:03 AM;557058:331493f1-77a5-4b68-a998-bc7fa1cc8af9;Replying to [ekohl|comment:1]:
> Since mediawiki 1.21 this is bundled: http://lists.wikimedia.org/pipermail/mediawiki-l/2013-May/041231.html.

Which MediaWiki version are we using? Is ""SyntaxHighlight GeSHi"" extension is installed and active?

I've tried to edit wiki page and use <syntaxhighlight> tag, it doesn't work.
","31/Jul/13 10:05 AM;557058:69367e78-8177-4337-adb4-f653e2926ba4;Replying to [vszocs|comment:2]:
> Replying to [ekohl|comment:1]:
> > Since mediawiki 1.21 this is bundled: http://lists.wikimedia.org/pipermail/mediawiki-l/2013-May/041231.html.
> 
> Which MediaWiki version are we using? Is ""SyntaxHighlight GeSHi"" extension is installed and active?

I don't exactly know which one, but I doubt 1.21 so I don't think this is fixed. I was pointing it out that we can also try to just upgrade to 1.21.
","31/Jul/13 12:44 PM;557058:331493f1-77a5-4b68-a998-bc7fa1cc8af9;I agree, it would probably be better to just upgrade MediaWiki then.
","03/Dec/15 4:00 AM;557058:2dee8503-051b-4630-8a75-2c544524dce8;we are moving out of media wiki quite soon into github style pages.
there it will be much easier.",,,,,,,,,,,,,,Done
Automate git push of all repos to github.com,OVIRT-8,10532,New Feature,Done,OVIRT,oVirt - virtualization made easy,software,Anton Marchukov,557058:5ca52a09-2675-4285-a044-12ad20f6166a,"oVirt is a virtualization management application. That means that you can use the oVirt management interface ( the oVirt engine) to manage hardware nodes, storage and network resources, and to deploy and monitor virtual machines running in your data center.",http://www.ovirt.org,,Fixed,infra,557058:11f1b41b-2c35-4fdf-b282-1510ce705d4d,quaid,557058:9e2f37e4-ac2d-47bb-a0ac-0b9d6374524a,Former user,5be961e858a7de0de4d0527c,15/Oct/12 10:48 AM,08/May/16 11:09 AM,18/Feb/21 3:54 AM,29/Oct/12 10:58 AM,Production,Release closed issues,Gerrit/git,,,,,,0,,,,,We need a daily cronjob on git.ovirt.org to automate the push of all repos to their mirrors on github.com.,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,8,,,,,,Handwavy Future,,,,,,,High,0|i0001j:,,,,,,Trivial,,,,,,2012-10-24 20:32:02.519,,,"24/Oct/12 3:32 PM;557058:e67d4b24-cc17-4c61-94b9-36410ce77005;How about adding a post-receive hook to do this constantly, after every change in a repo? Would it eat too much bandwidth?
","25/Oct/12 4:24 AM;557058:ead805ec-45f9-42ee-82e7-5bd2ad11bc28;really no need for any of this. gerrit does this out of the box.
just need to decide if to the current mirror[1], or the older ovirt one[2]

I started working with mburns on using the latter, last AI i remember was for mburns to add the gerrit ssh to be able to mirror to it.

[1] https://github.com/gerrit-ovirt-org/ovirt-engine
[2] https://github.com/ovirt
","26/Oct/12 5:58 AM;557058:e8c31ec7-a902-4912-a19a-b7713e9b7f4b;I added the gerrit-ovirt-org user to the oVirt organization.  Itamar, you should be all set to setup the push there.

Mike
","27/Oct/12 6:15 AM;557058:ead805ec-45f9-42ee-82e7-5bd2ad11bc28;I have.
please check it looks fine and we can close this ticket (and the gerrit-ovirt-org project in github)
",,,,,,,,,,,,,,,Done
